!function(a){a.jqx=a.jqx||{},a.jqx.define=function(a,b,c){a[b]=function(){this.baseType&&(this.base=new a[this.baseType],this.base.defineInstance()),this.defineInstance()},a[b].prototype.defineInstance=function(){},a[b].prototype.base=null,a[b].prototype.baseType=void 0,c&&a[c]&&(a[b].prototype.baseType=c)},a.jqx.invoke=function(b,c){if(0!=c.length){for(var d=typeof c==Array||c.length>0?c[0]:c,e=typeof c==Array||c.length>1?Array.prototype.slice.call(c,1):a({}).toArray();void 0==b[d]&&null!=b.base;)b=b.base;if(void 0!=b[d]&&a.isFunction(b[d]))return b[d].apply(b,e);if("string"==typeof d){var f=d.toLowerCase();return b[f].apply(b,e)}}},a.jqx.hasFunction=function(b,c){if(0==c.length)return!1;if(void 0==b)return!1;var d=typeof c==Array||c.length>0?c[0]:c;for(typeof c==Array||c.length>1?Array.prototype.slice.call(c,1):{};void 0==b[d]&&null!=b.base;)b=b.base;if(b[d]&&a.isFunction(b[d]))return!0;if("string"==typeof d){var e=d.toLowerCase();if(b[e]&&a.isFunction(b[e]))return!0}return!1},a.jqx.isPropertySetter=function(a){return 2==a.length?!0:1==a.length&&"object"==typeof a[0]},a.jqx.set=function(b,c){if(1==c.length&&"object"==typeof c[0])a.each(c[0],function(c,d){for(var e=b;void 0==e[c]&&null!=e.base;)e=e.base;(void 0!=e[c]||null==e[c])&&a.jqx.setvalueraiseevent(e,c,d)});else if(2==c.length){for(;void 0==b[c[0]]&&b.base;)b=b.base;(void 0!=b[c[0]]||null==b[c[0]])&&a.jqx.setvalueraiseevent(b,c[0],c[1])}},a.jqx.setvalueraiseevent=function(a,b,c){var d=a[b];a[b]=c,a.isInitialized&&(void 0!=a.propertyChangedHandler&&a.propertyChangedHandler(a,b,d,c),void 0!=a.propertyChangeMap&&void 0!=a.propertyChangeMap[b]&&a.propertyChangeMap[b](a,b,d,c))},a.jqx.get=function(a,b){if(void 0==b||null==b)return void 0;if(void 0!=a[b])return a[b];if(1!=b.length)return void 0;for(;void 0==a[b[0]]&&a.base;)a=a.base;return void 0!=a[b[0]]?a[b[0]]:void 0},a.jqx.jqxWidgetProxy=function(b,c,d){a(c);var e=a.data(c,b);if(void 0==e)return void 0;var f=e.instance;if(a.jqx.hasFunction(f,d))return a.jqx.invoke(f,d);if(a.jqx.isPropertySetter(d))return a.jqx.set(f,d),void 0;if("object"!=typeof d||0!=d.length){if("object"==typeof d&&d.length>0)return a.jqx.get(f,d[0]);if("string"==typeof d)return a.jqx.get(f,d);throw"jqxCore: Property or method does not exist."}},a.jqx.jqxWidget=function(b,c,d){var e=!1;try{jqxArgs=Array.prototype.slice.call(d,0)}catch(f){jqxArgs=""}try{e=void 0!=window.MSApp}catch(f){}var g=b,h="";c&&(h="_"+c),a.jqx.define(a.jqx,"_"+g,h),a.fn[g]=function(){var b=Array.prototype.slice.call(arguments,0),c=null;return 0==b.length||1==b.length&&"object"==typeof b[0]?this.each(function(){var d=a(this),f=this,h=a.data(f,g);if(null==h){h={},h.element=f,h.host=d,h.instance=new a.jqx["_"+g],""==f.id&&(f.id=a.jqx.utilities.createId()),h.instance.get=h.instance.set=h.instance.call=function(){var b=Array.prototype.slice.call(arguments,0);return a.jqx.jqxWidgetProxy(g,f,b)},a.data(f,g,h),a.data(f,"jqxWidget",h.instance);for(var i=new Array,j=h.instance;j;)j.isInitialized=!1,i.push(j),j=j.base;i.reverse(),i[0].theme="",a.jqx.jqxWidgetProxy(g,this,b);for(var k in i)j=i[k],0==k&&(j.host=d,j.element=f,j.WinJS=e),void 0!=j&&null!=j.createInstance&&(e?MSApp.execUnsafeLocalFunction(function(){j.createInstance(b)}):j.createInstance(b));for(var k in i)void 0!=i[k]&&(i[k].isInitialized=!0);e?MSApp.execUnsafeLocalFunction(function(){h.instance.refresh(!0)}):h.instance.refresh(!0),c=this}else a.jqx.jqxWidgetProxy(g,this,b)}):(this.each(function(){var d=a.jqx.jqxWidgetProxy(g,this,b);null==c&&(c=d)}),c)};try{a.extend(a.jqx["_"+g].prototype,Array.prototype.slice.call(d,0)[0])}catch(f){}a.extend(a.jqx["_"+g].prototype,{toThemeProperty:function(a,b){return""==this.theme?a:null!=b&&b?a+"-"+this.theme:a+" "+a+"-"+this.theme}}),a.jqx["_"+g].prototype.refresh=function(){this.base&&this.base.refresh()},a.jqx["_"+g].prototype.createInstance=function(){},a.jqx["_"+g].prototype.propertyChangeMap={},a.jqx["_"+g].prototype.addHandler=function(b,c,d,e){switch(c){case"mousewheel":if(window.addEventListener)return a.jqx.browser.mozilla?b[0].addEventListener("DOMMouseScroll",d,!1):b[0].addEventListener("mousewheel",d,!1),!1;break;case"mousemove":if(window.addEventListener&&!e)return b[0].addEventListener("mousemove",d,!1),!1}void 0==e||null==e?b.bind(c,d):b.bind(c,e,d)},a.jqx["_"+g].prototype.removeHandler=function(b,c,d){switch(c){case"mousewheel":if(window.removeEventListener)return a.jqx.browser.mozilla?b[0].removeEventListener("DOMMouseScroll",d,!1):b[0].removeEventListener("mousewheel",d,!1),!1;break;case"mousemove":a.jqx.browser.msie&&a.jqx.browser.version>=9&&window.removeEventListener&&b[0].removeEventListener("mousemove",d,!1)}return void 0==c?(b.unbind(),void 0):(void 0==d?b.unbind(c):b.unbind(c,d),void 0)}},a.jqx.utilities=a.jqx.utilities||{},a.extend(a.jqx.utilities,{createId:function(){var a=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return"jqxWidget"+a()+a()+a()},setTheme:function(b,c,d){if("undefined"!=typeof d){for(var e=d[0].className.split(" "),f=[],g=[],h=d.children(),i=0;i<e.length;i+=1)e[i].indexOf(b)>=0&&(b.length>0?(f.push(e[i]),g.push(e[i].replace(b,c))):g.push(e[i]+"-"+c));this._removeOldClasses(f,d),this._addNewClasses(g,d);for(var i=0;i<h.length;i+=1)this.setTheme(b,c,a(h[i]))}},_removeOldClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.removeClass(a[c])},_addNewClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.addClass(a[c])},getOffset:function(b){var c=a.jqx.mobile.getLeftPos(b[0]),d=a.jqx.mobile.getTopPos(b[0]);return{top:d,left:c}},hasTransform:function(b){var c="";if(c=b.css("transform"),""==c||"none"==c){if(c=b.parents().css("transform"),""!=c&&"none"!=c)return""!=c&&"none"!=c;var d=a.jqx.utilities.getBrowser();"msie"==d.browser?(c=b.css("-ms-transform"),(""==c||"none"==c)&&(c=b.parents().css("-ms-transform"))):"chrome"==d.browser?(c=b.css("-webkit-transform"),(""==c||"none"==c)&&(c=b.parents().css("-webkit-transform"))):"opera"==d.browser?(c=b.css("-o-transform"),(""==c||"none"==c)&&(c=b.parents().css("-o-transform"))):"mozilla"==d.browser&&(c=b.css("-moz-transform"),(""==c||"none"==c)&&(c=b.parents().css("-moz-transform")))}return(""==c||"none"==c)&&(c=a(document.body).css("transform")),""!=c&&"none"!=c&&null!=c},getBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],c={browser:b[1]||"",version:b[2]||"0"};return c[b[1]]=b[1],c}}),a.jqx.browser=a.jqx.utilities.getBrowser(),a.jqx.mobile=a.jqx.mobile||{},a.extend(a.jqx.mobile,{_touchListener:function(a){var b=function(a,b){var c=document.createEvent("MouseEvents");return c.initMouseEvent(a,b.bubbles,b.cancelable,b.view,b.detail,b.screenX,b.screenY,b.clientX,b.clientY,b.ctrlKey,b.altKey,b.shiftKey,b.metaKey,b.button,b.relatedTarget),c._pageX=b.pageX,c._pageY=b.pageY,c},c={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},d=b(c[a.type],a);a.target.dispatchEvent(d);var e=a.target["on"+c[a.type]];"function"==typeof e&&e(a)},setMobileSimulator:function(b,c){if(!this.isTouchDevice()){this.simulatetouches=!0,0==c&&(this.simulatetouches=!1);var d={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},e=this;if(window.addEventListener){var f=function(){for(var a in d)b.addEventListener&&(b.removeEventListener(a,e._touchListener),b.addEventListener(a,e._touchListener,!1))};a.jqx.browser.msie?f():window.addEventListener("load",function(){f()},!1)}}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var a="Browser CodeName: "+navigator.appCodeName;if(a+="Browser Name: "+navigator.appName,a+="Browser Version: "+navigator.appVersion,a+="Platform: "+navigator.platform,a+="User-agent header: "+navigator.userAgent,-1!=a.indexOf("Android"))return!0;if(-1!=a.indexOf("IEMobile"))return!0;if(-1!=a.indexOf("Windows Phone OS"))return!0;if(-1!=a.indexOf("Windows Phone 6.5"))return!0;if(-1!=a.indexOf("BlackBerry")&&-1!=a.indexOf("Mobile Safari"))return!0;if(-1!=a.indexOf("ipod"))return!0;if(-1!=a.indexOf("nokia")||-1!=a.indexOf("Nokia"))return!0;if(-1!=a.indexOf("Chrome/17"))return!1;if(-1!=a.indexOf("Opera")&&-1==a.indexOf("Mobi")&&-1==a.indexOf("Mini")&&-1!=a.indexOf("Platform: Win"))return!1;try{return void 0!=this.touchDevice?this.touchDevice:(this.touchDevice=!0,document.createEvent("TouchEvent"),!0)}catch(b){return this.touchDevice=!1,!1}},getLeftPos:function(a){for(var b=a.offsetLeft;null!=(a=a.offsetParent);)"HTML"!=a.tagName&&(b+=a.offsetLeft,document.all&&(b+=a.clientLeft));return b},getTopPos:function(b){for(var c=b.offsetTop;null!=(b=b.offsetParent);)"HTML"!=b.tagName&&(c+=b.offsetTop-b.scrollTop,document.all&&(c+=b.clientTop));if(this.isSafariMobileBrowser()){if(this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser())return c;c+=a(window).scrollTop()}return c},isChromeMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("android");return b},isOperaMiniMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("opera mini")||-1!=a.indexOf("opera mobi");return b},isOperaMiniBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("opera mini");return b},isNewSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b=b&&-1!=a.indexOf("version/5")},isSafari4MobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b=b&&-1!=a.indexOf("version/4")},isWindowsPhone:function(){var a=navigator.userAgent.toLowerCase(),b=(-1!=a.indexOf("msie 11")||-1!=a.indexOf("msie 10"))&&-1!=a.indexOf("touch");return b},isSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b},isIPhoneSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("iphone");return b},isIPadSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad");return b},isMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("android");return b},getTouches:function(a){if(a.originalEvent){if(a.originalEvent.touches&&a.originalEvent.touches.length)return a.originalEvent.touches;if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)return a.originalEvent.changedTouches}return a.touches||(a.touches=new Array,a.touches[0]=void 0!=a.originalEvent?a.originalEvent:a,void 0!=a.originalEvent&&a.pageX&&(a.touches[0]=a),"mousemove"==a.type&&(a.touches[0]=a)),a.touches},getTouchEventName:function(a){return this.isWindowsPhone()?-1!=a.toLowerCase().indexOf("start")?"MSPointerDown":-1!=a.toLowerCase().indexOf("move")?"MSPointerMove":-1!=a.toLowerCase().indexOf("end")?"MSPointerUp":void 0:a},dispatchMouseEvent:function(a,b,c){if(!this.simulatetouches){var d=document.createEvent("MouseEvent");d.initMouseEvent(a,!0,!0,b.view,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),null!=c&&c.dispatchEvent(d)}},getRootNode:function(a){for(;1!==a.nodeType;)a=a.parentNode;return a},setTouchScroll:function(a,b){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[b]=a},touchScroll:function(b,c,d,e){if(null!=b){var f=this,g=0,h=0,i=0,j=0,k=0,l=0;this.scrolling||(this.scrolling=[]),this.scrolling[e]=!1;var m=!1,n=a(b),o=["select","input","textarea"],p=0;this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[e]=!0;var e=e,q=this.getTouchEventName("touchstart")+".touchScroll",r=this.getTouchEventName("touchend")+".touchScroll",s=this.getTouchEventName("touchmove")+".touchScroll";if(n.bind(q,function(b){if(!f.enableScrolling[e])return!0;if(-1===a.inArray(b.target.tagName.toLowerCase(),o)){var c=f.getTouches(b),d=c[0];return 1==c.length&&f.dispatchMouseEvent("mousedown",d,f.getRootNode(d.target)),m=!1,h=d.pageY,k=d.pageX,f.simulatetouches&&(h=d._pageY,k=d._pageX),f.scrolling[e]=!0,g=0,j=0,!0}}),n.bind(s,function(a){if(!f.enableScrolling[e])return!0;if(!f.scrolling[e])return!0;var b=f.getTouches(a);if(b.length>1)return!0;var c=b[0].pageY,n=b[0].pageX;f.simulatetouches&&(c=b[0]._pageY,n=b[0]._pageX);var o=c-h,q=n-k;return p=c,touchHorizontalEnd=n,i=o-g,l=q-j,m=!0,g=o,j=q,d(3*-l,3*-i,q,o,a),a.preventDefault(),a.stopPropagation(),a.preventManipulation&&a.preventManipulation(),!1}),this.simulatetouches){if(a(window).bind("mouseup.touchScroll",function(){f.scrolling[e]=!1}),window.frameElement&&null!=window.top){var t=function(){f.scrolling[e]=!1};window.top.document.addEventListener?(window.top.document.removeEventListener("mouseup",t,!1),window.top.document.addEventListener("mouseup",t,!1)):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",t)}a(document).bind("touchend",function(a){if(!f.scrolling[e])return!0;f.scrolling[e]=!1;var b=f.getTouches(a)[0],c=f.getRootNode(b.target);f.dispatchMouseEvent("mouseup",b,c),f.dispatchMouseEvent("click",b,c)})}n.bind(r+" touchcancel.touchScroll",function(a){if(!f.enableScrolling[e])return!0;var b=f.getTouches(a)[0];if(!f.scrolling[e])return!0;if(f.scrolling[e]=!1,!m){var b=f.getTouches(a)[0],c=f.getRootNode(b.target);return f.dispatchMouseEvent("mouseup",b,c),f.dispatchMouseEvent("click",b,c),!0}f.dispatchMouseEvent("mouseup",b,c)})}}}),a.jqx.cookie=a.jqx.cookie||{},a.extend(a.jqx.cookie,{cookie:function(a,b,c){if(arguments.length>1&&"[object Object]"!==String(b)){if(c=jQuery.extend({},c),(null===b||void 0===b)&&(c.expires=-1),"number"==typeof c.expires){var d=c.expires,e=c.expires=new Date;e.setDate(e.getDate()+d)}return b=String(b),document.cookie=[encodeURIComponent(a),"=",c.raw?b:encodeURIComponent(b),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}c=b||{};var f,g=c.raw?function(a){return a}:decodeURIComponent;return(f=new RegExp("(?:^|; )"+encodeURIComponent(a)+"=([^;]*)").exec(document.cookie))?g(f[1]):null}}),a.jqx.string=a.jqx.string||{},a.extend(a.jqx.string,{contains:function(a,b){return null==a||null==b?!1:-1!=a.indexOf(b)},containsIgnoreCase:function(a,b){return null==a||null==b?!1:-1!=a.toUpperCase().indexOf(b.toUpperCase())},equals:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),b.length==a.length?a.slice(0,b.length)==b:!1)},equalsIgnoreCase:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),b.length==a.length?a.toUpperCase().slice(0,b.length)==b.toUpperCase():!1)},startsWith:function(a,b){return null==a||null==b?!1:a.slice(0,b.length)==b},startsWithIgnoreCase:function(a,b){return null==a||null==b?!1:a.toUpperCase().slice(0,b.length)==b.toUpperCase()},normalize:function(a){return 65279==a.charCodeAt(a.length-1)&&(a=a.substring(0,a.length-1)),a},endsWith:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),a.slice(-b.length)==b)},endsWithIgnoreCase:function(a,b){return null==a||null==b?!1:(a=this.normalize(a),a.toUpperCase().slice(-b.length)==b.toUpperCase())}}),a.extend(jQuery.easing,{easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c}})}(jQuery),function(a){a.fn.extend({ischildof:function(b){var c=a(this).parents().get();for(j=0;j<c.length;j++)if(a(c[j]).is(b))return!0;return!1}})}(jQuery),function(a){a.jqx.dataAdapter=function(b,c){if(this._source=b,this._options=c||{},this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,1==this._options.autoBind&&this.dataBind(),void 0!=b&&null!=b.localdata&&"function"==typeof b.localdata){var d=b.localdata();if(null!=d){b._localdata=b.localdata;var e=this;b._localdata.subscribe&&(e._oldlocaldata=[],b._localdata.subscribe(function(b){var c=function(b){return jQuery.isArray(b)?jQuery.makeArray(c(a(b))):jQuery.extend(!0,{},b)};e._oldlocaldata=c(b)},b._localdata,"beforeChange"),b._localdata.subscribe(function(a){if(0==e.suspendKO||void 0==e.suspendKO){var c="";e._oldrecords=e.records,0==e._oldlocaldata.length&&(b.localdata=b._localdata()),0==e._oldlocaldata.length?c="change":(e._oldlocaldata.length==a.length&&(c="update"),e._oldlocaldata.length>a.length&&(c="remove"),e._oldlocaldata.length<a.length&&(c="add")),e.dataBind(null,c)}},b._localdata,"change"),e._knockoutdatasource=!0),b.localdata=d}}},a.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(a){this.isUpdating=!1,0!=a&&this.dataBind(null,"")},dataBind:function(b,c){if(1!=this.isUpdating){var d=this._source;if(d){null!=d.dataFields&&(d.datafields=d.dataFields),void 0==d.recordstartindex&&(d.recordstartindex=0),void 0==d.recordendindex&&(d.recordendindex=0),void 0==d.loadallrecords&&(d.loadallrecords=!0),void 0!=d.sort&&(this.sort=d.sort),this.filter=void 0!=d.filter?d.filter:null,void 0!=d.sortcolumn&&(this.sortcolumn=d.sortcolumn),void 0!=d.sortdirection&&(this.sortdirection=d.sortdirection),void 0!=d.sortcomparer&&(this.sortcomparer=d.sortcomparer),this.records=new Array;var e=this._options||{};if(this.virtualmode=void 0!=e.virtualmode?e.virtualmode:!1,this.totalrecords=void 0!=e.totalrecords?e.totalrecords:0,this.pageable=void 0!=e.pageable?e.pageable:!1,this.pagesize=void 0!=e.pagesize?e.pagesize:0,this.pagenum=void 0!=e.pagenum?e.pagenum:0,this.cachedrecords=void 0!=e.cachedrecords?e.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=void 0!=e.updaterow?e.updaterow:null,this.addrow=void 0!=e.addrow?e.addrow:null,this.deleterow=void 0!=e.deleterow?e.deleterow:null,this.cache=void 0!=e.cache?e.cache:!0,this.unboundmode=!1,this.mapChar=void 0!=d.mapchar?d.mapchar?d.mapchar:">":e.mapChar?e.mapChar:">",(e.unboundmode||d.unboundmode)&&(this.unboundmode=e.unboundmode||d.unboundmode),void 0!=d.cache&&(this.cache=d.cache),this.koSubscriptions)for(var f=0;f<this.koSubscriptions.length;f++)this.koSubscriptions[f].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var g=this,h=d.datatype;("csv"===d.datatype||"tab"===d.datatype||"text"==d.datatype)&&(h="text");var i=void 0!=e.async?e.async:!0;switch(void 0!=d.async&&(i=d.async),h){case"local":case"array":case"observablearray":default:if(void 0==d.localdata&&d.length){d.localdata=new Array;for(var j=0;j<d.length;j++)d.localdata[d.localdata.length]=d[j]}var k=d.localdata.length;if(this.totalrecords=this.virtualmode?d.totalrecords||k:k,this.unboundmode){this.totalrecords=this.unboundmode?d.totalrecords||k:k;var l=d.datafields?d.datafields.length:0;if(l>0)for(var j=0;j<this.totalrecords;j++){for(var m={},n=0;l>n;n++)m[d.datafields[n].name]="";d.localdata[d.localdata.length]=m}}void 0==this.totalrecords&&(this.totalrecords=0);var l=d.datafields?d.datafields.length:0,o=function(a,b){for(var c={},e=0;b>e;e++){var f=d.datafields[e],h="";if(void 0!=f&&null!=f){if(f.map){var i=f.map.split(g.mapChar);if(i.length>0){for(var j=a,k=0;k<i.length;k++)j=j[i[k]];h=j}else h=a[f.map];h=void 0!=h&&null!=h?h.toString():""}""==h&&(h=a[f.name],h=void 0!=h&&null!=h?d._localdata&&h.subscribe?h():h.toString():""),h=g.getvaluebytype(h,f),void 0!=f.displayname?c[f.displayname]=h:c[f.name]=h}}return c};if(d._localdata){this._changedrecords=[],this.records=new Array;var p=d._localdata();if(a.each(p,function(b,e){if("string"==typeof e)g.records.push(e);else{var f={},h=0;for(var i in this){var j=null,k="string";if(l>0){for(var m=!1,n=0;l>n;n++){var o=d.datafields[n];if(void 0!=o&&o.name==i){m=!0,j=o.map,k=o.type;break}}if(!m)continue}var p=a.isFunction(this[i]);if(p){var e=this[i]();"string"!=k&&(e=g.getvaluebytype(e,{type:k})),f[i]=e,this[i].subscribe&&(g.koSubscriptions[g.koSubscriptions.length]=this[i].subscribe(function(){return g.dataBind(null,null),!1}))}else{var e=this[i];if(null!=j){var q=j.split(g.mapChar);if(q.length>0){for(var r=this,s=0;s<q.length;s++)r=r[q[s]];e=r}else e=this[j]}"string"!=k&&(e=g.getvaluebytype(e,{type:k})),f[i]=e,void 0!=f[i]&&(h+=f[i].toString().length+f[i].toString().substr(0,1))}}if(g.records.push(f),f._koindex=h,g._oldrecords){var t=g.records.length-1;if("update"==c&&g._oldrecords[t]._koindex!=h){var u={index:t,oldrecord:g._oldrecords[t],record:f};g._changedrecords.push(u)}}}}),"add"==c)for(var k=g.records.length,j=0;k>j;j++){var m=g.records[j];g._oldrecords[j]?g._oldrecords[j]._koindex!=m._koindex&&g._changedrecords.push({index:j,oldrecord:null,record:m}):g._changedrecords.push({index:j,oldrecord:null,record:m})}else if("remove"==c)for(var k=g._oldrecords.length,j=0;k>j;j++){var q=g._oldrecords[j];g.records[j]?g.records[j]._koindex!=q._koindex&&g._changedrecords.push({index:j,oldrecord:q,record:null}):g._changedrecords.push({index:j,oldrecord:q,record:null})}}else a.isArray(d.localdata)?0==l?this.records=d.localdata:a.each(d.localdata,function(){var a=this,b=o(a,l);g.records[g.records.length]=b}):(this.records=new Array,a.each(d.localdata,function(){if(l>0){var a=this,b=o(a,l);g.records[g.records.length]=b}else g.records[g.records.length]=this}));if(this.originaldata=d.localdata,this.cachedrecords=this.records,e.uniqueDataFields){var r=this.getUniqueRecords(this.records,e.uniqueDataFields);this.records=r,this.cachedrecords=r}if(e.beforeLoadComplete){var s=e.beforeLoadComplete(g.records,this.originaldata);void 0!=s&&(g.records=s,g.cachedrecords=s)}a.isFunction(e.loadComplete)&&e.loadComplete(d.localdata);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":if(null!=d.localdata){if(a.isFunction(d.beforeprocessing)&&d.beforeprocessing(d.localdata),"xml"===d.datatype?g.loadxml(d.localdata,d.localdata,d):"text"===h?g.loadtext(d.localdata,d):g.loadjson(d.localdata,d.localdata,d),e.uniqueDataFields){var r=g.getUniqueRecords(g.records,e.uniqueDataFields);g.records=r,g.cachedrecords=r}return a.isFunction(e.loadComplete)&&e.loadComplete(d.localdata),void 0}var t=void 0!=e.data?e.data:{};if(d.processdata&&d.processdata(t),a.isFunction(e.processData)&&e.processData(t),a.isFunction(e.formatData)){var u=e.formatData(t);void 0!=u&&(t=u)}var v="application/x-www-form-urlencoded";e.contentType&&(v=e.contentType);var w="GET";d.type&&(w=d.type),e.type&&(w=e.type),d.url&&d.url.length>0?a.isFunction(e.loadServerData)?g._requestData(t,d,e):this.xhr=a.ajax({dataType:h,cache:this.cache,type:w,url:d.url,async:i,contentType:v,data:t,success:function(b,c,f){if(a.isFunction(d.beforeprocessing)){var i=d.beforeprocessing(b,c,f);void 0!=i&&(b=i)}if(a.isFunction(e.downloadComplete)){var i=e.downloadComplete(b,c,f);void 0!=i&&(b=i)}if(null==b)return g.records=new Array,g.cachedrecords=new Array,g.originaldata=new Array,g.callDownloadComplete(),a.isFunction(e.loadComplete)&&e.loadComplete(new Array),void 0;var j=b;b.records&&(j=b.records),void 0!=b.totalrecords&&(d.totalrecords=b.totalrecords),"xml"===d.datatype?g.loadxml(null,j,d):"text"===h?g.loadtext(j,d):g.loadjson(null,j,d);for(var k=d.datafields?d.datafields.length:0,l=0;k>l;l++){var m=d.datafields[l];if(void 0!=m&&void 0!=m.text&&void 0!=m.source&&void 0!=m.source.length)for(var n=new Array,o=0;o<g.records.length;o++){var p=g.records[o],q=m.name;void 0!=m.displayname&&(q=m.displayname);var r=p[q];if(void 0!=n[r])p[q]=n[r];else for(var l=0;l<m.source.length;l++){var s=m.source[l],t=s[m.id];if(void 0==t&&(t=s.uid),t==r){p[q]=s[m.text],n[r]=s[m.text];break}}}}if(e.uniqueDataFields){var u=g.getUniqueRecords(g.records,e.uniqueDataFields);g.records=u,g.cachedrecords=u}if(e.beforeLoadComplete){var v=e.beforeLoadComplete(g.records,b);void 0!=v&&(g.records=v,g.cachedrecords=v)}g.callDownloadComplete(),a.isFunction(e.loadComplete)&&e.loadComplete(b)},error:function(b,c,f){a.isFunction(d.loaderror)&&d.loaderror(b,c,f),a.isFunction(e.loadError)&&e.loadError(b,c,f),b=null,g.callDownloadComplete()},beforeSend:function(b,c){a.isFunction(e.beforeSend)&&e.beforeSend(b,c),a.isFunction(d.beforesend)&&d.beforesend(b,c)}}):(g.callDownloadComplete(),a.isFunction(e.loadComplete)&&e.loadComplete(data))}this.callBindingUpdate(c)}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&this.xhr.abort()},_requestData:function(b,c,d){var e=this,f=function(b){b.totalrecords&&(c.totalrecords=b.totalrecords,e.totalrecords=b.totalrecords),b.records&&(e.records=b.records,e.cachedrecords=b.records),a.isFunction(d.loadComplete)&&d.loadComplete(data),e.callDownloadComplete()};d.loadServerData(b,c,f)},getUniqueRecords:function(a,b){if(a&&b)for(var c=a.length,d=b.length,e=new Array,f=new Array,g=0;c>g;g++){var h=a[g],i="";if(void 0!=h){for(var j=0;d>j;j++){var k=b[j];i+=h[k]+"_"}f[i]||(e[e.length]=h),f[i]=!0}}return e},getAggregatedData:function(b,c,d){var e=d;e||(e=this.records);var f={},g=e.length;if(0!=g&&void 0!=g){for(var h=0;g>h;h++)for(var i=e[h],j=0;j<b.length;j++){var k=b[j],l=i[k.name];if(k.aggregates){f[k.name]=f[k.name]||{};var m=function(b){for(obj in b){var c=f[k.name][obj];null==c&&(f[k.name][obj]=0,c=0),a.isFunction(b[obj])&&(c=b[obj](c,l,k.name,i)),f[k.name][obj]=c}},n=parseFloat(l);n=isNaN(n)?!1:!0,n&&(l=parseFloat(l)),"number"==typeof l&&isFinite(l)?a.each(k.aggregates,function(){var a=f[k.name][this];if(null==a&&(a=0,"min"==this&&(a=9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)a+=parseFloat(l);else if("product"==this)0==h?a=parseFloat(l):a*=parseFloat(l);else if("min"==this)a=Math.min(a,parseFloat(l));else if("max"==this)a=Math.max(a,parseFloat(l));else if("count"==this)a++;else if("object"==typeof this)return m(this),void 0;f[k.name][this]=a}):a.each(k.aggregates,function(){return"min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this?(f[k.name][this]=0,!0):("object"==typeof this&&m(this),void 0)})}}for(var j=0;j<b.length;j++){var k=b[j];if(void 0!=f[k.name].avg){var l=f[k.name].avg;f[k.name].avg=l/e.length}else void 0!=f[k.name].count&&(f[k.name].count=g);(f[k.name].stdev||f[k.name].stdevp||f[k.name]["var"]||f[k.name].varp)&&a.each(k.aggregates,function(){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var a=f[k.name][this],b=g,c=a/g,d=0,h=0;g>h;h++){var i=e[h],j=i[k.name];d+=(j-c)*(j-c)}var l="stdevp"==this||"varp"==this?b:b-1;0==l&&(l=1),"var"==this||"varp"==this?f[k.name][this]=d/l:("stdevp"==this||"stdev"==this)&&(f[k.name][this]=Math.sqrt(d/l))}}),k.formatStrings&&a.each(k.aggregates,function(b){var d=k.formatStrings[b];if(d)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var e=f[k.name][this];f[k.name][this]=a.jqx.dataFormat.formatnumber(e,d,c)}else if("object"==typeof this)for(obj in this){var e=f[k.name][obj];f[k.name][obj]=a.jqx.dataFormat.formatnumber(e,d,c)}})}return f}},bindDownloadComplete:function(a,b){this._downloadComplete[this._downloadComplete.length]={id:a,func:b}},unbindDownloadComplete:function(a){for(var b=0;b<this._downloadComplete.length;b++)if(this._downloadComplete[b].id==a){this._downloadComplete[b].func=null,this._downloadComplete.splice(b,1);break}},callDownloadComplete:function(){for(var a=0;a<this._downloadComplete.length;a++){var b=this._downloadComplete[a];null!=b.func&&b.func()}},setSource:function(a){this._source=a},generatekey:function(){var a=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},getGroupedRecords:function(b,c,d,e,f,g){for(var h=this,i=new Array,j=0;j<b.length;j++)i[j]=h.generatekey();c||(c="items"),d||(d="group"),f||(f="record"),g||(g="value");var k=new Array,l=0,m=new Array,n=b.length;new Array;for(var o=this.records,p=o.length,q=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},r=0;p>r;r++){var s=q(o[r]);id=s[h.uniqueId];var t=new Array,u=0;for(j=0;n>j;j++){var v=b[j],w=s[v];null!=w&&(t[u++]={value:w,hash:i[j]})}if(t.length!=n)break;for(var x=null,y="",z=-1,A=0;A<t.length;A++){z++;var B=t[A].value,C=t[A].hash;if(y=y+"_"+C+"_"+B,void 0==m[y]||null==m[y]){if(null==x)x={level:0},x[d]=B,x[f]=s,x[g]=s[g],x[c]=new Array,k[l++]=x;else{var D={parentItem:x,level:x.level+1};D[d]=B,D[c]=new Array,D[f]=s,D[g]=s[g],x[c][x[c].length]=D,x=D}m[y]=x}else x=m[y]}null!=x&&(s.parentItem=x,s.level=x.level+1,x[c][x[c].length]=s)}return k},getRecordsHierarchy:function(b,c,d,e){var f=new Array,g=this.records;if(0==this.records.length)return null;for(var h=null!=d?d:"items",i=[],j=g,k=j.length,l=function(b){var c=b;return e&&a.each(e,function(){this.name&&this.map&&(c[this.map]=c[this.name])}),c},m=0;k>m;m++){var n=a.extend({},j[m]),o=n[c],p=n[b];i[p]={parentid:o,item:n}}for(var m=0;k>m;m++){var n=a.extend({},j[m]),o=n[c],p=n[b];if(void 0!=i[o]){var n={parentid:o,item:i[p].item},q=i[o].item;q[h]||(q[h]=[]);var r=q[h].length,s=n.item,t=l(s);q[h][r]=t,i[o].item=q,i[p]=n}else{var s=i[p].item,t=l(s);f[f.length]=t}}return f},bindBindingUpdate:function(a,b){this._bindingUpdate[this._bindingUpdate.length]={id:a,func:b}},unbindBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++)if(this._bindingUpdate[b].id==a){this._bindingUpdate[b].func=null,this._bindingUpdate.splice(b,1);break}},callBindingUpdate:function(a){for(var b=0;b<this._bindingUpdate.length;b++){var c=this._bindingUpdate[b];null!=c.func&&c.func(a)}},getid:function(b,c,d){if(a(b,c).length>0)return a(b,c).text();if(b&&b.toString().length>0){var e=a(c).attr(b);if(null!=e&&e.toString().length>0)return e}return d},loadjson:function(b,c,d){"string"==typeof b&&(b=a.parseJSON(b)),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b=b||c;b||(b=[]);var e=this;if(""!=d.root)void 0!=b[d.root]?b=b[d.root]:a.each(b,function(){return this==d.root?(b=this,!1):(void 0!=this[d.root]&&(b=this[d.root]),void 0)});else if(!b.length)for(obj in b)if(a.isArray(b[obj])){b=b[obj];break}if(null!=b&&void 0==b.length&&(b=a.makeArray(b)),null==b||void 0==b.length)return alert("JSON Parse error."),void 0;if(0==b.length)return this.totalrecords=0,void 0;var f=b.length;this.totalrecords=this.virtualmode?d.totalrecords||f:f,this.records=new Array,this.originaldata=new Array;var g=this.records,h=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(h=0,f=this.totalrecords);var i=0;this.virtualmode&&(h=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,i=h,h=0,f=this.totalrecords);var j=d.datafields?d.datafields.length:0;if(0==j){var k=b[0],l=new Array;for(obj in k){var m=obj;l[l.length]={name:m}}d.datafields=l,j=l.length}for(var n=h;f>n;n++){var o=b[n];if(void 0==o)break;if(!d.record||""==d.record||(o=o[d.record],void 0!=o)){var p=this.getid(d.id,o,n);if("object"==typeof p&&(p=n),!this.recordids[p]){this.recordids[p]=o;for(var q={},r=0;j>r;r++){var s=d.datafields[r],t="";if(void 0!=s&&null!=s){if(s.map){var u=s.map.split(e.mapChar);if(u.length>0){for(var v=o,w=0;w<u.length;w++)void 0!=v&&(v=v[u[w]]);t=v}else t=o[s.map];t=void 0!=t&&null!=t?t.toString():""}if(""==t&&(t=o[s.name],(void 0==t||null==t)&&(t=""),void 0!=s.value)){var x=t[s.value];void 0!=x&&(t=x)}t=this.getvaluebytype(t,s),void 0!=s.displayname?q[s.displayname]=t:q[s.name]=t}}(d.recordendindex<=0||h<d.recordendindex)&&(g[i+n]=a.extend({},q),g[i+n].uid=p,this.originaldata[i+n]=a.extend({},g[n]))
}}}this.records=g,this.cachedrecords=this.records},loadxml:function(b,c,d){"string"==typeof b&&(b=c=a(a.parseXML(b))),void 0==d.root&&(d.root=""),void 0==d.record&&(d.record="");var b;b=a.jqx.browser.msie&&c?void 0!=c.xml?a(d.root+" "+d.record,a.parseXML(c.xml)):b||a(d.root+" "+d.record,c):b||a(d.root+" "+d.record,c),b||(b=[]);var e=b.length;if(0!=b.length){this.totalrecords=this.virtualmode?d.totalrecords||e:e,this.records=new Array,this.originaldata=new Array;var f=this.records,g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex;this.recordids=new Array,d.loadallrecords&&(g=0,e=this.totalrecords);var h=0;this.virtualmode&&(g=this.pageable?this.pagesize*this.pagenum:d.recordstartindex,h=g,g=0,e=this.totalrecords);var i=d.datafields?d.datafields.length:0;if(0==i){var j=b[0],k=new Array;for(obj in j){var l=obj;k[k.length]={name:l}}d.datafields=k,i=k.length}for(var m=g,n=g;e>n;n++){var o=b[n];if(void 0==o)break;var p=this.getid(d.id,o,n);if(!this.recordids[p]){this.recordids[p]=o;for(var q={},r=0;i>r;r++){var s=d.datafields[r],t="";void 0!=s&&null!=s&&(s.map&&(t=a(s.map,o).text()),""==t&&(t=a(s.name,o).text()),t=this.getvaluebytype(t,s),void 0!=s.displayname?q[s.displayname]=t:q[s.name]=t)}(d.recordendindex<=0||g<d.recordendindex)&&(f[h+m]=a.extend({},q),f[h+m].uid=p,this.originaldata[h+m]=a.extend({},f[n]),m++)}}this.records=f,this.cachedrecords=this.records}},loadtext:function(b,c){if(null!=b){var d=c.rowDelimiter||this.rowDelimiter||"\n",e=b.split(d),f=e.length;this.totalrecords=this.virtualmode?c.totalrecords||f:f,this.records=new Array,this.originaldata=new Array;var g=this.records,h=this.pageable?this.pagesize*this.pagenum:c.recordstartindex;this.recordids=new Array,c.loadallrecords&&(h=0,f=this.totalrecords);var i=0;this.virtualmode&&(h=this.pageable?this.pagesize*this.pagenum:c.recordstartindex,i=h,h=0,f=this.totalrecords);var k=c.datafields.length,l=c.columnDelimiter||this.columnDelimiter;l||(l="tab"===c.datatype?"	":",");for(var m=h;f>m;m++){var n=e[m],o=this.getid(c.id,n,m);if(!this.recordids[o]){this.recordids[o]=n;var p={},q=e[m].split(l);for(j=0;k>j;j++)if(!(j>=q.lenght)){var r=c.datafields[j],s=q[j];r.type&&(s=this.getvaluebytype(s,r));var t=r.map||r.name||j.toSring();p[t]=s}g[i+m]=a.extend({},p),g[i+m].uid=o,this.originaldata[i+m]=a.extend({},g[m])}}this.records=g,this.cachedrecords=this.records}},getvaluebytype:function(b,c){var d=b;if("date"==c.type){var e=new Date(b);if("string"==typeof b&&c.format){var f=a.jqx.dataFormat.parsedate(b,c.format);null!=f&&(e=f)}b="NaN"==e.toString()||"Invalid Date"==e.toString()?a.jqx.dataFormat?a.jqx.dataFormat.tryparsedate(b):e:e,null==b&&(b=d)}else if("float"==c.type||"number"==c.type||"decimal"==c.type)if("NaN"==b)b="";else{var b=parseFloat(b);isNaN(b)&&(b=d)}else if("int"==c.type||"integer"==c.type){var b=parseInt(b);isNaN(b)&&(b=d)}else("bool"==c.type||"boolean"==c.type)&&(null!=b&&void 0!=b.toLowerCase&&("false"==b.toLowerCase()?b=!1:"true"==b.toLowerCase()&&(b=!0)),b=1==b?!0:0==b&&""!==b?!1:"");return b}},a.jqx.dataFormat={},a.extend(a.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(a){return"boolean"==typeof a},isObject:function(b){return b&&("object"==typeof b||a.isFunction(b))||!1},isDate:function(a){return a instanceof Date},arrayIndexOf:function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a&&isFinite(a)},isNull:function(a){return null===a},isUndefined:function(a){return"undefined"==typeof a},isValue:function(a){return this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a)},isEmpty:function(b){return!this.isString(b)&&this.isValue(b)?!1:this.isValue(b)?(b=a.trim(b).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,""),""===b):!0},startsWith:function(a,b){return 0===a.indexOf(b)},endsWith:function(a,b){return a.substr(a.length-b.length)===b},trim:function(a){return(a+"").replace(this.regexTrim,"")},isArray:function(a){return"[object Array]"===this.toString.call(a)},defaultcalendar:function(){var a={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","};return a},expandFormat:function(a,b){b=b||"F";var c,d=a.patterns,e=b.length;if(1===e){if(c=d[b],!c)throw"Invalid date format string '"+b+"'.";b=c}else 2===e&&"%"===b.charAt(0)&&(b=b.charAt(1));return b},getEra:function(a,b){if(!b)return 0;if("string"==typeof a)return 0;for(var c,d=a.getTime(),e=0,f=b.length;f>e;e++)if(c=b[e].start,null===c||d>=c)return e;return 0},toUpper:function(a){return a.split(" ").join(" ").toUpperCase()},toUpperArray:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b[c]=this.toUpper(a[c]);return b},getEraYear:function(a,b,c,d){var e=a.getFullYear();return!d&&b.eras&&(e-=b.eras[c].offset),e},getDayIndex:function(a,b,c){var d,e=a.days,f=a._upperDays;return f||(a._upperDays=f=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr),this.toUpperArray(e.namesShort)]),b=toUpper(b),c?(d=this.arrayIndexOf(f[1],b),-1===d&&(d=this.arrayIndexOf(f[2],b))):d=this.arrayIndexOf(f[0],b),d},getMonthIndex:function(a,b,c){var d=a.months,e=a.monthsGenitive||a.months,f=a._upperMonths,g=a._upperMonthsGen;f||(a._upperMonths=f=[this.toUpperArray(d.names),this.toUpperArray(d.namesAbbr)],a._upperMonthsGen=g=[this.toUpperArray(e.names),this.toUpperArray(e.namesAbbr)]),b=this.toUpper(b);var h=this.arrayIndexOf(c?f[1]:f[0],b);return 0>h&&(h=this.arrayIndexOf(c?g[1]:g[0],b)),h},appendPreOrPostMatch:function(a,b){for(var c=0,d=!1,e=0,f=a.length;f>e;e++){var g=a.charAt(e);switch(g){case"'":d?b.push("'"):c++,d=!1;break;case"\\":d&&b.push("\\"),d=!d;break;default:b.push(g),d=!1}}return c},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(a,b){var c="";return b&&b.target&&(c="target="+b.target),""!=c?"<a "+c+' href="'+a+'">'+a+"</a>":'<a href="'+a+'">'+a+"</a>"},formatemail:function(a){return'<a href="mailto:'+a+'">'+a+"</a>"},formatnumber:function(a,b,c){(void 0==c||null==c)&&(c=this.defaultcalendar()),this.isNumber(a)||(a*=1);var d;b.length>1&&(d=parseInt(b.slice(1),10));var e={},f=b.charAt(0).toUpperCase();switch(e.thousandsSeparator=c.thousandsseparator,e.decimalSeparator=c.decimalseparator,f){case"D":case"d":case"F":case"f":e.decimalPlaces=d;break;case"N":case"n":e.decimalPlaces=0;break;case"C":case"c":e.decimalPlaces=d,"before"==c.currencysymbolposition?e.prefix=c.currencysymbol:e.suffix=c.currencysymbol;break;case"P":case"p":e.suffix=c.percentsymbol,e.decimalPlaces=d;break;default:throw"Bad number format specifier: "+f}if(this.isNumber(a)){var g,h=0>a,i=a+"",j=e.decimalSeparator?e.decimalSeparator:".";if(this.isNumber(e.decimalPlaces)){var k=e.decimalPlaces,l=Math.pow(10,k);if(i=Math.round(a*l)/l+"",g=i.lastIndexOf("."),k>0)for(0>g?(i+=j,g=i.length-1):"."!==j&&(i=i.replace(".",j));i.length-1-g<k;)i+="0"}if(e.thousandsSeparator){var m=e.thousandsSeparator;g=i.lastIndexOf(j),g=g>-1?g:i.length;for(var n=i.substring(g),o=-1,p=g;p>0;p--)o++,0===o%3&&p!==g&&(!h||p>1)&&(n=m+n),n=i.charAt(p-1)+n;i=n}return i=e.prefix?e.prefix+i:i,i=e.suffix?i+e.suffix:i}return a},tryparsedate:function(a,b){(void 0==b||null==b)&&(b=this.defaultcalendar());var c=this;if(""==a)return null;if(null!=a&&"/Date("==a.substring(0,6)){var d=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,e=new Date(+a.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==e){var f=a.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),e=null;f&&(e=new Date(1*f[1]+36e5*f[2]+6e4*f[3]))}if(null==e||"Invalid Date"==e||isNaN(e)){var g=d.exec(a);if(g){var h=new Date(parseInt(g[1]));if(g[2]){var i=parseInt(g[3]);"-"===g[2]&&(i=-i);var j=h.getUTCMinutes();h.setUTCMinutes(j-i)}if(!isNaN(h.valueOf()))return h}}return e}patterns=b.patterns;for(prop in patterns)if(e=c.parsedate(a,patterns[prop],b))return e;if(null!=a){for(var k=[":","/","-"],l=!0,m=0;m<k.length;m++)-1!=a.indexOf(k[m])&&(l=!1);if(l){var n=new Number(a);if(!isNaN(n))return new Date(n)}}return null},getparseregexp:function(a,b){var c=a._parseRegExp;if(c){var d=c[b];if(d)return d}else a._parseRegExp=c={};for(var e,f=this.expandFormat(a,b).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),g=["^"],h=[],i=0,j=0,k=this.getTokenRegExp();null!==(e=k.exec(f));){var l=f.slice(i,e.index);if(i=k.lastIndex,j+=this.appendPreOrPostMatch(l,g),j%2)g.push(e[0]);else{var m,n=e[0],o=n.length;switch(n){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":m="(\\D+)";break;case"tt":case"t":m="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":m="(\\d{"+o+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":m="(\\d\\d?)";break;case"zzz":m="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":m="([+-]?\\d\\d?)";break;case"/":m="(\\"+a["/"]+")";break;default:throw"Invalid date format pattern '"+n+"'."}m&&g.push(m),h.push(e[0])}}this.appendPreOrPostMatch(f.slice(i),g),g.push("$");var p=g.join("").replace(/\s+/g,"\\s+"),q={regExp:p,groups:h};return c[b]=q},outOfRange:function(a,b,c){return b>a||a>c},expandYear:function(a,b){var c=new Date,d=getEra(c);if(100>b){var e=a.twoDigitYearMax;e="string"==typeof e?(new Date).getFullYear()%100+parseInt(e,10):e;var f=this.getEraYear(c,a,d);b+=f-f%100,b>e&&(b-=100)}return b},parsedate:function(a,b,c){(void 0==c||null==c)&&(c=this.defaultcalendar()),a=this.trim(a);var d=c,e=this.getparseregexp(d,b),f=new RegExp(e.regExp).exec(a);if(null===f)return null;for(var g,h=e.groups,i=null,j=null,k=null,l=null,m=null,n=0,o=0,p=0,q=0,r=null,s=!1,t=0,u=h.length;u>t;t++){var v=f[t+1];if(v){var w=h[t],x=w.length,y=parseInt(v,10);switch(w){case"dd":case"d":if(l=y,this.outOfRange(l,1,31))return null;break;case"MMM":case"MMMM":if(k=this.getMonthIndex(d,v,3===x),this.outOfRange(k,0,11))return null;break;case"M":case"MM":if(k=y-1,this.outOfRange(k,0,11))return null;break;case"y":case"yy":case"yyyy":if(j=4>x?this.expandYear(d,y):y,this.outOfRange(j,0,9999))return null;break;case"h":case"hh":if(n=y,12===n&&(n=0),this.outOfRange(n,0,11))return null;break;case"H":case"HH":if(n=y,this.outOfRange(n,0,23))return null;break;case"m":case"mm":if(o=y,this.outOfRange(o,0,59))return null;break;case"s":case"ss":if(p=y,this.outOfRange(p,0,59))return null;break;case"tt":case"t":if(s=d.PM&&(v===d.PM[0]||v===d.PM[1]||v===d.PM[2]),!s&&(!d.AM||v!==d.AM[0]&&v!==d.AM[1]&&v!==d.AM[2]))return null;break;case"f":case"ff":case"fff":if(q=y*Math.pow(10,3-x),this.outOfRange(q,0,999))return null;break;case"ddd":case"dddd":if(m=this.getDayIndex(d,v,3===x),this.outOfRange(m,0,6))return null;break;case"zzz":var z=v.split(/:/);if(2!==z.length)return null;if(g=parseInt(z[0],10),this.outOfRange(g,-12,13))return null;var A=parseInt(z[1],10);if(this.outOfRange(A,0,59))return null;r=60*g+(startsWith(v,"-")?-A:A);break;case"z":case"zz":if(g=y,this.outOfRange(g,-12,13))return null;r=60*g;break;case"g":case"gg":var B=v;if(!B||!d.eras)return null;B=trim(B.toLowerCase());for(var C=0,D=d.eras.length;D>C;C++)if(B===d.eras[C].name.toLowerCase()){i=C;break}if(null===i)return null}}}var E,F=new Date,G=d.convert;if(E=F.getFullYear(),null===j?j=E:d.eras&&(j+=d.eras[i||0].offset),null===k&&(k=0),null===l&&(l=1),G){if(F=G.toGregorian(j,k,l),null===F)return null}else{if(F.setFullYear(j,k,l),F.getDate()!==l)return null;if(null!==m&&F.getDay()!==m)return null}if(s&&12>n&&(n+=12),F.setHours(n,o,p,q),null!==r){var H=F.getMinutes()-(r+F.getTimezoneOffset());F.setHours(F.getHours()+parseInt(H/60,10),H%60)}return F},cleardatescache:function(){this.datescache=new Array},formatdate:function(a,b,c){function d(a,b){var c,d=a+"";return b>1&&d.length<b?(c=m[b-2]+d,c.substr(c.length-b,b)):c=d}function e(a,b){if(l)return l[b];if(void 0!=a.getMonth)switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate()}}if((void 0==c||null==c)&&(c=this.defaultcalendar()),"string"==typeof a)return a;var f=a.toString()+"_"+b;if(this.datescache&&this.datescache[f])return this.datescache[f];if(!b||!b.length||"i"===b){var g;return g=this.formatDate(a,c.patterns.F,culture)}var h=c.eras,i="s"===b;b=this.expandFormat(c,b),g=[];for(var j,k,l,m=["0","00","000"],n=0,o=this.getTokenRegExp();;){var p=o.lastIndex,q=o.exec(b),r=b.slice(p,q?q.index:b.length);if(n+=this.appendPreOrPostMatch(r,g),!q)break;if(n%2)g.push(q[0]);else{var s=q[0],t=s.length;switch(s){case"ddd":case"dddd":var u=3===t?c.days.namesAbbr:c.days.names;g.push(u[a.getDay()]);break;case"d":case"dd":k=!0,g.push(d(e(a,2),t));break;case"MMM":case"MMMM":var v=e(a,1);g.push(c.months[3===t?"namesAbbr":"names"][v]);break;case"M":case"MM":g.push(d(e(a,1)+1,t));break;case"y":case"yy":case"yyyy":v=this.getEraYear(a,c,this.getEra(a,h),i),4>t&&(v%=100),g.push(d(v,t));break;case"h":case"hh":j=a.getHours()%12,0===j&&(j=12),g.push(d(j,t));break;case"H":case"HH":g.push(d(a.getHours(),t));break;case"m":case"mm":g.push(d(a.getMinutes(),t));break;case"s":case"ss":g.push(d(a.getSeconds(),t));break;case"t":case"tt":v=a.getHours()<12?c.AM?c.AM[0]:" ":c.PM?c.PM[0]:" ",g.push(1===t?v.charAt(0):v);break;case"f":case"ff":case"fff":g.push(d(a.getMilliseconds(),3).substr(0,t));break;case"z":case"zz":j=a.getTimezoneOffset()/60,g.push((0>=j?"+":"-")+d(Math.floor(Math.abs(j)),t));break;case"zzz":j=a.getTimezoneOffset()/60,g.push((0>=j?"+":"-")+d(Math.floor(Math.abs(j)),2)+":"+d(Math.abs(a.getTimezoneOffset()%60),2));break;case"g":case"gg":c.eras&&g.push(c.eras[getEra(a,h)].name);break;case"/":g.push(c["/"]);break;default:throw"Invalid date format pattern '"+s+"'."}}}var w=g.join("");return this.datescache||(this.datescache=new Array),this.datescache[f]=w,w}})}(jQuery),function(a){a.jqx.cssroundedcorners=function(a){var b={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-br"};for(prop in b)if(b.hasOwnProperty(prop)&&a==prop)return b[prop]},a.jqx.jqxWidget("jqxButton","",{}),a.extend(a.jqx._jqxButton.prototype,{defineInstance:function(){this.cursor="arrow",this.roundedCorners="all",this.disabled=!1,this.height=null,this.width=null,this.overrideTheme=!1,this.enableHover=!0},createInstance:function(){var b=this;if(this._setSize(),this.overrideTheme||(this.host.addClass(this.toThemeProperty(a.jqx.cssroundedcorners(this.roundedCorners))),this.host.addClass(this.toThemeProperty("jqx-button")),this.host.addClass(this.toThemeProperty("jqx-widget"))),this.isTouchDevice=a.jqx.mobile.isTouchDevice(),this.host.css({cursor:this.cursor}),this.isTouchDevice||(this.addHandler(this.host,"mouseenter",function(){!b.disabled&&b.enableHover&&(b.isMouseOver=!0,b.refresh())}),this.addHandler(this.host,"mouseleave",function(){!b.disabled&&b.enableHover&&(b.isMouseOver=!1,b.refresh())})),this.addHandler(this.host,"selectstart",function(){return!1}),this.addHandler(this.host,"mousedown",function(){b.disabled||(b.isPressed=!0,b.refresh())}),this.addHandler(this.host,"focus",function(){b.disabled||(b.isFocused=!0,b.refresh())}),this.addHandler(this.host,"blur",function(){b.disabled||(b.isFocused=!1,b.refresh())}),this.mouseupfunc=function(){b.disabled||(b.isPressed=!1,b.refresh())},this.addHandler(a(document),"mouseup.button"+this.element.id,this.mouseupfunc),""!=document.referrer||window.frameElement)try{if(null!=window.top&&window.top!=window.self){var c="";if(window.parent&&document.referrer&&(c=document.referrer),-1!=c.indexOf(document.location.host)){var d=function(){b.isPressed=!1,b.refresh()};window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",d,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",d))}}}catch(e){}this.propertyChangeMap.roundedCorners=function(a){a.refresh()},this.propertyChangeMap.width=function(a){a._setSize(),a.refresh()},this.propertyChangeMap.height=function(a){a._setSize(),a.refresh()},this.propertyChangeMap.disabled=function(a,c,d,e){d!=e&&(b.host[0].disabled=e,a.refresh())},this.propertyChangeMap.theme=function(b){b.host.removeClass(),b.host.addClass(b.toThemeProperty("jqx-button")),b.host.addClass(b.toThemeProperty("jqx-widget")),b.overrideTheme||b.host.addClass(b.toThemeProperty(a.jqx.cssroundedcorners(b.roundedCorners))),b._oldCSSCurrent=null,b.refresh()}},_setSize:function(){null==this.width||-1==this.width.toString().indexOf("px")&&-1==this.width.toString().indexOf("%")?void 0==this.width||isNaN(this.width)||this.host.css("width",this.width):this.host.css("width",this.width),null==this.height||-1==this.height.toString().indexOf("px")&&-1==this.height.toString().indexOf("%")?void 0==this.height||isNaN(this.height)||this.host.css("height",this.height):this.host.css("height",this.height)},_removeHandlers:function(){this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"click"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"mousedown"),this.removeHandler(a(document),"mouseup.button"+this.element.id,this.mouseupfunc),this.mouseupfunc=null},destroy:function(){this._removeHandlers(),this.host.removeClass(),this.host.removeData(),this.host.remove()},refresh:function(){if(!this.overrideTheme){var a=this.toThemeProperty("jqx-fill-state-focus"),b=this.toThemeProperty("jqx-fill-state-disabled"),c=this.toThemeProperty("jqx-fill-state-normal"),d=this.toThemeProperty("jqx-fill-state-hover"),e=this.toThemeProperty("jqx-fill-state-pressed"),f=this.toThemeProperty("jqx-fill-state-pressed"),g="";this.host[0].disabled=this.disabled,g=this.disabled?b:this.isMouseOver&&!this.isTouchDevice?this.isPressed?f:d:this.isPressed?e:c,this.isFocused&&(g+=" "+a),g!=this._oldCSSCurrent&&(this._oldCSSCurrent&&this.host.removeClass(this._oldCSSCurrent),this.host.addClass(g),this._oldCSSCurrent=g)}}}),a.jqx.jqxWidget("jqxLinkButton","",{}),a.extend(a.jqx._jqxLinkButton.prototype,{createInstance:function(a){var b=this;this.host.onselectstart=function(){return!1};var c=this.height||this.host.height(),d=this.width||this.host.width();this.href=this.host.attr("href"),this.target=this.host.attr("target"),this.content=this.host.text(),this.element.innerHTML="",this.host.append("<input type='button' class='jqx-wrapper'/>");var e=this.host.find("input");e.addClass(this.toThemeProperty("jqx-reset")),e.width(d),e.height(c),e.val(this.content),this.host.find("tr").addClass(this.toThemeProperty("jqx-reset")),this.host.find("td").addClass(this.toThemeProperty("jqx-reset")),this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset")),this.host.css("color","inherit"),this.host.addClass(this.toThemeProperty("jqx-link")),e.css({width:d}),e.css({height:c});var f=void 0==a?{}:a[0]||{};e.jqxButton(f),this.disabled&&(this.host[0].disabled=!0),this.propertyChangeMap.disabled=function(a,c,d,e){b.host[0].disabled=e},this.addHandler(e,"click",function(a){return this.disabled||b.onclick(a),!1})},onclick:function(){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),a.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),a.extend(a.jqx._jqxRepeatButton.prototype,{createInstance:function(){var b=this;this.delay=this.delay||50;var c=a.jqx.mobile.isTouchDevice();this.addHandler(a(document),"mouseup."+this.base.element.id,function(){c||(null!=b.timeout&&(clearTimeout(b.timeout),b.timeout=null,b.refresh()),void 0!=b.timer&&(clearInterval(b.timer),b.timer=null,b.refresh()))}),this.addHandler(this.base.host,"mousedown",function(){c||(null!=b.timer&&clearInterval(b.timer),b.timeout=setTimeout(function(){clearInterval(b.timer),b.timer=setInterval(function(a){b.ontimer(a)},b.delay)},150))}),this.addHandler(this.base.host,"mousemove",function(a){c||0==a.which&&null!=b.timer&&(clearInterval(b.timer),b.timer=null)})},destroy:function(){this.removeHandler(this.base.host,"mousemove"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(a(document),"mouseup."+this.base.element.id),this.timer=null,this.base.destroy()},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(a){var a=new jQuery.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(a)}}),a.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),a.extend(a.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1},createInstance:function(){var b=this;this.base.overrideTheme=!0,this.isTouchDevice=a.jqx.mobile.isTouchDevice(),this.addHandler(this.base.host,"click",function(){b.toggle()}),this.isTouchDevice||(this.addHandler(this.base.host,"mouseenter",function(){b.base.disabled||b.refresh()}),this.addHandler(this.base.host,"mouseleave",function(){b.base.disabled||b.refresh()})),this.addHandler(this.base.host,"mousedown",function(){b.base.disabled||b.refresh()}),this.addHandler(a(document),"mouseup",function(){b.base.disabled||b.refresh()})},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(a(document),"mouseup")},toggle:function(){this.toggled=!this.toggled,this.refresh()},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var a=this.base.toThemeProperty("jqx-fill-state-disabled"),b=this.base.toThemeProperty("jqx-fill-state-normal"),c=this.base.toThemeProperty("jqx-fill-state-hover"),d=this.base.toThemeProperty("jqx-fill-state-pressed"),e=this.base.toThemeProperty("jqx-fill-state-pressed"),f="";this.base.host[0].disabled=this.base.disabled,f=this.base.disabled?a:this.base.isMouseOver&&!this.isTouchDevice?this.base.isPressed||this.toggled?e:c:this.base.isPressed||this.toggled?d:b,this.base.host.hasClass(a)&&a!=f&&this.base.host.removeClass(a),this.base.host.hasClass(b)&&b!=f&&this.base.host.removeClass(b),this.base.host.hasClass(c)&&c!=f&&this.base.host.removeClass(c),this.base.host.hasClass(d)&&d!=f&&this.base.host.removeClass(d),this.base.host.hasClass(e)&&e!=f&&this.base.host.removeClass(e),this.base.host.hasClass(f)||this.base.host.addClass(f)}})}(jQuery),function(a){a.jqx.jqxWidget("myWidget","",{}),a.extend(a.jqx._myWidget.prototype,{var1:5,var2:10,foo:function(a){this.var1*=a},bar:function(){alert(this.var1)},createInstance:function(){}}),a.jqx.jqxWidget("jqxScrollBar","",{}),a.extend(a.jqx._jqxScrollBar.prototype,{defineInstance:function(){this.height=null,this.width=null,this.vertical=!1,this.min=0,this.max=1e3,this.value=this.min,this.step=10,this.largestep=50,this.thumbMinSize=10,this.thumbSize=0,this.thumbStep="auto",this.roundedCorners="all",this.showButtons=!0,this.disabled=!1,this.touchMode="auto",this.touchModeStyle="auto",this.thumbTouchSize=8,this._triggervaluechanged=!0},createInstance:function(){this.render()},render:function(){return this._mouseup=new Date,this.element.innerHTML="",this.host.append("<div id='jqxScrollOuterWrap' style='width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollAreaUp' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollThumb' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollAreaDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='jqxScrollBtnDown' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/></div></div>"),void 0!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),void 0!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.btnUp=this.host.find("#jqxScrollBtnUp"),this.btnDown=this.host.find("#jqxScrollBtnDown"),this.btnThumb=this.host.find("#jqxScrollThumb"),this.areaUp=this.host.find("#jqxScrollAreaUp"),this.arrowUp=a("<div></div>"),this.arrowUp.appendTo(this.btnUp),this.arrowDown=a("<div></div>"),this.arrowDown.appendTo(this.btnDown),this.areaDown=this.host.find("#jqxScrollAreaDown"),this.scrollWrap=this.host.find("#jqxScrollWrap"),this.scrollOuterWrap=this.host.find("#jqxScrollOuterWrap"),this.btnUp[0].id="jqxScrollBtnUp"+this.element.id,this.btnDown[0].id="jqxScrollBtnDown"+this.element.id,this.btnThumb[0].id="jqxScrollThumb"+this.element.id,this.areaUp[0].id="jqxScrollAreaUp"+this.element.id,this.areaDown[0].id="jqxScrollAreaDown"+this.element.id,this.scrollWrap[0].id="jqxScrollWrap"+this.element.id,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+this.element.id,this.host.jqxRepeatButton?(this.btnUp.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=a.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=a.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({overrideTheme:!0,delay:300}),this.areaDown.jqxRepeatButton({overrideTheme:!0,delay:300}),this.btnThumb.jqxButton({overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(a,b,c,d){isNaN(d)||c!=d&&a.setPosition(parseFloat(d),!0)},this.propertyChangeMap.width=function(a){void 0!=a.width&&parseInt(a.width)>0&&(a.host.width(parseInt(a.width)),a._arrange())},this.propertyChangeMap.height=function(a){void 0!=a.height&&parseInt(a.height)>0&&(a.host.height(parseInt(a.height)),a._arrange())},this.propertyChangeMap.theme=function(a){a.setTheme()},this.propertyChangeMap.max=function(a,b,c,d){isNaN(d)||c!=d&&(a.max=parseInt(d),a.min>a.max&&(a.max=a.min+1),a._arrange(),a.setPosition(a.value))},this.propertyChangeMap.min=function(a,b,c,d){isNaN(d)||c!=d&&(a.min=parseInt(d),a.min>a.max&&(a.max=a.min+1),a._arrange(),a.setPosition(a.value))},this.propertyChangeMap.disabled=function(a,b,c,d){c!=d&&(d?a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")):a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),a.btnUp.jqxRepeatButton("disabled",a.disabled),a.btnDown.jqxRepeatButton("disabled",a.disabled),a.btnThumb.jqxButton("disabled",a.disabled))},this.propertyChangeMap.touchMode=function(a,b,c,d){c!=d&&a._updateTouchBehavior()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme(),void 0):(alert("jqxbuttons.js is not loaded."),void 0)},_updateTouchBehavior:function(){this.isTouchDevice=a.jqx.mobile.isTouchDevice(),1==this.touchMode?(this.isTouchDevice=!0,a.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()):0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var b=this;if(b.isTouchDevice&&(this.addHandler(this.btnThumb,a.jqx.mobile.getTouchEventName("touchend"),function(a){var c=b.vertical?b.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):b.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),d=b.toThemeProperty("jqx-fill-state-pressed");b.btnThumb.removeClass(c),b.btnThumb.removeClass(d),b.disabled||b.handlemouseup(b,a)}),this.addHandler(this.btnThumb,a.jqx.mobile.getTouchEventName("touchstart"),function(a){if(!b.disabled){if(1==b.touchMode)a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY;else{var c=a;c.originalEvent.touches&&c.originalEvent.touches.length?(a.clientX=c.originalEvent.touches[0].clientX,a.clientY=c.originalEvent.touches[0].clientY):(a.clientX=a.originalEvent.clientX,a.clientY=a.originalEvent.clientY)}b.handlemousedown(a)}}),a.jqx.mobile.touchScroll(this.element,b.max,function(a,c,d,e,f){if("visible"==b.host.css("visibility")){if(1==b.touchMode)f.clientX=f.originalEvent.clientX,f.clientY=f.originalEvent.clientY;else{var g=f;g.originalEvent.touches&&g.originalEvent.touches.length?(f.clientX=g.originalEvent.touches[0].clientX,f.clientY=g.originalEvent.touches[0].clientY):(f.clientX=f.originalEvent.clientX,f.clientY=f.originalEvent.clientY)}var h=b.vertical?b.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):b.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");b.btnThumb.addClass(h),b.btnThumb.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.handlemousemove(f)}},b.element.id)),this.addHandler(this.btnUp,"click",function(){b.buttonUpCapture&&!b.isTouchDevice?b.disabled||b.setPosition(b.value-b.step):!b.disabled&&b.isTouchDevice&&b.setPosition(b.value-b.step)}),this.addHandler(this.btnDown,"click",function(){b.buttonDownCapture&&!b.isTouchDevice?b.disabled||b.setPosition(b.value+b.step):!b.disabled&&b.isTouchDevice&&b.setPosition(b.value+b.step)}),!this.isTouchDevice){if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&(window.parent&&document.referrer&&(parentLocation=document.referrer),-1!=parentLocation.indexOf(document.location.host))){var c=function(a){b.disabled||b.handlemouseup(b,a)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",c,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",c)}this.addHandler(this.btnDown,"mouseup",function(a){return!b.btnDownInstance.base.disabled&&b.buttonDownCapture?(b.buttonDownCapture=!1,b.btnDown.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.btnDown.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._removeArrowClasses("pressed","down"),b.handlemouseup(b,a),b.setPosition(b.value+b.step),!1):void 0}),this.addHandler(this.btnUp,"mouseup",function(a){return!b.btnUpInstance.base.disabled&&b.buttonUpCapture?(b.buttonUpCapture=!1,b.btnUp.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.btnUp.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._removeArrowClasses("pressed","up"),b.handlemouseup(b,a),b.setPosition(b.value-b.step),!1):void 0}),this.addHandler(this.btnDown,"mousedown",function(){return b.btnDownInstance.base.disabled?void 0:(b.buttonDownCapture=!0,b.btnDown.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.btnDown.addClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b._addArrowClasses("pressed","down"),!1)}),this.addHandler(this.btnUp,"mousedown",function(){return b.btnUpInstance.base.disabled?void 0:(b.buttonUpCapture=!0,b.btnUp.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b.btnUp.addClass(b.toThemeProperty("jqx-scrollbar-button-state-pressed")),b._addArrowClasses("pressed","up"),!1)})}var d="click";if(this.isTouchDevice&&(d=a.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,d,function(){return b.disabled?void 0:(b.setPosition(b.value-b.largestep),!1)}),this.addHandler(this.areaDown,d,function(){return b.disabled?void 0:(b.setPosition(b.value+b.largestep),!1)}),this.addHandler(this.areaUp,"mousedown",function(){return b.disabled?void 0:!1
}),this.addHandler(this.areaDown,"mousedown",function(){return b.disabled?void 0:!1}),this.addHandler(this.btnThumb,"mousedown",function(a){return b.disabled||b.handlemousedown(a),!1}),this.addHandler(this.btnThumb,"dragstart",function(){return!1}),this.addHandler(a(document),"mouseup."+this.element.id,function(a){b.disabled||b.handlemouseup(b,a)}),!this.isTouchDevice){var e=function(a){b.disabled||b.handlemousemove(a)};if(this.addHandler(a(document),"mousemove."+this.element.id,e),this.addHandler(a(document),"mouseleave."+this.element.id,function(a){b.disabled||b.handlemouseleave(a)}),this.addHandler(a(document),"mouseenter."+this.element.id,function(a){b.disabled||b.handlemouseenter(a)}),!b.disabled){this.btnUp.hover(function(){b.disabled||b.btnUpInstance.base.disabled||1==b.touchMode||(b.btnUp.addClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnUp.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._addArrowClasses("hover","up"))},function(){b.disabled||b.btnUpInstance.base.disabled||1==b.touchMode||(b.btnUp.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnUp.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._removeArrowClasses("hover","up"))});var f=b.toThemeProperty("jqx-scrollbar-thumb-state-hover");b.vertical||(f=b.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.btnThumb.hover(function(){b.disabled||1==b.touchMode||(b.btnThumb.addClass(f),b.btnThumb.addClass(b.toThemeProperty("jqx-fill-state-hover")))},function(){b.disabled||1==b.touchMode||(b.btnThumb.removeClass(f),b.btnThumb.removeClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.btnDown.hover(function(){b.disabled||b.btnDownInstance.base.disabled||1==b.touchMode||(b.btnDown.addClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnDown.addClass(b.toThemeProperty("jqx-fill-state-hover")),b._addArrowClasses("hover","down"))},function(){b.disabled||b.btnDownInstance.base.disabled||1==b.touchMode||(b.btnDown.removeClass(b.toThemeProperty("jqx-scrollbar-button-state-hover")),b.btnDown.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._removeArrowClasses("hover","down"))})}}},destroy:function(){var a=this.btnUp,b=this.btnDown,c=this.btnThumb;this.scrollWrap;var d=this.areaUp,e=this.areaDown;e.removeClass(),d.removeClass(),b.removeClass(),a.removeClass(),c.removeClass(),a.jqxRepeatButton("destroy"),b.jqxRepeatButton("destroy"),d.jqxRepeatButton("destroy"),e.jqxRepeatButton("destroy"),c.jqxButton("destroy"),this._removeHandlers(),this.host.removeClass(),this.host.removeData(),this.host.remove(),this.host=null,this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null},_removeHandlers:function(){this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(a(document),"mouseup."+this.element.id),this.removeHandler(a(document),"mousemove."+this.element.id),this.removeHandler(a(document),"mouseleave."+this.element.id),this.removeHandler(a(document),"mouseenter."+this.element.id),this.btnUp.unbind("hover"),this.btnThumb.unbind("hover"),this.btnDown.unbind("hover")},_addArrowClasses:function(a,b){"pressed"==a&&(a="selected"),""!=a&&(a="-"+a),this.vertical?(("up"==b||void 0==b)&&this.arrowUp.addClass(this.toThemeProperty("icon-arrow-up"+a)),("down"==b||void 0==b)&&this.arrowDown.addClass(this.toThemeProperty("icon-arrow-down"+a))):(("up"==b||void 0==b)&&this.arrowUp.addClass(this.toThemeProperty("icon-arrow-left"+a)),("down"==b||void 0==b)&&this.arrowDown.addClass(this.toThemeProperty("icon-arrow-right"+a)))},_removeArrowClasses:function(a,b){"pressed"==a&&(a="selected"),""!=a&&(a="-"+a),this.vertical?(("up"==b||void 0==b)&&this.arrowUp.removeClass(this.toThemeProperty("icon-arrow-up"+a)),("down"==b||void 0==b)&&this.arrowDown.removeClass(this.toThemeProperty("icon-arrow-down"+a))):(("up"==b||void 0==b)&&this.arrowUp.removeClass(this.toThemeProperty("icon-arrow-left"+a)),("down"==b||void 0==b)&&this.arrowDown.removeClass(this.toThemeProperty("icon-arrow-right"+a)))},setTheme:function(){var b=this.btnUp,c=this.btnDown,d=this.btnThumb,e=this.scrollWrap;this.areaUp,this.areaDown;var f=this.arrowUp,g=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var h=this.toThemeProperty("jqx-reset");this.areaDown[0].className=h,this.areaUp[0].className=h;var i=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.element.className=i,c[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),b[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var j="";if(this.vertical?(f[0].className=h+" "+this.toThemeProperty("icon-arrow-up"),g[0].className=h+" "+this.toThemeProperty("icon-arrow-down"),j=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(f[0].className=h+" "+this.toThemeProperty("icon-arrow-left"),g[0].className=h+" "+this.toThemeProperty("icon-arrow-right"),j=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),j+=" "+this.toThemeProperty("jqx-fill-state-normal"),d[0].className=j,this.disabled?(e.addClass(this.toThemeProperty("jqx-fill-state-disabled")),e.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(e.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),e.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.vertical){var k=a.jqx.cssroundedcorners("top");k=this.toThemeProperty(k),b.addClass(k);var l=a.jqx.cssroundedcorners("bottom");l=this.toThemeProperty(l),c.addClass(l)}else{var m=a.jqx.cssroundedcorners("left");m=this.toThemeProperty(m),b.addClass(m);var n=a.jqx.cssroundedcorners("right");n=this.toThemeProperty(n),c.addClass(n)}else{var o=a.jqx.cssroundedcorners(this.roundedCorners);o=this.toThemeProperty(o),elBtnUp.addClass(o),elBtnDown.addClass(o)}var o=a.jqx.cssroundedcorners(this.roundedCorners);o=this.toThemeProperty(o),d.hasClass(o)||d.addClass(o),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,d.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return void 0==this.thumbCapture||void 0==this.buttonDownCapture||void 0==this.buttonUpCapture?!1:this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture},handlemousedown:function(a){if(void 0==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var b=this.btnThumb;null!=b&&(b.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}this.dragStartX=a.clientX,this.dragStartY=a.clientY,this.dragStartValue=this.value},toggleHover:function(){},refresh:function(){this._arrange()},_setElementPosition:function(a,b,c){isNaN(b)||parseInt(a[0].style.left)!=parseInt(b)&&(a[0].style.left=b+"px"),isNaN(c)||parseInt(a[0].style.top)!=parseInt(c)&&(a[0].style.top=c+"px")},_setElementTopPosition:function(a,b){isNaN(b)||(a[0].style.top=b+"px")},_setElementLeftPosition:function(a,b){isNaN(b)||(a[0].style.left=b+"px")},handlemouseleave:function(){var a=this.btnUp,b=this.btnDown;if(a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed"),1==this.thumbCapture){var c=this.btnThumb,d=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");c.removeClass(d),c.removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemouseenter:function(){var a=this.btnUp,b=this.btnDown;if(this.buttonUpCapture&&(a.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up")),this.buttonDownCapture&&(b.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down")),1==this.thumbCapture){var c=this.btnThumb;this.vertical?c.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):c.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),c.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}},handlemousemove:function(a){var b=this.btnUp,c=this.btnDown,d=0;if(null!=c&&null!=b){if(null!=b&&null!=c&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&(this.buttonDownCapture&&a.which==d?(c.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),c.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&a.which==d&&(b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var e=this.btnThumb;if(a.which==d&&!this.isTouchDevice){this.thumbCapture=!1,this._arrange();var f=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");return e.removeClass(f),e.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}void 0!=a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation();var g=0;try{g=this.vertical?a.clientY-this.dragStartY:a.clientX-this.dragStartX;var h=this._btnAndThumbSize;this._btnAndThumbSize||(h=this.vertical?b.height()+c.height()+e.height():b.width()+c.width()+e.width());var i=(this.max-this.min)/(this.scrollBarSize-h);if("auto"!=this.thumbStep){if(g*=i,Math.abs(this.dragStartValue+g-this.value)>=parseInt(this.thumbStep)){var j=Math.round(parseInt(g)/this.thumbStep)*this.thumbStep;return this.setPosition(this.dragStartValue+j),!1}return!1}g*=i,this.setPosition(this.dragStartValue+g)}catch(k){alert(k)}return!1}},handlemouseup:function(a,b){var c=!1;try{a._mouseup=new Date}catch(d){}if(this.thumbCapture){this.thumbCapture=!1;var e=this.btnThumb,f=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");e.removeClass(f),e.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),c=!0}if(this.buttonUpCapture||this.buttonDownCapture){var g=this.btnUp,h=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,g.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),h.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),g.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),h.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),c=!0}c&&(void 0!=b.preventDefault&&b.preventDefault(),null!=b.originalEvent&&(b.originalEvent.mouseHandled=!0),void 0!=b.stopPropagation&&b.stopPropagation())},setPosition:function(a,b){if(this.element,(void 0==a||0/0==a)&&(a=this.min),a>=this.max&&(a=this.max),a<this.min&&(a=this.min),this.value!==a||1==b){if(a==this.max){var c=new jQuery.Event("complete");this.host.trigger(c)}var d=this.value;if(this._triggervaluechanged){var e=new jQuery.Event("valuechanged");e.previousValue=this.value,e.currentValue=a}this.value=a,this._positionelements(),this._triggervaluechanged&&this.host.trigger(e),this.valuechanged&&this.valuechanged({currentValue:this.value,previousvalue:d})}return a},_getThumbSize:function(a){var b=this.max-this.min,c=0;return b>1?c=a/(b+a)*a:1==b&&(c=a),this.thumbSize>0&&(c=this.thumbSize),c<this.thumbMinSize&&(c=this.thumbMinSize),Math.min(c,a)},_positionelements:function(){this.element;var a=this.areaUp,b=this.areaDown;this.btnUp,this.btnDown;var c=this.btnThumb;this.scrollWrap;var d=this._height?this._height:this.host.height(),e=this._width?this._width:this.host.width(),f=this.vertical?e:d;this.showButtons||(f=0);var g=this.vertical?d:e;this.scrollBarSize=g;var h=this._getThumbSize(g-2*f);h=Math.round(h),h<this.thumbMinSize&&(h=this.thumbMinSize),(0/0==d||10>d)&&(d=10),(0/0==e||10>e)&&(e=10),f+=2,this.btnSize=f;var i=this._btnAndThumbSize;if(!this._btnAndThumbSize){var i=this.vertical?2*this.btnSize+c.outerHeight():2*this.btnSize+c.outerWidth();i=Math.round(i)}var j=(g-i)/(this.max-this.min)*(this.value-this.min);if(j=Math.round(j),this.vertical){var k=g-j-i;0>k&&(k=0),b[0].style.height=k+"px",a[0].style.height=j+"px",this._setElementTopPosition(a,f),this._setElementTopPosition(c,f+j),this._setElementTopPosition(b,f+j+h)}else a[0].style.width=j+"px",b[0].style.width=g-j-i+"px",this._setElementLeftPosition(a,f),this._setElementLeftPosition(c,f+j),this._setElementLeftPosition(b,2+f+j+h)},_arrange:function(){this.element;var a=this.areaUp,b=this.areaDown,c=this.btnUp,d=this.btnDown,e=this.btnThumb,f=this.scrollWrap,g=parseInt(this.element.style.height),h=parseInt(this.element.style.width);isNaN(g)&&(g=0),isNaN(h)&&(h=0),this._width=h,this._height=g;var i=this.vertical?h:g;this.showButtons||(i=0),c[0].style.width=i+"px",c[0].style.height=i+"px",d[0].style.width=i+"px",d[0].style.height=i+"px",this.vertical?f[0].style.width=h+2+"px":f[0].style.height=g+2+"px",this._setElementPosition(c,0,0),this.vertical?this._setElementPosition(d,0,g-d.outerHeight()):this._setElementPosition(d,h-d.outerWidth(),0);var j=this.vertical?g:h;this.scrollBarSize=j;var k=this._getThumbSize(j-2*i);k=Math.round(k),k<this.thumbMinSize&&(k=this.thumbMinSize);var l=!1;this.isTouchDevice&&0!=this.touchModeStyle&&(l=!0),this.vertical?(e[0].style.width=h+"px",e[0].style.height=k+"px",l&&(e.css({width:this.thumbTouchSize+"px"}),e.css("margin-left",(this.host.width()-this.thumbTouchSize)/2))):(e[0].style.width=k+"px",e[0].style.height=g+"px",l&&(e.css({height:this.thumbTouchSize+"px"}),e.css("margin-top",(this.host.height()-this.thumbTouchSize)/2))),(0/0==g||10>g)&&(g=10),(0/0==h||10>h)&&(h=10),i+=2,this.btnSize=i;var m=this.vertical?2*this.btnSize+(2+parseInt(e[0].style.height)):2*this.btnSize+(2+parseInt(e[0].style.width));m=Math.round(m),this._btnAndThumbSize=m;var n=(j-m)/(this.max-this.min)*(this.value-this.min);if(n=Math.round(n),(n===-1/0||1/0==n)&&(n=0),isNaN(n)&&(n=0),this.vertical){var o=j-n-m;0>o&&(o=0),b[0].style.height=o+"px",b[0].style.width=h+"px",a[0].style.height=n+"px",a[0].style.width=h+"px";var p=parseInt(this.host.height());e[0].style.visibility="inherit",p-3*parseInt(i)<0?e[0].style.visibility="hidden":m>p?e[0].style.visibility="hidden":"visible"==this.element.style.visibility&&(e[0].style.visibility="inherit"),this._setElementPosition(a,0,i),this._setElementPosition(e,0,i+n),this._setElementPosition(b,0,i+n+k)}else{a[0].style.width=n+"px",a[0].style.height=g+"px";var q=j-n-m;0>q&&(q=0),b[0].style.width=q+"px",b[0].style.height=g+"px";var r=parseInt(this.host.width());e[0].style.visibility="inherit",r-3*parseInt(i)<0?e[0].style.visibility="hidden":m>r?e[0].style.visibility="hidden":"visible"==this.element.style.visibility&&(e[0].style.visibility="inherit"),this._setElementPosition(a,i,0),this._setElementPosition(e,i+n,0),this._setElementPosition(b,2+i+n+k,0)}}})}(jQuery),function(a){a.jqx.jqxWidget("jqxListBox","",{}),a.extend(a.jqx._jqxListBox.prototype,{defineInstance:function(){this.disabled=!1,this.width=null,this.height=null,this.items=new Array,this.multiple=!1,this.selectedIndex=-1,this.selectedIndexes=new Array,this.source=null,this.scrollBarSize=15,this.enableHover=!0,this.enableSelection=!0,this.visualItems=new Array,this.groups=new Array,this.equalItemsWidth=!0,this.itemHeight=-1,this.visibleItems=new Array,this.emptyGroupText="Group",this.checkboxes=!1,this.hasThreeStates=!1,this.autoHeight=!1,this.autoItemsHeight=!1,this.roundedcorners=!0,this.touchMode="auto",this.displayMember="",this.valueMember="",this.searchMode="startswithignorecase",this.incrementalSearch=!0,this.incrementalSearchDelay=700,this.allowDrag=!1,this.allowDrop=!0,this.dropAction="default",this.touchModeStyle="auto",this.keyboardNavigation=!0,this.enableMouseWheel=!0,this.multipleextended=!1,this.emptyString="null",this.events=["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete"]},createInstance:function(){this.render()},render:function(){this.element.innerHTML="",this.host.addClass(this.toThemeProperty("jqx-listbox")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content"));var b=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),b=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),0==this.host.height()&&this.host.height(200),b=!0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var c=a("<div tabIndex=0 style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div tabIndex=1 style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='listBoxContent' tabIndex=2 style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'/><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>");this._addInput(),this.host.attr("tabIndex",1),this.host.append(c);var d=this.host.find("#verticalScrollBar"+this.element.id);if(!d.jqxScrollBar)return alert("jqxscrollbar.js is not loaded."),void 0;this.vScrollBar=d.jqxScrollBar({vertical:!0,theme:this.theme,touchMode:this.touchMode,largestep:parseInt(this.host.height())/2});var e=this.host.find("#horizontalScrollBar"+this.element.id);if(this.hScrollBar=e.jqxScrollBar({vertical:!1,touchMode:this.touchMode,theme:this.theme}),this.content=this.host.find("#listBoxContent"),this.content[0].id="listBoxContent"+this.element.id,this.bottomRight=this.host.find("#bottomRight").addClass(this.toThemeProperty("jqx-listbox-bottomright")),this.bottomRight[0].id="bottomRight"+this.element.id,this.vScrollBar.css("visibility","inherit"),this.hScrollBar.css("visibility","inherit"),this.vScrollInstance=a.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=a.data(this.hScrollBar[0],"jqxScrollBar").instance,this.isTouchDevice()){var f=a("<div class='overlay' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");this.content.parent().append(f),this.overlayContent=this.host.find(".overlay")}this._updateTouchScrolling(),this.host.addClass("jqx-disableselect"),this.host.jqxDragDrop&&jqxListBoxDragDrop()},_addInput:function(){var b=this.host.attr("name");b?this.host.attr("name",""):b=this.element.id,this.input=a("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",b)},_updateTouchScrolling:function(){var b=this;if(this.isTouchDevice()){b.enableHover=!1;var c=this.overlayContent?this.overlayContent:this.content;a(c).unbind(a.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),a(c).unbind(a.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),a(c).unbind(a.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),a(c).unbind("touchcancel.touchScroll"),a.jqx.mobile.touchScroll(c,b.vScrollInstance.max,function(a,c){if("hidden"!=b.vScrollBar.css("visibility")){var d=b.vScrollInstance.value;b.vScrollInstance.setPosition(d+c),b._lastScroll=new Date}if("hidden"!=b.hScrollBar.css("visibility")){var d=b.hScrollInstance.value;b.hScrollInstance.setPosition(d+a),b._lastScroll=new Date}},this.element.id),"visible"!=b.vScrollBar.css("visibility")&&"visible"!=b.hScrollBar.css("visibility")?a.jqx.mobile.setTouchScroll(!1,this.element.id):a.jqx.mobile.setTouchScroll(!0,this.element.id)}},isTouchDevice:function(){var b=a.jqx.mobile.isTouchDevice();return 1==this.touchMode?(b=!0,a.jqx.mobile.setMobileSimulator(this.element)):0==this.touchMode&&(b=!1),b&&0!=this.touchModeStyle&&(this.scrollBarSize=10),b&&this.host.addClass(this.toThemeProperty("jqx-touch")),b},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this._addItems(),this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertyChangedHandler:function(a,b,c,d){if(void 0!=this.isInitialized&&0!=this.isInitialized){if(("source"==b||"checkboxes"==b)&&(a.clearSelection(),a.refresh()),("scrollBarSize"==b||"equalItemsWidth"==b)&&d!=c&&a._updatescrollbars(),"disabled"==b&&a._renderItems(),"touchMode"==b&&(a._removeHandlers(),a.vScrollBar.jqxScrollBar({touchMode:d}),a.hScrollBar.jqxScrollBar({touchMode:d}),a._updateTouchScrolling(),a._addHandlers(),a._render(!1)),this.updating||("width"==b||"height"==b)&&setTimeout(function(){a.vScrollInstance.value=0,"width"==b?c!=d&&(a.host.width(d),a._updatescrollbars(),a._renderItems()):c!=d&&(a.host.height(d),a.items&&(a.items.length>0&&a.virtualItemsCount*a.items[0].height<d?a._render(!1):(a._updatescrollbars(),a._renderItems())))},1),"theme"==b&&c!=d&&(a.hScrollBar.jqxScrollBar({theme:a.theme}),a.vScrollBar.jqxScrollBar({theme:a.theme}),a.host.removeClass(),a.host.addClass(a.toThemeProperty("jqx-listbox")),a.host.addClass(a.toThemeProperty("jqx-widget")),a.host.addClass(a.toThemeProperty("jqx-widget-content")),a.host.addClass(a.toThemeProperty("jqx-reset")),a.host.addClass(a.toThemeProperty("jqx-rc-all")),a.refresh()),"selectedIndex"==b&&(a.clearSelection(),a.selectIndex(d,!0)),"displayMember"==b||"valueMember"==b){if(c!=d){var e=a.selectedIndex;a.refresh(),a.selectedIndex=e,a.selectedIndexes[e]=e}a._renderItems()}"autoHeight"==b&&(c!=d?a._render(!1):(a._updatescrollbars(),a._renderItems()))}},loadFromSelect:function(b){if(null!=b){var c="#"+b,d=a(c);if(d.length>0){var e=d.find("option"),f=d.find("optgroup"),g=0,h=-1,i=new Array;a.each(e,function(){var b=f.find(this).length>0,c=null;this.text==this.value||null!=this.label&&""!=this.label||(this.label=this.text);var d={disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this},e=a.browser.msie&&a.browser.version<8;e&&""==d.value&&null!=this.text&&this.text.length>0&&(d.value=this.text),b&&(c=f.find(this).parent()[0].label,d.group=c),this.selected&&(h=g),i[g]=d,g++}),this.source=i,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=h,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems()},refresh:function(b){var c=this;if(void 0!=this.vScrollBar){this._cachedItemHtml=[],this.visibleItems=new Array;var d=function(a){if(1==a&&-1!=c.selectedIndex){var b=c.selectedIndex;c.selectedIndex=-1,c._stopEvents=!0,c.selectIndex(b,!1,!0),-1==c.selectedIndex&&(c.selectedIndex=b),c._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),a.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source),d(b),void 0;this.items=this.loadItems(this.source),this._render(!1,1==b),d(b)}},_render:function(a){return this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(void 0==a||a)&&void 0!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),this._addHandlers(),void 0):(this._updateTouchScrolling(),this.rendered&&this.rendered(),this.ready&&this.ready(),void 0)},_createID:function(){var a=Math.random()+"";for(a=a.replace(".",""),a="99"+a,a/=1;this.items[a];)a=Math.random()+"",a=a.replace(".",""),a/=1;return"listitem"+a},_hitTest:function(a,b){var c=parseInt(this.vScrollInstance.value),d=this._searchFirstVisibleIndex(b+c,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[d]&&this.renderedVisibleItems[d].isGroup)return null;if(this.renderedVisibleItems.length>0){var e=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(e.height+e.top<b+c)return null}return d=this._searchFirstVisibleIndex(b+c),this.visibleItems[d]},_searchFirstVisibleIndex:function(a,b){void 0==a&&(a=parseInt(this.vScrollInstance.value));var c=0;(void 0==b||null==b)&&(b=this.visibleItems);for(var d=b.length;d>=c;){mid=parseInt((c+d)/2);var e=b[mid];if(void 0==e)break;if(e.initialTop>a&&e.initialTop+e.height>a)d=mid-1;else{if(!(e.initialTop<a&&e.initialTop+e.height<=a))return mid;c=mid+1}}return 0},_renderItems:function(){if(void 0==this.items||0==this.items.length)return this.visibleItems=new Array,void 0;if(1!=this.updatingListBox){var b=this.vScrollInstance,c=this.hScrollInstance,d=parseInt(b.value),e=parseInt(c.value);this.items.length,this.host.width();var f=parseInt(this.content[0].style.width),g=f+parseInt(c.max),h=parseInt(this.vScrollBar[0].style.width)+2;"hidden"==this.vScrollBar[0].style.visibility&&(h=0),"visible"!=this.hScrollBar[0].style.visibility&&(g=f),this._getVirtualItemsCount();var i=new Array,j=0,k=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(k=this.host.outerHeight()),isNaN(k)&&(k=0);var l=0,m=0,n=0;if(0==b.value||0==this.visibleItems.length)for(var o=0;o<this.items.length;o++){var p=this.items[o];if(p.visible){p.top=-d,p.initialTop=-d,!p.isGroup&&p.visible&&(this.visibleItems[m++]=p,p.visibleIndex=m-1),this.renderedVisibleItems[n++]=p,p.left=-e;var q=p.top+p.height;q>=0&&p.top-p.height<=k&&(i[j++]={index:o,item:p}),d-=p.height}}var r=d>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,s=0;j=0;for(var t=this.vScrollInstance.value,u=0;100+k>s;){var p=this.renderedVisibleItems[r];if(void 0==p)break;if(p.visible){p.left=-e;var q=p.top+p.height-t;q>=0&&p.initialTop-t-p.height<=2*k&&(i[j++]={index:r,item:p})}if(r++,p.visible&&(s+=p.initialTop-t+p.height-s),u++,u>this.items.length-1)break}for(var v=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),w=this.toThemeProperty("jqx-listitem-state-group"),x=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),y=0,z=this,o=0;o<this.visualItems.length;o++){var A=this.visualItems[o],B=function(){var a=A[0].firstChild;if(z.checkboxes&&(a=A[0].lastChild),null!=a&&(a.style.visibility="hidden",a.className=""),z.checkboxes&&z.host.jqxCheckBox){var b=A.find(".chkbox");b.css({visibility:"hidden"})}};if(o<i.length){var p=i[o].item;if(p.initialTop-t>=k){B();continue}var C=a(A[0].firstChild);if(this.checkboxes&&(C=a(A[0].lastChild)),0==C.length)continue;if(null==C[0])continue;C[0].className="",C[0].style.display="block",C[0].style.visibility="inherit";var D="";if(D=!p.isGroup&&!this.selectedIndexes[p.index]>=0?v:w,(p.disabled||this.disabled)&&(D+=" "+x),this.roundedcorners&&(D+=" "+this.toThemeProperty("jqx-rc-all")),C[0].className=D,this.renderer)if(p.key||(p.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[p.key])C[0].innerHTML!=this._cachedItemHtml[p.key]&&(C[0].innerHTML=this._cachedItemHtml[p.key]);else{var E=this.renderer(p.index,p.label,p.value);C[0].innerHTML=E,this._cachedItemHtml[p.key]=C[0].innerHTML}else null!=p.html&&p.html.toString().length>0?C[0].innerHTML=p.html:null!=p.label||null!=p.value?null!=p.label?(C[0].innerHTML!==p.label&&(C[0].innerHTML=p.label),""==p.label&&(C[0].innerHTML=this.emptyString,""==this.emptyString&&(C[0].style.height=p.height-8+"px"))):C[0].innerHTML!==p.value?C[0].innerHTML=p.value:""==p.label&&(C[0].innerHTML=" "):(""==p.label||null==p.label)&&(C[0].innerHTML="",C[0].style.height=p.height-8+"px");if(A[0].style.left=p.left+"px",A[0].style.top=p.initialTop-t+"px",p.element=C[0],p.title&&(C[0].title=p.title),this.equalItemsWidth&&!p.isGroup){if(0==l){var F=parseInt(g),G=parseInt(C.outerWidth())-parseInt(C.width());F-=G;var H=1;H=null!=H?parseInt(H):0,F-=2*H,l=F,this.checkboxes&&this.host.jqxCheckBox&&"visible"!=this.hScrollBar[0].style.visibility&&(l-=18)}f>this.virtualSize.width?(C[0].style.width=l+"px",p.width=l):(C[0].style.width=-4+this.virtualSize.width+"px",p.width=this.virtualSize.width-4)}else C.width()<this.host.width()&&C.width(this.host.width()-2);if(this.rtl&&(C[0].style.textAlign="right"),this.autoItemsHeight&&(C[0].style.whiteSpace="normal",C.width(l),p.width=l),y=0,this.checkboxes&&this.host.jqxCheckBox&&!p.isGroup){0==y&&(y=(p.height-16)/2,y++);var I=a(A.children()[0]);I[0].item=p,"18px"!=C[0].style.left&&(C[0].style.left="18px"),I.css("top",y+"px"),I.css({display:"block",visibility:"inherit"});var J=I.jqxCheckBox("checked");J!=p.checked?I.jqxCheckBox({checked:p.checked,disabled:p.disabled}):I.jqxCheckBox({disabled:p.disabled})}else if(this.checkboxes&&this.host.jqxCheckBox){var I=a(A.children()[0]);I.css({display:"none",visibility:"inherit"})}this.selectedIndexes[p.visibleIndex]>=0&&!p.disabled&&(C.addClass(this.toThemeProperty("jqx-listitem-state-selected")),C.addClass(this.toThemeProperty("jqx-fill-state-pressed")))}else B()}}},generatekey:function(){var a=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},_calculateVirtualSize:function(){var b=0,c=2,d=0,e=a("<span></span>"),f=0,g=this.host.outerHeight();a(document.body).append(e);var h=this.items.length,i=this.host.width();if(this.autoItemsHeight&&(i-=10,"hidden"!=this.vScrollBar.css("visibility")&&(i-=20)),this.renderer||this.groups.length>1||h>0&&null!=this.items[0].html)for(var d=0;h>d;d++){var j=this.items[d];if((!j.isGroup||""!=j.label||""!=j.html)&&j.visible){var k="";if(k+=j.isGroup?this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),k+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(k+=" "+this.toThemeProperty("jqx-touch")),this.equalItemsWidth&&e.css("float","left"),e[0].className=k,this.autoItemsHeight){e[0].style.whiteSpace="normal";var l=this.checkboxes?-20:0;e[0].style.width=l+i+"px"}if(this.renderer){var m=this.renderer(j.index,j.label,j.value);e[0].innerHTML=m}else null!=j.html&&j.html.toString().length>0?e[0].innerHTML=j.html:(null!=j.label||null!=j.value)&&(null!=j.label?(e[0].innerHTML=j.label,""==j.label&&(e[0].innerHTML="Empty")):e[0].innerHTML=j.value);
var n=e.outerHeight(),o=e.outerWidth();this.itemHeight>-1&&(n=this.itemHeight),j.height=n,j.width=o,c+=n,b=Math.max(b,o),g>=c&&f++}}else{for(var c=0,p=0,q="",r=0,s=0,d=0;h>d;d++){var j=this.items[d];if((!j.isGroup||""!=j.label||""!=j.html)&&j.visible){var k="";if(0==d){if(k+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),k+=" "+this.toThemeProperty("jqx-fill-state-normal"),k+=" "+this.toThemeProperty("jqx-widget"),k+=" "+this.toThemeProperty("jqx-listbox"),k+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(k+=" "+this.toThemeProperty("jqx-touch")),this.equalItemsWidth&&e.css("float","left"),e[0].className=k,this.autoItemsHeight){e[0].style.whiteSpace="normal";var l=this.checkboxes?-20:0;e[0].style.width=l+i+"px"}null!=j.html||""!=j.label&&null!=j.label?null!=j.html&&j.html.toString().length>0?e[0].innerHTML=j.html:(null!=j.label||null!=j.value)&&(e[0].innerHTML=null!=j.label?j.label:j.value):e[0].innerHTML="Item";var n=e.outerHeight();this.itemHeight>-1&&(n=this.itemHeight),p=n}void 0!=r&&(s=r),null!=j.html&&j.html.toString().length>0?(r=Math.max(r,j.html.toString().length),s!=r&&(q=j.html)):null!=j.label?(r=Math.max(r,j.label.length),s!=r&&(q=j.label)):null!=j.value&&(r=Math.max(r,j.value.length),s!=r&&(q=j.value)),j.height=p,c+=p,g>=c&&f++}}e[0].innerHTML=q,b=e.outerWidth()}return c+=2,10>f&&(f=10),e.remove(),{width:b,height:c,itemsPerPage:f}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var a=parseInt(this.host.height())/5;return a>this.items.length&&(a=this.items.length),a}return this.virtualItemsCount},_addItems:function(b){if(1!=this.updatingListBox){if(void 0==this.items||0==this.items.length)return this.virtualSize={width:0,height:0,itemsPerPage:0},this._updatescrollbars(),this.renderedVisibleItems=new Array,this.itemswrapper&&this.itemswrapper.children().remove(),void 0;if(0==b){var c=this._calculateVirtualSize(),d=2*c.itemsPerPage;this.autoHeight&&(d=this.items.length),this.virtualItemsCount=Math.min(d,this.items.length);var e=this;return c.width,this.virtualSize=c,this._updatescrollbars(),void 0}var f=this,g=0;this.visibleItems=new Array,this.renderedVisibleItems=new Array,this._removeHandlers(),this.allowDrag&&this._enableDragDrop&&(this.itemswrapper=null),null==this.itemswrapper&&(this.content[0].innerHTML="",this.itemswrapper=a('<div tabIndex=1 style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),this.itemswrapper.height(2*this.host.height()),this.content.append(this.itemswrapper));var c=this._calculateVirtualSize(),d=2*c.itemsPerPage;this.autoHeight&&(d=this.items.length),this.virtualItemsCount=Math.min(d,this.items.length);var e=this;c.width,this.virtualSize=c,this.itemswrapper.width(Math.max(this.host.width(),17+c.width));for(var h=this.itemswrapper.children().length,i=h;i<this.virtualItemsCount;i++){var j=this.items[i],k=a("<div style='-ms-touch-action: none; border: none; tabIndex=0 width:100%; height: 100%; align:left; valign:top; position: absolute;'><span style='-ms-touch-action: none;' id='spanElement'></span></div>");if(k[0].id=f._createID(),this.allowDrag&&this._enableDragDrop&&k.addClass("draggable"),k.appendTo(this.itemswrapper),this.checkboxes&&this.host.jqxCheckBox){var l=a('<div tabIndex=1 style="background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class="chkbox"/>');k.css("float","left");var m=a(k[0].firstChild);m.css("float","left"),k.prepend(l),l.jqxCheckBox({hasInput:!1,checked:j.checked,animationShowDelay:0,animationHideDelay:0,disabled:j.disabled,enableContainerClick:!1,keyboardCheck:!1,hasThreeStates:this.hasThreeStates,theme:this.theme}),j.checkBoxElement=l[0];var n=function(a,b){var c=a.owner.element.item;null!=c&&(a.args,b?e.checkIndex(c.index,!0):0==c.checked?e.uncheckIndex(c.index,!0):c.hasThreeStates&&e.hasThreeStates?0==b?e.uncheckIndex(c.index,!0):e.indeterminateIndex(c.index,!0):e.uncheckIndex(c.index,!0)),e.focused=!0};l.jqxCheckBox("updated",n)}k[0].style.height=j.height+"px",k[0].style.top=g+"px",g+=j.height,this.visualItems[i]=k}if(this._addHandlers(),this._updatescrollbars(),this.autoItemsHeight){var c=this._calculateVirtualSize(),d=2*c.itemsPerPage;this.autoHeight&&(d=this.items.length),this.virtualItemsCount=Math.min(d,this.items.length);var e=this;c.width,this.virtualSize=c,this._updatescrollbars()}a.browser.msie&&a.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){var b=this.virtualSize.height,c=this.virtualSize.width,d=this.vScrollInstance,e=this.hScrollInstance;this._arrange();var f=!1;if(b>this.host.outerHeight()){var g=0;c>this.host.outerWidth()&&(g=this.hScrollBar.outerHeight()+2),d.max=2+parseInt(b)+g-parseInt(this.host.height()),"inherit"!=this.vScrollBar[0].style.visibility&&(this.vScrollBar[0].style.visibility="inherit",f=!0)}else"hidden"!=this.vScrollBar[0].style.visibility&&(this.vScrollBar[0].style.visibility="hidden",f=!0,d.setPosition(0));var h=0;"hidden"!=this.vScrollBar[0].style.visibility&&(h=this.scrollBarSize+6);var i=this.checkboxes?20:0;if(this.autoItemsHeight)this.hScrollBar[0].style.visibility="hidden";else if(c>=this.host.outerWidth()-h-i){var j=e.max;e.max="inherit"==this.vScrollBar[0].style.visibility?i+h+parseInt(c)-this.host.width()+4:i+parseInt(c)-this.host.width()+6,"inherit"!=this.hScrollBar[0].style.visibility&&(this.hScrollBar[0].style.visibility="inherit",f=!0),j!=e.max&&e._arrange(),"inherit"==this.vScrollBar[0].style.visibility&&(d.max=2+parseInt(b)+this.hScrollBar.outerHeight()+2-parseInt(this.host.height()))}else"hidden"!=this.hScrollBar[0].style.visibility&&(this.hScrollBar[0].style.visibility="hidden",f=!0);e.setPosition(0),f&&this._arrange(),this.itemswrapper&&(this.itemswrapper.width(Math.max(this.host.width(),17+c)),this.itemswrapper.height(2*this.host.height()));var k=this.isTouchDevice();k&&("visible"!=this.vScrollBar.css("visibility")&&"visible"!=this.hScrollBar.css("visibility")?a.jqx.mobile.setTouchScroll(!1,this.element.id):a.jqx.mobile.setTouchScroll(!0,this.element.id))},clear:function(){this.source=null,this.clearSelection(),this.refresh()},clearSelection:function(a){for(indx=0;indx<this.selectedIndexes.length;indx++)this.selectedIndexes[indx]=-1;this.selectedIndex=-1,0!=a&&this._renderItems()},unselectIndex:function(a,b){isNaN(a)||(this.selectedIndexes[a]=-1,(void 0==b||1==b)&&(this._renderItems(),this._raiseEvent("1",{index:a,type:type})),this._updateInputSelection(),this._raiseEvent("2",{index:a,item:this.getItem(a)}))},getItem:function(b){if(-1==b||isNaN(b))return null;var c=null;return a.each(this.items,function(){return this.index==b?(c=this,!1):void 0}),c},getVisibleItem:function(a){return-1==a||isNaN(a)?null:this.visibleItems[a]},checkIndex:function(b,c,d){if(this.checkboxes&&this.host.jqxCheckBox&&!(isNaN(b)||0>b||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0)var e=this.getVisibleItem(b);null!=e&&(a(e.checkBoxElement),e.checked=!0,(void 0==c||1==c)&&this._updateCheckedItems()),(void 0==d||1==d)&&this._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e})}},getCheckedItems:function(){if(!this.checkboxes||!this.host.jqxCheckBox)return null;var b=new Array;if(void 0!=this.items)return a.each(this.items,function(){this.checked&&(b[b.length]=this)}),b},checkAll:function(b){this.checkboxes&&this.host.jqxCheckBox&&(this.disabled||(a.each(this.items,function(){this.checked=!0}),this._updateCheckedItems(),(void 0==b||1==b)&&this._raiseEvent(3,{checked:!0})))},uncheckAll:function(b){this.checkboxes&&this.host.jqxCheckBox&&(this.disabled||(a.each(this.items,function(){this.checked=!1}),this._updateCheckedItems(),(void 0==b||1==b)&&this._raiseEvent(3,{checked:!1})))},uncheckIndex:function(b,c,d){if(this.checkboxes&&this.host.jqxCheckBox&&!(isNaN(b)||0>b||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0)var e=this.getVisibleItem(b);null!=e&&(a(e.checkBoxElement),e.checked=!1,(void 0==c||1==c)&&this._updateCheckedItems()),(void 0==d||1==d)&&this._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e})}},indeterminateIndex:function(b,c,d){if(this.checkboxes&&this.host.jqxCheckBox&&!(isNaN(b)||0>b||b>=this.visibleItems.length||null!=this.visibleItems[b]&&this.visibleItems[b].disabled||this.disabled)){var e=this.getItem(b);if(this.groups.length>0)var e=this.getVisibleItem(b);null!=e&&(a(e.checkBoxElement),e.checked=null,(void 0==c||1==c)&&this._updateCheckedItems()),(void 0==d||1==d)&&this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var a=this.getItems(),b=this.selectedIndexes,c=[];for(var d in b)-1!=b[d]&&(c[c.length]=a[d]);return c},getSelectedItem:function(){return this.getItem(this.selectedIndex)},_updateCheckedItems:function(){var b=this.selectedIndex;this.clearSelection(!1),this.getCheckedItems(),this.selectedIndex=b,this._renderItems();var c=a.data(this.element,"hoveredItem");null!=c&&(a(c).addClass(this.toThemeProperty("jqx-listitem-state-hover")),a(c).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(a){if(null!=this.visibleItems){if(this.itemsByValue)return this.itemsByValue[a];for(var b=this.visibleItems,c=0;c<b.length;c++)if(b[c].value==a)return b[c]}},checkItem:function(a){return null!=a?this.checkIndex(a.index,!0):!1},uncheckItem:function(a){return null!=a?this.uncheckIndex(a.index,!0):!1},indeterminateItem:function(a){return null!=a?this.indeterminateIndex(a.index,!0):!1},selectItem:function(a){return null!=a?this.selectIndex(a.index,!0):!1},unselectItem:function(a){return null!=a?this.unselectIndex(a.index,!0):!1},selectIndex:function(a,b,c,d,e,f){if(!(isNaN(a)||-1>a||a>=this.visibleItems.length||null!=this.visibleItems[a]&&this.visibleItems[a].disabled||this.disabled||!(this.multiple||this.multipleextended||this.selectedIndex!=a||d))){if(this.checkboxes)return this._updateCheckedItems(),void 0;this.focused=!0;var g=!1;this.selectedIndex!=a&&(g=!0);var h=this.selectedIndex;this.selectedIndex!=a||this.multiple||(h=-1),void 0==e&&(e="none");var i=this.getItem(a),j=this.getItem(h);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(i=this.getVisibleItem(a),j=this.getVisibleItem(h)),void 0!=d&&d)this._raiseEvent("1",{index:h,type:e,item:j,originalEvent:f}),this.selectedIndex=a,this.selectedIndexes[h]=-1,this.selectedIndexes[a]=a,this._raiseEvent("0",{index:a,type:e,item:i,originalEvent:f});else{var k=this,l=function(a,b,c,d,e,f){k._raiseEvent("1",{index:b,type:c,item:d,originalEvent:f}),k.selectedIndex=a,k.selectedIndexes[b]=-1,b=a,k.selectedIndexes[a]=a,k._raiseEvent("0",{index:a,type:c,item:e,originalEvent:f})},m=function(a,b,c,d,e,f){void 0==k.selectedIndexes[a]||-1==k.selectedIndexes[a]?(k.selectedIndexes[a]=a,k.selectedIndex=a,k._raiseEvent("0",{index:a,type:c,item:e,originalEvent:f})):(b=k.selectedIndexes[a],k.selectedIndexes[a]=-1,k.selectedIndex=-1,k._raiseEvent("1",{index:b,type:c,item:d,originalEvent:f}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==e&&this.clearSelection(!1),m(a,h,e,j,i,f);else if(this._shiftKey){void 0==k._clickedIndex&&(k._clickedIndex=h);var n=Math.min(k._clickedIndex,a),o=Math.max(k._clickedIndex,a);this.clearSelection(!1);for(var p=n;o>=p;p++)k.selectedIndexes[p]=p,k._raiseEvent("0",{index:p,type:e,item:this.getVisibleItem(p),originalEvent:f});k.selectedIndex="keyboard"!=e?k._clickedIndex:a}}else"keyboard"!=e&&"mouse"!=e?(m(a,h,e,j,i,f),k._clickedIndex=a):(this.clearSelection(!1),k._clickedIndex=a,l(a,h,e,j,i,f));else this.multiple?m(a,h,e,j,i,f):l(a,h,e,j,i,f)}return(void 0==c||1==c)&&this._renderItems(),void 0!=b&&null!=b&&1==b&&this.ensureVisible(a),this._raiseEvent("2",{index:a,item:i,oldItem:j}),this._updateInputSelection(),g}},_updateInputSelection:function(){if(this.input&&(-1==this.selectedIndex?this.input.val(""):void 0!=this.items[this.selectedIndex]&&this.input.val(this.items[this.selectedIndex].value),this.multiple||this.multipleextended||this.checkboxes)){for(var a=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),b="",c=0;c<a.length;c++)void 0!=a[c]&&(b+=c==a.length-1?a[c].value:a[c].value+",");this.input.val(b)}},isIndexInView:function(a){if(isNaN(a))return!1;if(0>a||a>=this.items.length)return!1;var b=this.vScrollInstance.value,c=this.visibleItems[this.selectedIndex];if(void 0==c)return!0;var d=c.initialTop,e=c.height;return 0>d-b||d-b+e>=this.host.outerHeight()?!1:!0},_itemsInPage:function(){var b=0,c=this;return a.each(this.items,function(){return this.initialTop+this.height>=c.content.height()?!1:(b++,void 0)}),b},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(a){for(indx=a+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(a){for(indx=a-1;indx>=0;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_getMatches:function(b,c){if(void 0==b||0==b.length)return-1;void 0==c&&(c=0);var d=this.getItems(),e=this,f=-1;return a.each(d,function(){var d="";if(!this.isGroup){d=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var g=!1;switch(e.searchMode){case"containsignorecase":g=a.jqx.string.containsIgnoreCase(d,b);break;case"contains":g=a.jqx.string.contains(d,b);break;case"equals":g=a.jqx.string.equals(d,b);break;case"equalsignorecase":g=a.jqx.string.equalsIgnoreCase(d,b);break;case"startswith":g=a.jqx.string.startsWith(d,b);break;case"startswithignorecase":g=a.jqx.string.startsWithIgnoreCase(d,b);break;case"endswith":g=a.jqx.string.endsWith(d,b);break;case"endswithignorecase":g=a.jqx.string.endsWithIgnoreCase(d,b)}if(g&&this.visibleIndex>=c)return f=this.visibleIndex,!1}}),f},findItems:function(b){var c=this.getItems(),d=this,e=0,f=new Array;return a.each(c,function(){var c="";if(!this.isGroup){c=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var g=!1;switch(d.searchMode){case"containsignorecase":g=a.jqx.string.containsIgnoreCase(c,b);break;case"contains":g=a.jqx.string.contains(c,b);break;case"equals":g=a.jqx.string.equals(c,b);break;case"equalsignorecase":g=a.jqx.string.equalsIgnoreCase(c,b);break;case"startswith":g=a.jqx.string.startsWith(c,b);break;case"startswithignorecase":g=a.jqx.string.startsWithIgnoreCase(c,b);break;case"endswith":g=a.jqx.string.endsWith(c,b);break;case"endswithignorecase":g=a.jqx.string.endsWithIgnoreCase(c,b)}g&&(f[e++]=this)}}),f},_handleKeyDown:function(a){var b=a.keyCode,c=this,d=c.selectedIndex,e=c.selectedIndex;if(this.keyboardNavigation){var f=function(){c.multiple&&c.clearSelection(!1)};if(a.altKey&&(b=-1),c.incrementalSearch){var g=-1;c._searchString||(c._searchString=""),(8==b||46==b)&&c._searchString.length>=1&&(c._searchString=c._searchString.substr(0,c._searchString.length-1));var h=String.fromCharCode(b),i=!isNaN(parseInt(h));if(b>=65&&97>=b||i||8==b||32==b||46==b){a.shiftKey||(h=h.toLocaleLowerCase());var j=1+c.selectedIndex;8!=b&&32!=b&&46!=b&&(c._searchString.length>0&&c._searchString.substr(0,1)==h?j=1+c.selectedIndex:c._searchString+=h),32==b&&(c._searchString+=" ");var k=this._getMatches(c._searchString,j);if(g=k,g==c._lastMatchIndex||-1==g){var k=this._getMatches(c._searchString,0);g=k}if(c._lastMatchIndex=g,g>=0){f(),c.selectIndex(g,!1,!1,!1,"keyboard",a);var l=c.isIndexInView(g);l?c._renderItems():c.ensureVisible(g)}}if(void 0!=c._searchTimer&&clearTimeout(c._searchTimer),(27==b||13==b)&&(c._searchString=""),c._searchTimer=setTimeout(function(){c._searchString=""},c.incrementalSearchDelay),g>=0)return}if(this.checkboxes)return!0;if(33==b){var m=c._itemsInPage();c.selectedIndex-m>=0?(f(),c.selectIndex(e-m,!1,!1,!1,"keyboard",a)):(f(),c.selectIndex(c._firstItemIndex(),!1,!1,!1,"keyboard",a)),c._searchString=""}if(32==b&&this.checkboxes){var n=this.getItem(d);null!=n&&(c._updateItemCheck(n,d),a.preventDefault()),c._searchString=""}if(36==b&&(f(),c.selectIndex(c._firstItemIndex(),!1,!1,!1,"keyboard",a),c._searchString=""),35==b&&(f(),c.selectIndex(c._lastItemIndex(),!1,!1,!1,"keyboard",a),c._searchString=""),34==b){var m=c._itemsInPage();c.selectedIndex+m<c.visibleItems.length?(f(),c.selectIndex(e+m,!1,!1,!1,"keyboard",a)):(f(),c.selectIndex(c._lastItemIndex(),!1,!1,!1,"keyboard",a)),c._searchString=""}if(38==b){if(c._searchString="",!(c.selectedIndex>0))return!1;var o=c._prevItemIndex(c.selectedIndex);if(o==c.selectedIndex||-1==o)return!0;f(),c.selectIndex(o,!1,!1,!1,"keyboard",a)}else if(40==b){if(c._searchString="",!(c.selectedIndex+1<c.visibleItems.length))return!1;var o=c._nextItemIndex(c.selectedIndex);if(o==c.selectedIndex||-1==o)return!0;f(),c.selectIndex(o,!1,!1,!1,"keyboard",a)}if(35==b||36==b||38==b||40==b||34==b||33==b){var l=c.isIndexInView(c.selectedIndex);return l?c._renderItems():c.ensureVisible(c.selectedIndex),!1}return!0}},_updateItemCheck:function(a,b){switch(a.checked=1==a.checked?a.hasThreeStates&&this.hasThreeStates?null:!1:null!=a.checked,a.checked){case!0:this.checkIndex(b);break;case!1:this.uncheckIndex(b);break;default:this.indeterminateIndex(b)}},wheel:function(a,b){if(b.autoHeight||!b.enableMouseWheel)return a.returnValue=!0,!0;var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return d&&(a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation()),d?(d=!1,a.returnValue=d,d):!1}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){var b=this.vScrollInstance.value;0>a?this.scrollDown():this.scrollUp();var c=this.vScrollInstance.value;return b!=c?!0:!1},focus:function(){this.focused=!0,this.content.focus();var a=this;setTimeout(function(){a.content.focus()},10)},_removeHandlers:function(){this.removeHandler(a(document),"keydown.listbox"+this.element.id),this.removeHandler(a(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valuechanged"),this.removeHandler(this.hScrollBar,"valuechanged"),this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?(this.removeHandler(this.content,"mousemove",this._mousemovefunc),this._mousemovefunc=null):this.removeHandler(this.content,"mousemove"),a.browser.msie&&this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,a.jqx.mobile.getTouchEventName("touchend"))},_addHandlers:function(){var b=this;this.focused=!1,new Date;var c=this.isTouchDevice();(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&(a(window).unbind("resize."+this.element.id),a(window).bind("resize."+this.element.id,function(){if(b._arrange(),b.host.height()!=b._oldheight||b.host.width()!=b._oldwidth)if(b.host.width()!=b._oldwidth,b._oldwidth=b.host.width(),b._oldheight=b.host.height(),b.autoItemsHeight)b._render(!1);else if(b.items)if(b.items.length>0&&b.virtualItemsCount*b.items[0].height<b._oldheight)b._render(!1);else{var a=b.vScrollInstance.value;b._updatescrollbars(),b._renderItems(),a<b.vScrollInstance.max?b.vScrollInstance.setPosition(a):b.vScrollInstance.setPosition(b.vScrollInstance.max)}})),this.addHandler(this.vScrollBar,"valuechanged",function(){a.browser.msie&&a.browser.version>9?setTimeout(function(){b._renderItems()},1):b._renderItems()}),this.addHandler(this.hScrollBar,"valuechanged",function(){b._renderItems()}),this.addHandler(this.host,"mousewheel",function(a){b.wheel(a,b)}),this.addHandler(a(document),"keydown.listbox"+this.element.id,function(a){b._ctrlKey=a.ctrlKey,b._shiftKey=a.shiftKey}),this.addHandler(a(document),"keyup.listbox"+this.element.id,function(a){b._ctrlKey=a.ctrlKey,b._shiftKey=a.shiftKey}),this.addHandler(this.host,"keydown",function(a){return b.focused?b._handleKeyDown(a):void 0}),this.addHandler(this.content,"mouseleave",function(){b.focused=!1;var c=a.data(b.element,"hoveredItem");null!=c&&(a(c).removeClass(b.toThemeProperty("jqx-listitem-state-hover")),a(c).removeClass(b.toThemeProperty("jqx-fill-state-hover")),a.data(b.element,"hoveredItem",null))}),this.addHandler(this.content,"focus",function(){b.focused=!0}),this.addHandler(this.content,"blur",function(){b.focused=!1}),this.addHandler(this.content,"mouseenter",function(){b.focused=!0});var d=a.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var e=b.isTouchDevice(),f=e?"touchend":"mousedown";this.overlayContent?this.addHandler(this.overlayContent,a.jqx.mobile.getTouchEventName("touchend"),function(c){if(e&&(b._newScroll=new Date,b._newScroll-b._lastScroll<500))return!0;var d=a.jqx.mobile.getTouches(c),f=d[0];if(void 0!=f){var g=b.host.offset(),h=parseInt(f.pageX),i=parseInt(f.pageY);1==b.touchmode&&(h=parseInt(f._pageX),i=parseInt(f._pageY)),h-=g.left,i-=g.top;var j=b._hitTest(h,i);if(null!=j&&!j.isGroup){if(b.checkboxes){var k=a(j.element).offset(),l=parseInt(k.left);l+20>=h&&(j.checked?b.uncheckIndex(j.visibleIndex):b.checkIndex(j.visibleIndex))}-1!=j.html.indexOf("href")?setTimeout(function(){b.selectIndex(j.visibleIndex,!1,!0,!1,"mouse",c)},100):b.selectIndex(j.visibleIndex,!1,!0,!1,"mouse",c)}}}):this.addHandler(this.content,f,function(c){if(e&&(b._newScroll=new Date,b._newScroll-b._lastScroll<500))return!1;if(b.focused=!0,b.isTouchDevice()||b.content.focus(),c.target.id!="listBoxContent"+b.element.id&&b.itemswrapper[0]!=c.target){var g=c.target,h=a(g).offset(),i=b.host.offset();if(d){var j=a.jqx.mobile.getLeftPos(g),k=a.jqx.mobile.getTopPos(g);h.left=j,h.top=k,j=a.jqx.mobile.getLeftPos(b.element),k=a.jqx.mobile.getTopPos(b.element),i.left=j,i.top=k}var l=parseInt(h.top)-parseInt(i.top),m=parseInt(h.left)-parseInt(i.left),n=b._hitTest(m,l);if(null!=n&&!n.isGroup){var o=function(a,c){b._shiftKey||(b._clickedIndex=a.visibleIndex),b.checkboxes?(b.selectedIndex=a.visibleIndex,m+b.hScrollInstance.value>=20&&b._updateItemCheck(a,a.visibleIndex)):b.selectIndex(a.visibleIndex,!1,!0,!1,"mouse",c)};n.disabled||(-1!=n.html.indexOf("href")?setTimeout(function(){o(n,c)},100):o(n,c))}if("mousedown"==f){var p=!1;return c.which?p=3==c.which:c.button&&(p=2==c.button),p?!0:!1}}return!0}),this.addHandler(this.content,"mouseup",function(a){b.vScrollInstance.handlemouseup(b,a)}),a.browser.msie&&this.addHandler(this.content,"selectstart",function(){return!1})}var c=this.isTouchDevice();this.enableHover&&!c&&(this._mousemovefunc=function(e){if(c)return!0;if(!b.enableHover)return!0;if(1==a.browser.msie&&a.browser.version<9?0:1,null==e.target)return!0;if(b.disabled)return!0;b.focused=!0;var f=b.vScrollInstance.isScrolling();if(!f&&e.target.id!="listBoxContent"+b.element.id&&b.itemswrapper[0]!=e.target){var g=e.target,h=a(g).offset(),i=b.host.offset();if(d){var j=a.jqx.mobile.getLeftPos(g),k=a.jqx.mobile.getTopPos(g);h.left=j,h.top=k,j=a.jqx.mobile.getLeftPos(b.element),k=a.jqx.mobile.getTopPos(b.element),i.left=j,i.top=k}var l=parseInt(h.top)-parseInt(i.top),m=parseInt(h.left)-parseInt(i.left),n=b._hitTest(m,l);if(null!=n&&!n.isGroup&&!n.disabled){var o=a.data(b.element,"hoveredItem");null!=o&&(a(o).removeClass(b.toThemeProperty("jqx-listitem-state-hover")),a(o).removeClass(b.toThemeProperty("jqx-fill-state-hover"))),a.data(b.element,"hoveredItem",n.element);var p=a(n.element);p.addClass(b.toThemeProperty("jqx-listitem-state-hover")),p.addClass(b.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(){var a=null,b=null,c=this,d=function(a){return a=c.host.height(),0==a&&(a=200,c.host.height(a)),a};null!=this.width&&-1!=this.width.toString().indexOf("px")?a=this.width:void 0==this.width||isNaN(this.width)||(a=this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?b=this.height:void 0==this.height||isNaN(this.height)||(b=this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),a=this.host.width()),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),b=d(b));var e=this.host.css("border-width");null==e&&(e=0),null!=a&&(a=parseInt(a),parseInt(this.element.style.width)!=parseInt(this.width)&&this.host.width(this.width)),this.autoHeight?this.virtualSize&&("hidden"!=this.hScrollBar.css("visibility")?(this.host.height(this.virtualSize.height+parseInt(this.scrollBarSize)+3),this.height=this.virtualSize.height+parseInt(this.scrollBarSize)+3):(this.host.height(this.virtualSize.height),this.height=this.virtualSize.height)):null!=b&&(b=parseInt(b),parseInt(this.element.style.height)!=parseInt(this.height)&&(this.host.height(this.height),d(b)));var f=this.scrollBarSize;isNaN(f)&&(f=parseInt(f),isNaN(f)?f="17px":f+="px"),f=parseInt(f);var g=4,h=2,i=0;if(this.vScrollBar&&("hidden"!=this.vScrollBar[0].style.visibility?i=f+g:this.vScrollInstance.setPosition(0),this.hScrollBar)){"hidden"!=this.hScrollBar[0].style.visibility?h=f+g:this.hScrollInstance.setPosition(0),this.autoItemsHeight&&(this.hScrollBar[0].style.visibility="hidden",h=0);var j=parseInt(b)-g-f;0>j&&(j=0),this.hScrollBar.height(f),this.hScrollBar.css({top:j+"px",left:"0px"}),this.hScrollBar.width(a-f-g+"px"),0==i&&this.hScrollBar.width(a-2),f!=parseInt(this.vScrollBar[0].style.width)&&this.vScrollBar.width(f),parseInt(b)-h!=parseInt(this.vScrollBar[0].style.height)&&this.vScrollBar.height(parseInt(b)-h+"px"),this.vScrollBar.css({left:parseInt(a)-parseInt(f)-g+"px",top:"0px"});var k=this.vScrollInstance;k.disabled=this.disabled,k._arrange();var l=this.hScrollInstance;l.disabled=this.disabled,l._arrange(),"hidden"!=this.vScrollBar[0].style.visibility&&"hidden"!=this.hScrollBar[0].style.visibility?(this.bottomRight.css("visibility","inherit"),this.bottomRight.css({left:1+parseInt(this.vScrollBar.css("left")),top:1+parseInt(this.hScrollBar.css("top"))}),this.rtl&&this.bottomRight.css({left:0}),this.bottomRight.width(parseInt(f)+3),this.bottomRight.height(parseInt(f)+3)):this.bottomRight.css("visibility","hidden"),parseInt(this.content[0].style.width)!=parseInt(a)-i&&this.content.width(parseInt(a)-i),this.rtl&&(this.vScrollBar.css({left:"0px",top:"0px"}),this.hScrollBar.css({left:this.vScrollBar.width()+"px"}),"hidden"!=this.vScrollBar[0].style.visibility?this.content.css("margin-left",4+this.vScrollBar.width()):(this.content.css("margin-left",0),this.hScrollBar.css({left:"0px"}))),parseInt(this.content[0].style.height)!=parseInt(b)-h&&this.content.height(parseInt(b)-h),this.overlayContent&&(this.overlayContent.width(parseInt(a)-i),this.overlayContent.height(parseInt(b)-h))}},ensureVisible:function(b){var c=this.isIndexInView(b);if(!c){if(0>b)return;if(this.autoHeight){var d=a.data(this.vScrollBar[0],"jqxScrollBar").instance;d.setPosition(0)}else for(indx=0;indx<this.visibleItems.length;indx++){var e=this.visibleItems[indx];if(e.visibleIndex==b&&!e.isGroup){var d=a.data(this.vScrollBar[0],"jqxScrollBar").instance;d.setPosition(e.initialTop);break}}}this._renderItems()},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value+a.largestep<=a.max?(a.setPosition(a.value+a.largestep),!0):(a.setPosition(a.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value-a.largestep>=a.min?(a.setPosition(a.value-a.largestep),!0):a.value!=a.min?(a.setPosition(a.min),!0):!1},databind:function(b){this.records=new Array;var c=b._source?!0:!1,d=new a.jqx.dataAdapter(b,{autoBind:!1});c&&(d=b,b=b._source);var e=function(){void 0!=b.type&&(d._options.type=b.type),void 0!=b.formatdata&&(d._options.formatData=b.formatdata),void 0!=b.contenttype&&(d._options.contentType=b.contenttype),void 0!=b.async&&(d._options.async=b.async)},f=function(b,c){var e=function(c){if("string"==typeof c)var d=c,e=c;else var e=c[b.valueMember],d=c[b.displayMember];var f=new a.jqx._jqxListBox.item;return f.label=d,f.value=e,f.html="",f.visible=!0,f.originalItem=c,f.group="",f.groupHtml="",f.disabled=!1,f.hasThreeStates=!0,f};if(void 0!=c){var f=d._changedrecords[0];if(f)return a.each(d._changedrecords,function(){var a=this.index,d=this.record;if("remove"!=c)var f=e(d);switch(c){case"update":b.updateAt(f,a);break;case"add":b.insertAt(f,a);break;case"remove":b.removeAt(a)}}),void 0}b.records=d.records;var g=b.records.length;b.items=new Array,b.itemsByValue=new Array;for(var h=0;g>h;h++){var i=b.records[h],j=e(i);j.index=h,b.items[h]=j;var k=j.value;(""==j.value||null==j.value)&&(k=h),b.itemsByValue[k]=j}b._render(),b._raiseEvent("6")};e(this);var g=this;switch(b.datatype){case"local":case"array":default:null!=b.localdata&&(d.unbindBindingUpdate(this.element.id),d.dataBind(),f(this),d.bindBindingUpdate(this.element.id,function(a){f(g,a)}));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=b.localdata)return d.unbindBindingUpdate(this.element.id),d.dataBind(),f(this),d.bindBindingUpdate(this.element.id,function(){f(g)}),void 0;var h={};d._options.data?a.extend(d._options.data,h):(b.data&&a.extend(h,b.data),d._options.data=h);var i=function(){f(g)};d.unbindDownloadComplete(g.element.id),d.bindDownloadComplete(g.element.id,i),d.dataBind()}},loadItems:function(b){if(null==b)return this.groups=new Array,this.items=new Array,this.visualItems=new Array,void 0;var c=this,d=0,e=0,f=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var g=new Array;this.itemsByValue=new Array,a.map(b,function(b){if(void 0==b)return null;var h=new a.jqx._jqxListBox.item,i=b.group,j=b.groupHtml,k=b.title;if((null==k||void 0==k)&&(k=""),(null==i||void 0==i)&&(i=""),(null==j||void 0==j)&&(j=""),!c.groups[i]){c.groups[i]={items:new Array,index:-1,caption:i,captionHtml:j},d++;var l=d+"jqxGroup";c.groups[l]=c.groups[i],e++,c.groups.length=e}var m=c.groups[i];return m.index++,m.items[m.index]=h,"string"==typeof b?(h.label=b,h.value=b):null==b.label&&null==b.value&&null==b.html&&null==b.group&&null==b.groupHtml?(h.label=b.toString(),h.value=b.toString()):(h.label=b.label||b.value,h.value=b.value||b.label),"string"!=typeof b&&(""!=c.displayMember&&b[c.displayMember]&&(h.label=b[c.displayMember]),""!=c.valueMember&&(h.value=b[c.valueMember])),h.hasThreeStates=void 0!=b.hasThreeStates?b.hasThreeStates:!0,h.originalItem=b,h.title=k,h.html=b.html||"",b.html&&""!=b.html,h.group=i,h.checked=b.checked||!1,h.groupHtml=b.groupHtml||"",h.disabled=b.disabled||!1,h.visible=b.visible||!0,h.index=f,g[f]=h,f++,h});var h=new Array,i=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var j=0;e>j;j++){var d=j+1,k=d+"jqxGroup",l=this.groups[k];if(void 0==l||null==l)break;if(0==j&&""==l.caption&&""==l.captionHtml&&1>=e){for(var m=0;m<l.items.length;m++){var n=l.items[m].value;(""==l.items[m].value||null==l.items[m].value)&&(n=m),this.itemsByValue[n]=l.items[m]}return l.items}var o=new a.jqx._jqxListBox.item;o.isGroup=!0,o.label=l.caption,""==l.caption&&""==l.captionHtml&&(l.caption=this.emptyGroupText,o.label=l.caption),o.html=l.captionHtml,h[i]=o;
var n=o.value;(""==o.value||null==o.value)&&(n=i),c.itemsByValue[n]=o,i++;for(var p=0;p<l.items.length;p++)h[i]=l.items[p],i++}else{var i=0,q=new Array;a.each(g,function(){if(!q[this.group]&&""!=this.group){var b=new a.jqx._jqxListBox.item;b.isGroup=!0,b.label=this.group,h[i]=b,i++,q[this.group]=!0}h[i]=this;var d=this.value;(""==this.value||null==this.value)&&(d=i-1),c.itemsByValue[d]=this,i++})}return h},_mapItem:function(b){var c=new a.jqx._jqxListBox.item;return"string"==typeof b?(c.label=b,c.value=b):"number"==typeof b?(c.label=b.toString(),c.value=b.toString()):(c.label=b.label||b.value,c.value=b.value||b.label),void 0==c.label&&void 0==c.value&&void 0==c.html&&(c.label=c.value=b),c.html=b.html||"",c.group=b.group||"",c.title=b.title||"",c.groupHtml=b.groupHtml||"",c.disabled=b.disabled||!1,c.visible=b.visible||!0,c},addItem:function(a){return this.insertAt(a,this.items?this.items.length:0)},updateAt:function(a,b){if(null!=a){var c=this._mapItem(a);this.items[b].value=c.value,this.items[b].label=c.label,this.items[b].html=c.html,this.items[b].disabled=c.disabled}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(b,c){if(null==b)return!1;if(this._cachedItemHtml=[],void 0==this.items||0==this.items.length){this.source=new Array,this.refresh();var d=this._mapItem(b);return d.index=0,this.items[this.items.length]=d,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),!1}var d=this._mapItem(b);if(-1==c||void 0==c||null==c||c>=this.items.length)d.index=this.items.length,this.items[this.items.length]=d;else{for(var e=new Array,f=0,g=!1,h=0,i=0;i<this.items.length;i++)0==this.items[i].isGroup&&h>=c&&!g&&(e[f++]=d,d.index=c,h++,g=!0),e[f]=this.items[i],this.items[i].isGroup||(e[f].index=h,h++),f++;this.items=e}this.visibleItems=new Array,this.renderedVisibleItems=new Array;var j=a.data(this.vScrollBar[0],"jqxScrollBar").instance,k=j.value;return j.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),j.setPosition(k),this.rendered&&this.rendered(),!0},removeAt:function(b){if(0>b||b>this.items.length-1)return!1;var c=this.items[b].height;this.items.splice(b,1);for(var d=new Array,e=0,f=0,g=0;g<this.items.length;g++)d[e]=this.items[g],this.items[g].isGroup||(d[e].index=f,f++),e++;this.items=d;var h=a.data(this.vScrollBar[0],"jqxScrollBar").instance,h=a.data(this.vScrollBar[0],"jqxScrollBar").instance,i=h.value;if(h.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=c;var j=2*this.virtualSize.itemsPerPage;this.autoHeight&&(j=this.items.length),this.virtualItemsCount=Math.min(j,this.items.length)}this._updatescrollbars()}else this._addItems();return this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?h.setPosition(i):h.setPosition(0),this.rendered&&this.rendered(),!0},removeItem:function(a){this.removeAt(a.index)},getItems:function(){return this.items},disableAt:function(a){return this.items?0>a||a>this.items.length-1?!1:(this.items[a].disabled=!0,this._renderItems(),!0):!1},enableAt:function(a){return this.items?0>a||a>this.items.length-1?!1:(this.items[a].disabled=!1,this._renderItems(),!0):!1},destroy:function(){this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.host.removeClass("jqx-listbox jqx-rc-all"),this.host.remove()},_raiseEvent:function(a,b){if(1==this._stopEvents)return!0;void 0==b&&(b={owner:null});var c=this.events[a];args=b,args.owner=this,this._updateInputSelection();var d=new jQuery.Event(c);if(d.owner=this,d.args=args,null!=this.host)var e=this.host.trigger(d);return e}})}(jQuery),function(a){a.jqx._jqxListBox.item=function(){var a={group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1};return a}}(jQuery),function(a){a.jqx.jqxWidget("jqxComboBox","",{}),a.extend(a.jqx._jqxComboBox.prototype,{defineInstance:function(){this.disabled=!1,this.width=null,this.height=null,this.items=new Array,this.selectedIndex=-1,this.source=null,this.scrollBarSize=15,this.arrowSize=18,this.enableHover=!0,this.enableSelection=!0,this.visualItems=new Array,this.groups=new Array,this.equalItemsWidth=!0,this.itemHeight=-1,this.visibleItems=new Array,this.emptyGroupText="Group",this.emptyString="",void 0==this.openDelay&&(this.openDelay=350),void 0==this.closeDelay&&(this.closeDelay=400),this.animationType="default",this.dropDownWidth="auto",this.dropDownHeight="200px",this.autoDropDownHeight=!1,this.enableBrowserBoundsDetection=!1,this.dropDownHorizontalAlignment="left",this.searchMode="startswithignorecase",this.autoComplete=!1,this.remoteAutoComplete=!1,this.remoteAutoCompleteDelay=500,this.minLength=2,this.displayMember="",this.valueMember="",this.keyboardSelection=!0,this.renderer=null,this.autoOpen=!1,this.checkboxes=!1,this.promptText="",this.events=["open","close","select","unselect","change","checkChange","bindingComplete"]},createInstance:function(){this.render()},render:function(){this.removeHandlers(),this.isanimating=!1,this.id=a.jqx.utilities.createId(),this.element.innerHTML="";var b=a("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='padding: 0; margin: 0; border-left: none; border-top: none; border-bottom: none; float: left; position: absolute;'/><div id='dropdownlistArrow' style='padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/></div></div>");if(this.comboStructure=b,null==a.jqx._jqxListBox||void 0==a.jqx._jqxListBox)throw"jqxListBox is not loaded.";this.touch=a.jqx.mobile.isTouchDevice(),this.host.append(b),this.dropdownlistWrapper=this.host.find("#dropdownlistWrapper"),this.dropdownlistArrow=this.host.find("#dropdownlistArrow"),this.dropdownlistContent=this.host.find("#dropdownlistContent"),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-widget-content")),this.dropdownlistWrapper[0].id="dropdownlistWrapper"+this.element.id,this.dropdownlistArrow[0].id="dropdownlistArrow"+this.element.id,this.dropdownlistContent[0].id="dropdownlistContent"+this.element.id,this.dropdownlistContent.append(a('<input autocomplete="off" style="margin: 0; padding: 0; border: 0;" type="textarea"/>')),this.input=this.dropdownlistContent.find("input"),this.input.addClass(this.toThemeProperty("jqx-combobox-input")),this.input.addClass(this.toThemeProperty("jqx-widget-content")),this._addInput();try{var c="listBox"+this.id,d=a(a.find("#"+c));d.length>0&&d.remove();var e=a("<div style='overflow: hidden; border: none; background-color: transparent; position: absolute;' id='listBox"+this.id+"'><div id='innerListBox"+this.id+"'></div></div>");e.hide(),e.appendTo(document.body),this.container=e,this.listBoxContainer=a(a.find("#innerListBox"+this.id));var f=this.width;"auto"!=this.dropDownWidth&&(f=this.dropDownWidth),null==this.dropDownHeight&&(this.dropDownHeight=200);var g=this;this.container.width(parseInt(f)+25),this.container.height(parseInt(this.dropDownHeight)+25),this.addHandler(this.listBoxContainer,"bindingComplete",function(){g._raiseEvent("6")}),this.listBoxContainer.jqxListBox({checkboxes:this.checkboxes,emptyString:this.emptyString,renderer:this.renderer,itemHeight:this.itemHeight,incrementalSearch:!1,width:f,scrollBarSize:this.scrollBarSize,autoHeight:this.autoDropDownHeight,height:this.dropDownHeight,displayMember:this.displayMember,valueMember:this.valueMember,source:this.source,theme:this.theme,rendered:function(){if(g.listBox=a.data(g.listBoxContainer[0],"jqxListBox").instance,g.autoComplete||g.remoteAutoComplete||g.listBoxContainer.jqxListBox("selectIndex",g.selectedIndex),g.autoComplete&&!g.remoteAutoComplete&&g.clearSelection(),g.remoteAutoComplete){if(g.container.height(g.listBox.virtualSize.height+25),g.listBoxContainer.height(g.listBox.virtualSize.height),void 0!=g.searchString){var b=g.listBoxContainer.jqxListBox("items");b?b.length>0?g.isOpened()||g.open():g.close():g.close()}}else g.renderSelection("mouse");g.rendered&&g.rendered()}}),this.listBoxContainer.css({position:"absolute",zIndex:1e5,top:0,left:0}),this.listBoxContainer.css("border-top-width","1px"),this.listBox=a.data(this.listBoxContainer[0],"jqxListBox").instance,this.listBox.enableSelection=this.enableSelection,this.listBox.enableHover=this.enableHover,this.listBox.equalItemsWidth=this.equalItemsWidth,this.listBox.selectIndex(this.selectedIndex),this.listBox._arrange(),this.addHandler(this.host,"loadContent",function(){g._arrange()}),this.addHandler(this.listBoxContainer,"unselect",function(a){g._raiseEvent("3",{index:a.args.index,type:a.args.type,item:a.args.item})}),this.addHandler(this.listBoxContainer,"change",function(a){g._raiseEvent("4",{index:a.args.index,type:a.args.type,item:a.args.item})}),"none"==this.animationType?this.container.css("display","none"):this.container.hide()}catch(h){}var i=this;i.input.attr("disabled",i.disabled);var j=a.jqx.browser.msie&&a.jqx.browser.version<8;if(j||i.input.attr("placeholder",i.promptText),this.propertyChangeMap.disabled=function(a,b,c,d){d?(a.host.addClass(i.toThemeProperty("jqx-combobox-state-disabled")),a.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),a.dropdownlistContent.addClass(i.toThemeProperty("jqx-combobox-content-disabled"))):(a.host.removeClass(i.toThemeProperty("jqx-combobox-state-disabled")),a.host.removeClass(i.toThemeProperty("jqx-fill-state-disabled")),a.dropdownlistContent.removeClass(i.toThemeProperty("jqx-combobox-content-disabled"))),a.input.attr("disabled",i.disabled)},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-combobox-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-disabled"))),this.host.addClass(this.toThemeProperty("jqx-combobox-state-normal")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.dropdownlistArrowIcon=a("<div></div>"),this.dropdownlistArrowIcon.addClass(this.toThemeProperty("icon-arrow-down")),this.dropdownlistArrowIcon.addClass(this.toThemeProperty("icon")),this.dropdownlistArrow.append(this.dropdownlistArrowIcon),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-normal")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-r")),this._setSize(),this._updateHandlers(),this.addHandler(this.input,"keyup.textchange",function(a){g._search(a)}),a.jqx.browser.msie&&a.jqx.browser.version<8&&this.host.parents(".jqx-window").length>0){var k=this.host.parents(".jqx-window").css("z-index");e.css("z-index",k+10),this.listBoxContainer.css("z-index",k+10)}this.checkboxes&&this.input.attr("readonly",!0)},_addInput:function(){var b=this.host.attr("name");b||(b=this.element.id),this.cinput=a("<input type='hidden'/>"),this.host.append(this.cinput),this.cinput.attr("name",b)},_updateInputSelection:function(){if(this.cinput){if(-1==this.selectedIndex)this.cinput.val("");else{var a=this.getSelectedItem();null!=a?this.cinput.val(a.value):this.cinput.val(this.dropdownlistContent.text())}if(this.checkboxes){var b=this.getCheckedItems(),c="";if(null!=b)for(var d=0;d<b.length;d++)c+=d==b.length-1?b[d].value:b[d].value+",";this.cinput.val(c)}}},_search:function(a){if(9!=a.keyCode&&"none"!=this.searchMode&&null!=this.searchMode&&"undefined"!=this.searchMode){if(16==a.keyCode||17==a.keyCode||20==a.keyCode)return!1;if(this.checkboxes)return!1;if(!this.isanimating){if(a.altKey&&38==a.keyCode)return this.hideListBox(),!1;if(a.altKey&&40==a.keyCode)return this.isOpened()||this.showListBox(),!1}if(37==a.keyCode||39==a.keyCode)return!1;if(!(a.altKey||18==a.keyCode||a.keyCode>=33&&a.keyCode<=40)){var b=this.input.val();if(0==b.length&&!this.autoComplete)return this.hideListBox(),this.listBox.selectIndex(-1,!0),void 0;if(this.remoteAutoComplete){var c=this,d=function(){c.listBox.vScrollInstance.value=0,c.selectedIndex=-1,c.listBox.selectedIndex=-1,c.listBox.clearSelection()};return b.length>=c.minLength?a.ctrlKey||a.shiftKey||a.altKey||(c.searchString!=b&&(this._searchTimer&&clearTimeout(this._searchTimer),13!=a.keyCode&&27!=a.keyCode&&(this._searchTimer=setTimeout(function(){d(),c.listBox.autoHeight=!0,c.searchString=c.input.val(),c.search(c.input.val())},this.remoteAutoCompleteDelay))),c.searchString=b):(this._searchTimer&&clearTimeout(this._searchTimer),d(),c.searchString=c.input.val(),c.listBoxContainer.jqxListBox({source:null})),void 0}var c=this,e=this._getMatches(b),f=e.matchItems,g=e.index;if(c.autoComplete&&(void 0!=f||""==b?(this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.virtualSize.height<parseInt(this.dropDownHeight)?(this.listBox.autoHeight=!0,this.container.height(this.listBox.virtualSize.height+25),this.listBoxContainer.height(this.listBox.virtualSize.height),this.listBox._arrange()):(this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange()),this.listBox._addItems(),this.listBox._renderItems(),g=0):g=-1,-1==g&&this.hideListBox()),"13"==a.keyCode){var h="block"==this.container.css("display");if(h&&!this.isanimating)return this.hideListBox(),void 0}else if("27"==a.keyCode){var h="block"==this.container.css("display");if(h&&!this.isanimating)return this.hideListBox(),a.preventDefault(),!1}else if(g>-1){this.listBox.selectedIndex,this.isOpened()||this.opening||a.ctrlKey||this.listBox.visibleItems&&this.listBox.visibleItems.length>0&&this.input.val()!=this.searchString&&void 0!=this.searchString&&this.showListBox(),this.searchString=this.input.val(),this.listBox.clearSelection();var i=this.listBox.getVisibleItem(g);if(void 0!=i&&("startswith"==this.searchMode||"startswithignorecase"==this.searchMode)){this.listBox.selectIndex(g,!0);var j=this.input.val(),c=this;a.ctrlKey||8==parseInt(a.keyCode)||46==parseInt(a.keyCode)||i.label!=c.input.val()&&void 0!=i.label&&(c.input.val(i.label),c.input.focus(),c._setSelection(j.length,i.label.length))}}else-1==g&&this.listBox.clearSelection()}}},val:function(a){return this.input?"object"==typeof a?this.input.val():(this.input.val(a),this.input.val()):""},focus:function(){var a=this,b=function(){a.input.focus();var b=a.input.val();a._setSelection(0,b.length)};b(),setTimeout(function(){b()},10)},_setSelection:function(a,b){try{if("selectionStart"in this.input[0])this.input[0].focus(),this.input[0].setSelectionRange(a,b);else{var c=this.input[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}}catch(d){}},setContent:function(a){this.input.val(a)},_getMatches:function(b){var c=this.getItems();if(void 0==c)return{index:-1,mathItem:new Array};var d=this,e=-1,f=new Array,g=0;return a.each(c,function(){var c="";if(!this.isGroup){c=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var h=!1;switch(d.searchMode){case"containsignorecase":h=a.jqx.string.containsIgnoreCase(c,b);break;case"contains":h=a.jqx.string.contains(c,b);break;case"equals":h=a.jqx.string.equals(c,b);break;case"equalsignorecase":h=a.jqx.string.equalsIgnoreCase(c,b);break;case"startswith":h=a.jqx.string.startsWith(c,b);break;case"startswithignorecase":h=a.jqx.string.startsWithIgnoreCase(c,b);break;case"endswith":h=a.jqx.string.endsWith(c,b);break;case"endswithignorecase":h=a.jqx.string.endsWithIgnoreCase(c,b)}if(d.autoComplete&&!h&&(this.visible=!1),h&&d.autoComplete&&(f[g++]=this,this.visible=!0),""==b&&d.autoComplete&&(this.visible=!0,h=!1),h&&!d.autoComplete)return e=this.visibleIndex,!1}}),{index:e,matchItems:f}},findItems:function(b){var c=this.getItems(),d=this,e=0,f=new Array;return a.each(c,function(){var c="";if(!this.isGroup){c=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var g=!1;switch(d.searchMode){case"containsignorecase":g=a.jqx.string.containsIgnoreCase(c,b);break;case"contains":g=a.jqx.string.contains(c,b);break;case"equals":g=a.jqx.string.equals(c,b);break;case"equalsignorecase":g=a.jqx.string.equalsIgnoreCase(c,b);break;case"startswith":g=a.jqx.string.startsWith(c,b);break;case"startswithignorecase":g=a.jqx.string.startsWithIgnoreCase(c,b);break;case"endswith":g=a.jqx.string.endsWith(c,b);break;case"endswithignorecase":g=a.jqx.string.endsWithIgnoreCase(c,b)}g&&(f[e++]=this)}}),f},_resetautocomplete:function(){a.each(this.listBox.items,function(){this.visible=!0}),this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange(),this.listBox._addItems(),this.listBox._renderItems()},getItems:function(){var a=this.listBox.items;return a},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var b=!1;if(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(b=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(b=!0,this.host.height(this.height)),b){var c=this;c._arrange();var d=this.host.width();"auto"!=this.dropDownWidth&&(d=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:d}),this.container.width(parseInt(d)+25);var e=function(){if(c._arrange(),"auto"==c.dropDownWidth){var a=c.host.width();c.listBoxContainer.jqxListBox({width:a}),c.container.width(parseInt(a)+25)}};a(window).unbind("resize."+this.id),a(window).bind("resize."+this.id,function(){e()})}},isOpened:function(){var b=this,c=a.data(document.body,"openedComboJQXListBox");return"block"!=this.container.css("display")?!1:null!=c&&c==b.listBoxContainer?!0:!1},_updateHandlers:function(){var b=this,c=!1;this.removeHandlers(),this.touch||this.host.hover(function(){!b.disabled&&b.enableHover&&(c=!0,b.host.addClass(b.toThemeProperty("jqx-combobox-state-hover")),b.dropdownlistArrowIcon.addClass(b.toThemeProperty("icon-arrow-down-hover")),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-combobox-arrow-hover")),b.dropdownlistArrow.addClass(b.toThemeProperty("jqx-fill-state-hover")))},function(){!b.disabled&&b.enableHover&&(b.host.removeClass(b.toThemeProperty("jqx-combobox-state-hover")),b.dropdownlistArrowIcon.removeClass(b.toThemeProperty("icon-arrow-down-hover")),b.dropdownlistArrow.removeClass(b.toThemeProperty("jqx-combobox-arrow-hover")),b.dropdownlistArrow.removeClass(b.toThemeProperty("jqx-fill-state-hover")),c=!1)}),b.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var a=b.isOpened();!a&&b.autoOpen&&(b.open(),b.host.focus())}),a(document).bind("mousemove."+b.id,function(a){var c=b.isOpened();if(c&&b.autoOpen){var d=b.host.offset(),e=d.top,f=d.left,g=b.container.offset(),h=g.left,i=g.top;canClose=!0,a.pageY>=e&&a.pageY<=e+b.host.height()+2&&a.pageX>=f&&a.pageX<f+b.host.width()&&(canClose=!1),a.pageY>=i&&a.pageY<=i+b.container.height()-20&&a.pageX>=h&&a.pageX<h+b.container.width()&&(canClose=!1),canClose&&b.close()}}));var d="mousedown";if(this.touch&&(d=a.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistArrow,d,function(){if(!b.disabled){var a="block"==b.container.css("display");if(!b.isanimating)if(a)b.hideListBox(),b.input.focus(),setTimeout(function(){b.input.focus()},10);else{if(b.autoComplete,b.autoDropDownHeight){b.container.height(b.listBoxContainer.height()+25);var c=b.listBoxContainer.jqxListBox("autoHeight");c||(b.listBoxContainer.jqxListBox({autoHeight:b.autoDropDownHeight}),b.listBox._arrange(),b.listBox.ensureVisible(0),b.listBox._renderItems(),b.container.height(b.listBoxContainer.height()+25))}b.showListBox(),b.input.focus(),setTimeout(function(){b.input.focus()},10)}}}),this.addHandler(this.input,"focus",function(){b.focused=!0,b.host.addClass(b.toThemeProperty("jqx-combobox-state-focus")),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.dropdownlistContent.addClass(b.toThemeProperty("jqx-combobox-content-focus"))}),this.addHandler(this.input,"blur",function(){b.focused=!1,b.isOpened()||b.opening||(b.host.removeClass(b.toThemeProperty("jqx-combobox-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.dropdownlistContent.removeClass(b.toThemeProperty("jqx-combobox-content-focus"))),b._searchTimer&&clearTimeout(b._searchTimer)}),this.addHandler(a(document),"mousedown."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.touch&&this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),(""!=document.referrer||window.frameElement)&&null!=window.top&&(window.parent&&document.referrer&&(parentLocation=document.referrer),-1!=parentLocation.indexOf(document.location.host))){var e=function(a){if(b.isOpened()){var c={me:b,listbox:b.listBox,id:b.element.id};a.data=c}};window.top.document.addEventListener?window.top.document.addEventListener("mousedown",e,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmousedown",e)}this.addHandler(this.host,"keydown",function(a){var c="block"==b.container.css("display");if("none"==b.host.css("display"))return!0;if("13"==a.keyCode&&c&&!b.isanimating)return b.renderSelection("mouse"),b.listBox.selectedIndex,b._setSelection(b.input.val().length,b.input.val().length),b.hideListBox(),b.keyboardSelection?b.autoComplete&&b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.listBox.getVisibleItem(b.selectedIndex)}):b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)}),!1;if(115==a.keyCode)return b.isanimating||(b.isOpened()?b.isOpened()&&b.hideListBox():b.showListBox()),!1;if(a.altKey&&"block"==b.host.css("display")&&(b.isanimating||(38==a.keyCode?b.isOpened()&&b.hideListBox():40==a.keyCode&&(b.isOpened()||b.showListBox()))),"27"==a.keyCode&&b.isOpened()&&!b.isanimating)return b.hideListBox(),a.preventDefault(),!1;if(c&&!b.disabled)return b.listBox._handleKeyDown(a);if(!b.disabled&&!c){var d=a.keyCode;if(33==d||34==d||35==d||36==d||38==d||40==d)return b.listBox._handleKeyDown(a)}}),this.addHandler(this.listBoxContainer,"checkChange",function(a){b.renderSelection("mouse"),b._updateInputSelection(),b._raiseEvent(5,{label:a.args.label,value:a.args.value,checked:a.args.checked,item:a.args.item})}),this.addHandler(this.listBoxContainer,"select",function(a){b.disabled||("keyboard"!=a.args.type||b.keyboardSelection)&&(b.renderSelection(a.args.type),b._raiseEvent("2",{index:a.args.index,type:a.args.type,item:a.args.item}),"mouse"==a.args.type&&(void 0!=a.args.item&&(b.tempSelectedValue=a.args.item.value),b.checkboxes||(b.hideListBox(),b.input.focus())))}),null!=this.listBox&&null!=this.listBox.content&&this.addHandler(this.listBox.content,"click",function(a){if(!b.disabled){if(a.target===b.listBox.itemswrapper[0])return!0;b.renderSelection("mouse"),b.touch||b.ishiding||b.checkboxes||(b.hideListBox(),b.input.focus())}})},removeHandlers:function(){var b=this;null!=this.dropdownlistWrapper&&this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.host.unbind("hover"),null!=this.input&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur")),this.removeHandler(this.host,"mouseenter"),a(document).unbind("mousemove."+b.id)},getItem:function(a){var b=this.listBox.getItem(a);return b},getItemByValue:function(a){var b=this.listBox.getItemByValue(a);return b},getVisibleItem:function(a){var b=this.listBox.getVisibleItem(a);return b},renderSelection:function(b){if(void 0!=b&&"none"!=b&&null!=this.listBox){var c=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.checkboxes){var d=this.getCheckedItems();c=null!=d&&d.length>0?d[0]:null}if(null==c){var e=a.jqx.browser.msie&&a.jqx.browser.version<8;return e||this.input.attr("placeholder",this.promptText),this._updateInputSelection(),void 0}this.selectedIndex=this.listBox.selectedIndex;var f=a("<span></span>");if(void 0!=c.label&&null!=c.label&&c.label.toString().length>0?f.html(c.label):void 0!=c.value&&null!=c.value&&c.value.toString().length>0?f.html(c.value):void 0!=c.title&&null!=c.title&&c.title.toString().length>0?f.html(c.title):f.html(this.emptyString),f.outerHeight(),this.checkboxes){for(var g=this.getCheckedItems(),h="",i=0;i<g.length;i++)h+=i==g.length-1?g[i].label:g[i].label+",";this.input.val(h)}else this.input.val(f.text());if(f.remove(),this.renderSelectedItem){var j=this.renderSelectedItem(this.listBox.selectedIndex,c);void 0!=j&&this.input.val(j)}this._updateInputSelection()}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(){this.selectedIndex=-1,this.listBox.clearSelection(),this.input.val("")},unselectIndex:function(a,b){isNaN(a)||(this.listBox.unselectIndex(a,b),this.renderSelection("mouse"))},selectIndex:function(a,b,c,d){this.listBox.selectIndex(a,b,c,d),this.renderSelection("mouse"),this.selectedIndex=a},selectItem:function(a){void 0!=this.listBox&&(this.listBox.selectItem(a),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(a){void 0!=this.listBox&&(this.listBox.unselectItem(a),this.renderSelection("mouse"))},checkItem:function(a){void 0!=this.listBox&&this.listBox.checkItem(a)},uncheckItem:function(a){void 0!=this.listBox&&this.listBox.uncheckItem(a)},indeteterminateItem:function(a){void 0!=this.listBox&&this.listBox.indeteterminateItem(a)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.getItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll()},uncheckAll:function(){this.listBox.uncheckAll()},insertAt:function(a,b){return null==a?!1:this.listBox.insertAt(a,b)},addItem:function(a){return this.listBox.addItem(a)},removeAt:function(a){var b=this.listBox.removeAt(a);return this.renderSelection("mouse"),b},ensureVisible:function(a){this.listBox.ensureVisible(a)},disableAt:function(a){this.listBox.disableAt(a)},enableAt:function(a){this.listBox.enableAt(a)},_findPos:function(b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;var c=a(b).offset();return[c.left,c.top]},testOffset:function(b,c,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(window).width()+a(window).scrollLeft(),h=a(window).height()+a(window).scrollTop();if(c.left+e>g&&e>this.host.width()){var i=this.host.offset().left,j=e-this.host.width();c.left=i-j+2}return c.left<0&&(c.left=parseInt(this.host.offset().left)+"px"),c.top-=Math.min(c.top,c.top+f>h&&h>f?Math.abs(f+d+23):0),c},open:function(){this.showListBox()},close:function(){this.hideListBox()},hide:function(){this.close()},show:function(){this.open()},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},showListBox:function(){if(!this.listBox.items||0!=this.listBox.items.length){if("auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&-1!=this.width.indexOf("%")&&this.listBox.host.width()!=this.host.width()){var b=this.host.width();this.listBoxContainer.jqxListBox({width:b}),this.container.width(parseInt(b)+25)}var c=this,d=this.listBoxContainer,e=this.listBox;a(window).scrollTop(),a(window).scrollLeft();var f=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())+"px",g=parseInt(this.host.offset().left)+"px";a.jqx.browser.mozilla,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),!this.autoComplete||this.isOpened()||this.opening||(this.listBox.clearSelection(),this._updateSearch());var h=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();this.ishiding=!1,"0px"!=a("body").css("border-top-width")&&(f=parseInt(f)+this._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(g=parseInt(g)+this._getBodyOffset().left+"px");var i=a.jqx.utilities.hasTransform(this.host);(i||null!=h&&h)&&(g=a.jqx.mobile.getLeftPos(this.element),f=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight())),this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.addClass(this.toThemeProperty("icon-arrow-down-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus")),this.container.css("left",g),this.container.css("top",f),e._arrange();var j=!1;if("right"==this.dropDownHorizontalAlignment){var k=this.container.width(),l=Math.abs(k-this.host.width());k>this.host.width()?this.container.css("left",25+parseInt(g)-l+"px"):this.container.css("left",25+parseInt(g)+l+"px")}if(this.enableBrowserBoundsDetection){var m=this.testOffset(d,{left:parseInt(this.container.css("left")),top:parseInt(f)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=m.top?(j=!0,d.css("top",23)):d.css("top",0),this.container.css("top",m.top),this.container.css("top",m.top),parseInt(this.container.css("left"))!=m.left&&this.container.css("left",m.left)}if("none"==this.animationType)this.container.css("display","block"),a.data(document.body,"openedComboJQXListBoxParent",c),a.data(document.body,"openedComboJQXListBox",d),d.css("margin-top",0),d.css("opacity",1);else{this.container.css("display","block");var n=d.outerHeight();d.stop(),"fade"==this.animationType?(d.css("margin-top",0),d.css("opacity",0),d.animate({opacity:1},this.openDelay,function(){c.isanimating=!1,c.opening=!1,a.data(document.body,"openedComboJQXListBoxParent",c),a.data(document.body,"openedComboJQXListBox",d)})):(d.css("opacity",1),j?d.css("margin-top",n):d.css("margin-top",-n),this.isanimating=!0,this.opening=!0,d.animate({"margin-top":0},this.openDelay,function(){c.isanimating=!1,c.opening=!1,a.data(document.body,"openedComboJQXListBoxParent",c),a.data(document.body,"openedComboJQXListBox",d)
}))}e._renderItems(),this._raiseEvent("0",e)}},_updateSearch:function(){var a=this;if(a.autoComplete&&!a.remoteAutoComplete){var b=this.input.val(),c=this._getMatches(b),d=c.matchItems,e=c.index;(d.length>0||""==b)&&(this.listBox.vScrollInstance.value=0,this.listBox._addItems(),this.listBox.autoHeight=!1,this.listBox.virtualSize.height<parseInt(this.dropDownHeight)?(this.listBox.autoHeight=!0,this.container.height(this.listBox.virtualSize.height+25),this.listBoxContainer.height(this.listBox.virtualSize.height),this.listBox._arrange()):(this.listBox.height=this.dropDownHeight,this.container.height(parseInt(this.dropDownHeight)+25),this.listBoxContainer.height(parseInt(this.dropDownHeight)),this.listBox._arrange()),this.listBox._addItems(),this.listBox._renderItems(),e=0)}},hideListBox:function(){var b=this.listBoxContainer,c=this.listBox,d=this.container;if("none"!=this.container.css("display")){var e=this;if(a.data(document.body,"openedComboJQXListBox",null),"none"==this.animationType)this.container.css("display","none");else if(!this.ishiding){var f=b.outerHeight();b.css("margin-top",0),b.stop(),this.isanimating=!0;var g=-f;parseInt(this.container.offset().top)<parseInt(this.host.offset().top)&&(g=f),"fade"==this.animationType?(b.css({opacity:1}),b.animate({opacity:0},this.closeDelay,function(){e.isanimating=!1,d.css("display","none"),e.ishiding=!1})):b.animate({"margin-top":g},this.closeDelay,function(){e.isanimating=!1,d.css("display","none"),e.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected")),this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("icon-arrow-down-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected")),this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus"))),this._raiseEvent("1",c)}},closeOpenedListBox:function(b){var c=b.data.me,d=a(b.target),e=b.data.listbox;if(null==e)return!0;if(!a(b.target).ischildof(b.data.me.host)){var f=!1;return a.each(d.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return f=!0,!1;if(-1!=this.className.indexOf("jqx-combobox"))return c.element.id==this.id&&(f=!0),!1}}),null==e||f||c.hideListBox(),!0}},loadFromSelect:function(a){this.listBox.loadFromSelect(a)},refresh:function(){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},_arrange:function(){var a=parseInt(this.host.width()),b=parseInt(this.host.height());this.arrowSize;var c=this.arrowSize,d=1,e=a-c-1*d;e>0&&this.dropdownlistContent.width(e+"px"),this.dropdownlistContent.height(b),this.dropdownlistContent.css("left",0),this.dropdownlistContent.css("top",0),this.dropdownlistArrow.width(c),this.dropdownlistArrow.height(b),this.dropdownlistArrow.css("left",1+e+"px"),this.input.css("width","100%");var f=this.input.height();0==f&&(f=parseInt(this.input.css("font-size"))+3),this.input.addClass(this.toThemeProperty("jqx-rc-all"));var g=parseInt(b)/2-parseInt(f)/2;g>0&&this.input.css("margin-top",g)},destroy:function(){this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(a(document),"mousedown."+this.id,self.closeOpenedListBox)},_raiseEvent:function(a,b){void 0==b&&(b={owner:null});var c=this.events[a];args=b,args.owner=this;var d=new jQuery.Event(c);d.owner=this,(2==a||3==a||4==a||5==a)&&(d.args=b);var e=this.host.trigger(d);return e},propertyChangedHandler:function(a,b,c,d){if(void 0!=a.isInitialized&&0!=a.isInitialized){if("autoOpen"==b&&a._updateHandlers(),"renderer"==b&&(a.listBox.renderer=a.renderer),"itemHeight"==b&&(a.listBox.itemHeight=d),"source"==b&&(a.input.val(""),a.listBoxContainer.jqxListBox({source:a.source}),a.renderSelection("mouse"),null==a.source&&a.clearSelection()),("displayMember"==b||"valueMember"==b)&&(a.listBoxContainer.jqxListBox({displayMember:a.displayMember,valueMember:a.valueMember}),a.renderSelection("mouse")),"autoDropDownHeight"==b&&(a.listBoxContainer.jqxListBox({autoHeight:a.autoDropDownHeight}),a.autoDropDownHeight?a.container.height(a.listBoxContainer.height()+25):(a.listBoxContainer.jqxListBox({height:a.dropDownHeight}),a.container.height(parseInt(a.dropDownHeight)+25))),"dropDownHeight"==b&&(a.autoDropDownHeight||(a.listBoxContainer.jqxListBox({height:a.dropDownHeight}),a.container.height(parseInt(a.dropDownHeight)+25))),"dropDownWidth"==b||"scrollBarSize"==b){var e=a.width;"auto"!=a.dropDownWidth&&(e=a.dropDownWidth),a.listBoxContainer.jqxListBox({width:e,scrollBarSize:a.scrollBarSize}),a.container.width(parseInt(e)+25)}if("autoComplete"==b&&a._resetautocomplete(),"checkboxes"==b&&(a.listBoxContainer.jqxListBox({checkboxes:a.checkboxes}),a.checkboxes&&a.input.attr("readonly",!0)),"theme"==b&&null!=d&&(a.listBoxContainer.jqxListBox({theme:d}),a.dropdownlistContent.removeClass(),a.dropdownlistContent.addClass(a.toThemeProperty("jqx-combobox-content")),a.dropdownlistContent.addClass(a.toThemeProperty("jqx-widget-content")),a.input.removeClass(),a.input.addClass(a.toThemeProperty("jqx-combobox-input")),a.input.addClass(this.toThemeProperty("jqx-widget-content")),a.host.removeClass(),a.host.addClass(a.toThemeProperty("jqx-combobox-state-normal")),a.host.addClass(a.toThemeProperty("jqx-rc-all")),a.host.addClass(a.toThemeProperty("jqx-widget")),a.host.addClass(a.toThemeProperty("jqx-widget-content")),a.dropdownlistArrow.removeClass(),a.dropdownlistArrowIcon.addClass(a.toThemeProperty("icon-arrow-down")),a.dropdownlistArrow.addClass(a.toThemeProperty("jqx-combobox-arrow-normal")),a.dropdownlistArrow.addClass(a.toThemeProperty("jqx-fill-state-normal"))),"width"==b||"height"==b){if(a._setSize(),"width"==b&&"auto"==a.dropDownWidth){var e=a.host.width();a.listBoxContainer.jqxListBox({width:e}),a.container.width(parseInt(e)+25)}a._arrange()}"selectedIndex"==b&&(a.listBox.selectIndex(d),a.renderSelection("mouse"))}}})}(jQuery),function(a){a.jqx.jqxWidget("jqxDropDownList","",{}),a.extend(a.jqx._jqxDropDownList.prototype,{defineInstance:function(){this.disabled=!1,this.width=null,this.height=null,this.items=new Array,this.selectedIndex=-1,this.source=null,this.scrollBarSize=15,this.arrowSize=19,this.enableHover=!0,this.enableSelection=!0,this.visualItems=new Array,this.groups=new Array,this.equalItemsWidth=!0,this.itemHeight=-1,this.visibleItems=new Array,this.emptyGroupText="Group",this.checkboxes=!1,void 0==this.openDelay&&(this.openDelay=350),void 0==this.closeDelay&&(this.closeDelay=400),this.animationType="default",this.autoOpen=!1,this.dropDownWidth="auto",this.dropDownHeight="200px",this.autoDropDownHeight=!1,this.keyboardSelection=!0,this.enableBrowserBoundsDetection=!1,this.dropDownHorizontalAlignment="left",this.displayMember="",this.valueMember="",this.searchMode="startswithignorecase",this.incrementalSearch=!0,this.incrementalSearchDelay=700,this.renderer=null,this.promptText="Please Choose:",this.emptyString="",this.events=["open","close","select","unselect","change","checkChange","bindingComplete"]},createInstance:function(){this.render()},render:function(){this.element.innerHTML="",this.isanimating=!1,this.id=a.jqx.utilities.createId();var b=a("<div tabIndex=0 style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'/><div id='dropdownlistArrow' style='background-color: transparent; border: none; float: right; position: relative;'><div></div></div></div></div>");this._addInput(),(null==a.jqx._jqxListBox||void 0==a.jqx._jqxListBox)&&alert("jqxListBox is not loaded.");var c=this;this.touch=a.jqx.mobile.isTouchDevice(),this.comboStructure=b,this.host.append(b),this.dropdownlistWrapper=this.host.find("#dropdownlistWrapper"),this.dropdownlistArrow=this.host.find("#dropdownlistArrow"),this.arrow=a(this.dropdownlistArrow.children()[0]),this.dropdownlistContent=this.host.find("#dropdownlistContent"),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content")),this.dropdownlistWrapper.addClass(this.toThemeProperty("jqx-disableselect")),this.addHandler(this.dropdownlistWrapper,"selectstart",function(){return!1}),this.dropdownlistWrapper[0].id="dropdownlistWrapper"+this.element.id,this.dropdownlistArrow[0].id="dropdownlistArrow"+this.element.id,this.dropdownlistContent[0].id="dropdownlistContent"+this.element.id;var d=this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content")+" "+this.toThemeProperty("jqx-dropdownlist-state-normal")+" "+this.toThemeProperty("jqx-rc-all")+" "+this.toThemeProperty("jqx-fill-state-normal");this.element.className+=" "+d,this._firstDiv=this.host.find("div:first");try{var e="listBox"+this.id,f=a(a.find("#"+e));f.length>0&&f.remove();var g=a("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+this.id+"'><div id='innerListBox"+this.id+"'></div></div>");g.hide(),g.appendTo(document.body),this.container=g,this.listBoxContainer=a(a.find("#innerListBox"+this.id));var h=this.width;"auto"!=this.dropDownWidth&&(h=this.dropDownWidth),null==this.dropDownHeight&&(this.dropDownHeight=200);var c=this;this.container.width(parseInt(h)+25),this.container.height(parseInt(this.dropDownHeight)+25),this.addHandler(this.listBoxContainer,"bindingComplete",function(){c._raiseEvent("6")}),this.listBoxContainer.jqxListBox({checkboxes:this.checkboxes,emptyString:this.emptyString,itemHeight:this.itemHeight,width:h,searchMode:this.searchMode,incrementalSearch:this.incrementalSearch,incrementalSearchDelay:this.incrementalSearchDelay,displayMember:this.displayMember,valueMember:this.valueMember,height:this.dropDownHeight,autoHeight:this.autoDropDownHeight,scrollBarSize:this.scrollBarSize,selectedIndex:this.selectedIndex,source:this.source,theme:this.theme,rendered:function(){c.selectedIndex!=c.listBoxContainer.jqxListBox("selectedIndex")?(c.listBox=a.data(c.listBoxContainer[0],"jqxListBox").instance,c.listBoxContainer.jqxListBox({selectedIndex:c.selectedIndex}),c.renderSelection("mouse")):c.renderSelection("mouse")},renderer:this.renderer}),this.listBoxContainer.css({position:"absolute",zIndex:9999999999999,top:0,left:0}),this.listBox=a.data(this.listBoxContainer[0],"jqxListBox").instance,this.listBox.enableSelection=this.enableSelection,this.listBox.enableHover=this.enableHover,this.listBox.equalItemsWidth=this.equalItemsWidth,this.listBox.selectIndex(this.selectedIndex),this.listBox._arrange(),this.addHandler(this.listBoxContainer,"unselect",function(a){c._raiseEvent("3",{index:a.args.index,type:a.args.type,item:a.args.item})}),this.addHandler(this.listBoxContainer,"change",function(a){c._raiseEvent("4",{index:a.args.index,type:a.args.type,item:a.args.item})}),"none"==this.animationType?this.container.css("display","none"):this.container.hide()}catch(i){}var j=this;if(this.propertyChangeMap.disabled=function(a,b,c,d){d?(a.host.addClass(j.toThemeProperty("jqx-dropdownlist-state-disabled")),a.host.addClass(j.toThemeProperty("jqx-fill-state-disabled")),a.dropdownlistContent.addClass(j.toThemeProperty("jqx-dropdownlist-content-disabled"))):(a.host.removeClass(j.toThemeProperty("jqx-dropdownlist-state-disabled")),a.host.removeClass(j.toThemeProperty("jqx-fill-state-disabled")),a.dropdownlistContent.removeClass(j.toThemeProperty("jqx-dropdownlist-content-disabled")))},this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.dropdownlistContent.addClass(this.toThemeProperty("jqx-dropdownlist-content-disabled"))),this.arrow.addClass(this.toThemeProperty("icon-arrow-down")),this.arrow.addClass(this.toThemeProperty("icon")),this._setSize(),this._updateHandlers(),a.jqx.browser.msie&&a.jqx.browser.version<8&&this.host.parents(".jqx-window").length>0){var k=this.host.parents(".jqx-window").css("z-index");g.css("z-index",k+10),this.listBoxContainer.css("z-index",k+10)}},val:function(){return this.dropdownlistContent?this.dropdownlistContent.html():""},focus:function(){var a=this,b=function(){a.host.focus(),a._firstDiv&&a._firstDiv.focus()};b(),setTimeout(function(){b()},10)},_addInput:function(){var b=this.host.attr("name");b||(b=this.element.id),this.input=a("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",b)},getItems:function(){return this.listBox?this.listBox.items:new Array},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var b=!1;if(null!=this.width&&-1!=this.width.toString().indexOf("%")&&(b=!0,this.host.width(this.width)),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(b=!0,this.host.height(this.height)),b){var c=this,d=this.host.width();"auto"!=this.dropDownWidth&&(d=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:d}),this.container.width(parseInt(d)+25);var e=function(){if(c._arrange(),"auto"==c.dropDownWidth){var a=c.host.width();c.listBoxContainer.jqxListBox({width:a}),c.container.width(parseInt(a)+25)}};a(window).unbind("resize."+this.id),a(window).bind("resize."+this.id,function(){e()})}},isOpened:function(){var b=this,c=a.data(document.body,"openedJQXListBox"+this.id);return null!=c&&c==b.listBoxContainer?!0:!1},_updateHandlers:function(){var b=this,c=!1;this.removeHandlers(),this.touch||this.host.hover(function(){!b.disabled&&b.enableHover&&(c=!0,b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-hover")),b.arrow.addClass(b.toThemeProperty("icon-arrow-down-hover")),b.host.addClass(b.toThemeProperty("jqx-fill-state-hover")))},function(){!b.disabled&&b.enableHover&&(b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-hover")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b.arrow.removeClass(b.toThemeProperty("icon-arrow-down-hover")),c=!1)});var d="mousedown";if(this.touch&&(d=a.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,d,function(){if(!b.disabled){var a="block"==b.container.css("display");b.isanimating||(a?(b.hideListBox(),b._firstDiv&&b._firstDiv.focus()):(b.showListBox(),b._firstDiv&&b._firstDiv.focus()))}}),b.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){var a=b.isOpened();!a&&b.autoOpen&&(b.open(),b.host.focus())}),a(document).bind("mousemove."+b.id,function(a){var c=b.isOpened();if(c&&b.autoOpen){var d=b.host.offset(),e=d.top,f=d.left,g=b.container.offset(),h=g.left,i=g.top;canClose=!0,a.pageY>=e&&a.pageY<=e+b.host.height()&&a.pageX>=f&&a.pageX<f+b.host.width()&&(canClose=!1),a.pageY>=i&&a.pageY<=i+b.container.height()&&a.pageX>=h&&a.pageX<h+b.container.width()&&(canClose=!1),canClose&&b.close()}})),this.touch?this.addHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(a(document),"mousedown."+this.id,b.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),(""!=document.referrer||window.frameElement)&&null!=window.top&&(window.parent&&document.referrer&&(parentLocation=document.referrer),-1!=parentLocation.indexOf(document.location.host))){var e=function(a){if(b.isOpened()){var c={me:b,listbox:b.listBox,id:b.element.id};a.data=c}};window.top.document.addEventListener?window.top.document.addEventListener("mousedown",e,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmousedown",e)}this.addHandler(this.host,"keydown",function(a){var c="block"==b.container.css("display");return"none"==b.host.css("display")?!0:"13"==a.keyCode&&!b.isanimating&&(c?(b.renderSelection(),b.hideListBox(),b.keyboardSelection||b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)})):b.showListBox(),c)?!1:115==a.keyCode?(b.isanimating||(b.isOpened()?b.isOpened()&&b.hideListBox():b.showListBox()),!1):(a.altKey&&"block"==b.host.css("display")&&(38==a.keyCode?b.isOpened()&&b.hideListBox():40==a.keyCode&&(b.isOpened()||b.showListBox())),"27"==a.keyCode&&(b.ishiding||(b.hideListBox(),void 0!=b.tempSelectedIndex&&b.selectIndex(b.tempSelectedIndex))),c&&!b.disabled?b.listBox._handleKeyDown(a):void 0)}),this.addHandler(this.listBoxContainer,"checkChange",function(a){b.renderSelection(),b._updateInputSelection(),b._raiseEvent(5,{label:a.args.label,value:a.args.value,checked:a.args.checked,item:a.args.item})}),this.addHandler(this.listBoxContainer,"select",function(a){b.disabled||("keyboard"!=a.args.type||b.keyboardSelection)&&(b.renderSelection(),b._raiseEvent("2",{index:a.args.index,type:a.args.type,item:a.args.item,originalEvent:a.args.originalEvent}),"mouse"==a.args.type&&(b.checkboxes||(b.hideListBox(),b._firstDiv&&b._firstDiv.focus())))}),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(a){if(!b.disabled){if(a.target===b.listBox.itemswrapper[0])return!0;b.renderSelection("mouse"),b.touch||b.ishiding||b.checkboxes||(b.hideListBox(),b._firstDiv&&b._firstDiv.focus()),b.keyboardSelection||(void 0==b._oldSelectedInd&&(b._oldSelectedIndx=b.selectedIndex),b.selectedIndex!=b._oldSelectedIndx&&(b._raiseEvent("2",{index:b.selectedIndex,type:"keyboard",item:b.getItem(b.selectedIndex)}),b._oldSelectedIndx=b.selectedIndex))}}),this.addHandler(this._firstDiv,"focus",function(){b.host.addClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus"))}),this.addHandler(this._firstDiv,"blur",function(){b.host.removeClass(b.toThemeProperty("jqx-dropdownlist-state-focus")),b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"))})},removeHandlers:function(){var b=this,c="mousedown";this.touch&&(c=a.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,c),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.host.unbind("hover"),this.removeHandler(this.host,"mouseenter"),a(document).unbind("mousemove."+b.id)},getItem:function(a){var b=this.listBox.getItem(a);return b},getItemByValue:function(a){var b=this.listBox.getItemByValue(a);return b},selectItem:function(a){void 0!=this.listBox&&(this.listBox.selectItem(a),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(a){void 0!=this.listBox&&(this.listBox.unselectItem(a),this.renderSelection("mouse"))},checkItem:function(a){void 0!=this.listBox&&this.listBox.checkItem(a)},uncheckItem:function(a){void 0!=this.listBox&&this.listBox.uncheckItem(a)},indeteterminateItem:function(a){void 0!=this.listBox&&this.listBox.indeteterminateItem(a)},renderSelection:function(){if(null!=this.listBox){var b=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.checkboxes){var c=this.getCheckedItems();b=null!=c&&c.length>0?c[0]:null}if(null==b){var d=a('<span style="color: inherit; border: none; background-color: transparent;"></span>');d.appendTo(a(document.body)),d.addClass(this.toThemeProperty("jqx-widget")),d.addClass(this.toThemeProperty("jqx-listitem-state-normal")),d.addClass(this.toThemeProperty("jqx-item")),d.html(this.promptText);var e=this.dropdownlistContent.css("padding-top"),f=this.dropdownlistContent.css("padding-bottom");d.css("padding-top",e),d.css("padding-bottom",f);var g=d.outerHeight();d.remove(),d.removeClass(),this.dropdownlistContent.html(d);var h=this.host.height();null!=this.height&&void 0!=this.height&&(h=parseInt(this.height));var i=parseInt((parseInt(h)-parseInt(g))/2);return i>0&&(this.dropdownlistContent.css("margin-top",i+"px"),this.dropdownlistContent.css("margin-bottom",i+"px")),this.selectionRenderer&&(this.dropdownlistContent.html(this.selectionRenderer()),this._updateInputSelection()),this.selectedIndex=this.listBox.selectedIndex,void 0}this.selectedIndex=this.listBox.selectedIndex;var d=a('<span style="color: inherit; border: none; background-color: transparent;"></span>');d.appendTo(a(document.body)),d.addClass(this.toThemeProperty("jqx-widget")),d.addClass(this.toThemeProperty("jqx-listitem-state-normal")),d.addClass(this.toThemeProperty("jqx-item"));var j=!1;try{void 0!=b.html&&null!=b.html&&b.html.toString().length>0?d.html(b.html):void 0!=b.label&&null!=b.label&&b.label.toString().length>0?d.html(b.label):void 0!=b.value&&null!=b.value&&b.value.toString().length>0?d.html(b.value):void 0!=b.title&&null!=b.title&&b.title.toString().length>0?d.html(b.title):(""==b.label||null==b.label)&&(j=!0,d.html("Item"))}catch(k){}var e=this.dropdownlistContent.css("padding-top"),f=this.dropdownlistContent.css("padding-bottom");d.css("padding-top",e),d.css("padding-bottom",f);var g=d.outerHeight();if(""!=b.label&&null!=b.label||!j||d.html(""),d.remove(),d.removeClass(),this.selectionRenderer)this.dropdownlistContent.html(this.selectionRenderer(d,b.index,b.label,b.value));else if(this.checkboxes){for(var l=this.getCheckedItems(),m="",n=0;n<l.length;n++)m+=n==l.length-1?l[n].label:l[n].label+",";d.text(m),d.css("max-width",this.host.width()-30),d.css("overflow","hidden"),d.css("display","block"),d.css("width",this.host.width()-30),d.css("text-overflow","ellipsis"),this.dropdownlistContent.html(d)}else this.dropdownlistContent.html(d);var h=this.host.height();null!=this.height&&void 0!=this.height&&(h=parseInt(this.height));var i=parseInt((parseInt(h)-parseInt(g))/2);i>0&&(this.dropdownlistContent.css("margin-top",i+"px"),this.dropdownlistContent.css("margin-bottom",i+"px")),this.dropdownlistContent&&this.input&&this._updateInputSelection()}},_updateInputSelection:function(){if(this.input){if(-1==this.selectedIndex)this.input.val("");else{var a=this.getSelectedItem();null!=a?this.input.val(a.value):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var b=this.getCheckedItems(),c="";if(null!=b)for(var d=0;d<b.length;d++)c+=d==b.length-1?b[d].value:b[d].value+",";this.input.val(c)}}},setContent:function(a){this.dropdownlistContent.html(a),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(){this.selectedIndex=-1,this.listBox.clearSelection(),this.renderSelection(),this.dropdownlistContent.html("")},unselectIndex:function(a,b){isNaN(a)||(this.listBox.unselectIndex(a,b),this.renderSelection())},selectIndex:function(a,b,c,d){this.listBox.selectIndex(a,b,c,d),this.renderSelection()},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.getItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll()},uncheckAll:function(){this.listBox.uncheckAll()},insertAt:function(a,b){return null==a?!1:this.listBox.insertAt(a,b)},addItem:function(a){return this.listBox.addItem(a)},removeAt:function(a){var b=this.listBox.removeAt(a);return this.renderSelection("mouse"),b},ensureVisible:function(a){this.listBox.ensureVisible(a)},disableAt:function(a){this.listBox.disableAt(a)},enableAt:function(a){this.listBox.enableAt(a)},_findPos:function(b){for(;b&&("hidden"==b.type||1!=b.nodeType||a.expr.filters.hidden(b));)b=b.nextSibling;var c=a(b).offset();return[c.left,c.top]},testOffset:function(b,c,d){var e=b.outerWidth(),f=b.outerHeight(),g=a(window).width()+a(window).scrollLeft(),h=a(window).height()+a(window).scrollTop();if(c.left+e>g&&e>this.host.width()){var i=this.host.offset().left,j=e-this.host.width();c.left=i-j+2}return c.left<0&&(c.left=parseInt(this.host.offset().left)+"px"),c.top-=Math.min(c.top,c.top+f>h&&h>f?Math.abs(f+d+22):0),c},open:function(){this.showListBox()},close:function(){this.hideListBox()},hide:function(){this.close()},show:function(){this.open()},_getBodyOffset:function(){var b=0,c=0;return"0px"!=a("body").css("border-top-width")&&(b=parseInt(a("body").css("border-top-width")),isNaN(b)&&(b=0)),"0px"!=a("body").css("border-left-width")&&(c=parseInt(a("body").css("border-left-width")),isNaN(c)&&(c=0)),{left:c,top:b}},showListBox:function(){if("auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&-1!=this.width.indexOf("%")&&this.listBox.host.width()!=this.host.width()){var b=this.host.width();this.listBoxContainer.jqxListBox({width:b}),this.container.width(parseInt(b)+25)}var c=this,d=this.listBoxContainer,e=this.listBox;a(window).scrollTop(),a(window).scrollLeft();var f=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px",g=parseInt(this.host.offset().left)+"px",h=a.jqx.mobile.isSafariMobileBrowser()||a.jqx.mobile.isWindowsPhone();if(null!=this.listBox){var i=a.jqx.utilities.hasTransform(this.host);this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),"0px"!=a("body").css("border-top-width")&&(f=parseInt(f)+this._getBodyOffset().top+"px"),"0px"!=a("body").css("border-left-width")&&(g=parseInt(g)+this._getBodyOffset().left+"px"),(i||null!=h&&h)&&(g=a.jqx.mobile.getLeftPos(this.element),f=a.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight())),d.stop(),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("icon-arrow-down-selected")),this.container.css("left",g),this.container.css("top",f),e._arrange();var j=!1;if("right"==this.dropDownHorizontalAlignment){var k=this.container.width(),l=Math.abs(k-this.host.width());k>this.host.width()?this.container.css("left",25+parseInt(g)-l+"px"):this.container.css("left",25+parseInt(g)+l+"px")}if(this.enableBrowserBoundsDetection){var m=this.testOffset(d,{left:parseInt(this.container.css("left")),top:parseInt(f)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=m.top?(j=!0,d.css("top",23)):d.css("top",0),this.container.css("top",m.top),parseInt(this.container.css("left"))!=m.left&&this.container.css("left",m.left)}if("none"==this.animationType)this.container.css("display","block"),a.data(document.body,"openedJQXListBoxParent",c),a.data(document.body,"openedJQXListBox"+this.id,d),d.css("margin-top",0),d.css("opacity",1);else if(this.container.css("display","block"),c.isanimating=!0,"fade"==this.animationType)d.css("margin-top",0),d.css("opacity",0),d.animate({opacity:1},this.openDelay,function(){a.data(document.body,"openedJQXListBoxParent",c),a.data(document.body,"openedJQXListBox"+c.id,d),c.ishiding=!1,c.isanimating=!1});else{d.css("opacity",1);var n=d.outerHeight();j?d.css("margin-top",n):d.css("margin-top",-n),d.animate({"margin-top":0},this.openDelay,function(){a.data(document.body,"openedJQXListBoxParent",c),a.data(document.body,"openedJQXListBox"+c.id,d),c.ishiding=!1,c.isanimating=!1})}e._renderItems(),this._raiseEvent("0",e)}},hideListBox:function(){var b=this.listBoxContainer,c=this.listBox,d=this.container,e=this;if(a.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if(!e.ishiding){b.stop();var f=b.outerHeight();b.css("margin-top",0),e.isanimating=!0;var g=-f;parseInt(this.container.offset().top)<parseInt(this.host.offset().top)&&(g=f),"fade"==this.animationType?(b.css({opacity:1}),b.animate({opacity:0},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1,e.ishiding=!1})):b.animate({"margin-top":g},this.closeDelay,function(){d.css("display","none"),e.isanimating=!1,e.ishiding=!1})}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("icon-arrow-down-selected")),this._raiseEvent("1",c)},closeOpenedListBox:function(b){var c=b.data.me,d=a(b.target),e=b.data.listbox;if(null==e)return!0;if(a(b.target).ischildof(b.data.me.host))return!0;if(!c.isOpened())return!0;var f=!1;return a.each(d.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return f=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return c.element.id==this.id&&(f=!0),!1}}),null!=e&&!f&&c.isOpened()&&c.hideListBox(),!0},loadFromSelect:function(a){this.listBox.loadFromSelect(a)},refresh:function(){this._setSize(),this._arrange(),this.listBox&&this.renderSelection()},_arrange:function(){var a=parseInt(this.host.width()),b=parseInt(this.host.height());this.arrowSize;var c=this.arrowSize,d=3,e=a-c-2*d;e>0&&this.dropdownlistContent.width(e+"px"),this.dropdownlistContent.height(b),this.dropdownlistContent.css("left",0),this.dropdownlistContent.css("top",0),this.dropdownlistArrow.width(c),this.dropdownlistArrow.height(b)},destroy:function(){this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(a(document),"mousedown."+this.id,self.closeOpenedListBox),this.touch&&this.removeHandler(a(document),a.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.host.remove()},_raiseEvent:function(a,b){void 0==b&&(b={owner:null});var c=this.events[a];args=b,args.owner=this;var d=new jQuery.Event(c);d.owner=this,(2==a||3==a||4==a||5==a)&&(d.args=b);var e=this.host.trigger(d);return e},propertyChangedHandler:function(a,b,c,d){if(void 0!=a.isInitialized&&0!=a.isInitialized){if("autoOpen"==b&&a._updateHandlers(),"emptyString"==b&&(a.listBox.emptyString=a.emptyString),"renderer"==b&&(a.listBox.renderer=a.renderer),"itemHeight"==b&&(a.listBox.itemHeight=d),"source"==b&&(a.listBoxContainer.jqxListBox({source:a.source}),a.listBox.selectedIndex=-1,a.listBox.selectIndex(this.selectedIndex),a.renderSelection(),null==d&&a.clear()),("displayMember"==b||"valueMember"==b)&&(a.listBoxContainer.jqxListBox({displayMember:a.displayMember,valueMember:a.valueMember}),a.renderSelection()),"theme"==b&&null!=d&&(a.listBoxContainer.jqxListBox({theme:d}),a.dropdownlistContent.removeClass(),a.dropdownlistContent.addClass(a.toThemeProperty("jqx-dropdownlist-content")),a.dropdownlistWrapper.removeClass(),a.dropdownlistWrapper.addClass(a.toThemeProperty("jqx-disableselect")),a.host.removeClass(),a.host.addClass(a.toThemeProperty("jqx-fill-state-normal")),a.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-normal")),a.host.addClass(a.toThemeProperty("jqx-rc-all")),a.host.addClass(a.toThemeProperty("jqx-widget")),a.host.addClass(a.toThemeProperty("jqx-widget-content")),a.arrow.removeClass(),a.arrow.addClass(a.toThemeProperty("icon-arrow-down")),a.arrow.addClass(a.toThemeProperty("icon"))),"autoDropDownHeight"==b&&(a.listBoxContainer.jqxListBox({autoHeight:a.autoDropDownHeight}),a.autoDropDownHeight?a.container.height(a.listBoxContainer.height()+25):(a.listBoxContainer.jqxListBox({height:a.dropDownHeight}),a.container.height(parseInt(a.dropDownHeight)+25))),"searchMode"==b&&a.listBoxContainer.jqxListBox({searchMode:a.searchMode}),"incrementalSearch"==b&&a.listBoxContainer.jqxListBox({incrementalSearch:a.incrementalSearch}),"incrementalSearchDelay"==b&&a.listBoxContainer.jqxListBox({incrementalSearchDelay:a.incrementalSearchDelay}),"dropDownHeight"==b&&(a.autoDropDownHeight||(a.listBoxContainer.jqxListBox({height:a.dropDownHeight}),a.container.height(parseInt(a.dropDownHeight)+25))),"dropDownWidth"==b||"scrollBarSize"==b){var e=a.width;
"auto"!=a.dropDownWidth&&(e=a.dropDownWidth),a.listBoxContainer.jqxListBox({width:e,scrollBarSize:a.scrollBarSize}),a.container.width(parseInt(e)+25)}if(("width"==b||"height"==b)&&d!=c&&(this.refresh(),"width"==b&&"auto"==a.dropDownWidth)){var e=a.host.width();a.listBoxContainer.jqxListBox({width:e}),a.container.width(parseInt(e)+25)}"checkboxes"==b&&a.listBoxContainer.jqxListBox({checkboxes:a.checkboxes}),"selectedIndex"==b&&null!=a.listBox&&(a.listBox.selectIndex(d),a.renderSelection())}}})}(jQuery),function(a){function b(b,d){var e=b.nodeName.toLowerCase();if("area"===e){var f,g=b.parentNode,h=g.name;return b.href&&h&&"map"===g.nodeName.toLowerCase()?(f=a("img[usemap=#"+h+"]")[0],!!f&&c(f)):!1}return(/input|select|textarea|button|object/.test(e)?!b.disabled:"a"==e?b.href||d:d)&&c(b)}function c(b){return!a(b).parents().andSelf().filter(function(){return"hidden"===a.css(this,"visibility")||a.expr.filters.hidden(this)}).length}function d(c){var d=a.attr(c,"tabindex"),e=isNaN(d);return(e||d>=0)&&b(c,!e)}a.jqx.jqxWidget("jqxWindow","",{}),a.extend(a.jqx._jqxWindow.prototype,{defineInstance:function(){this.height="auto",this.width=200,this.minHeight=50,this.maxHeight=600,this.minWidth=50,this.maxWidth=800,this.showCloseButton=!0,this.disabled=!1,this.autoOpen=!0,this.keyboardCloseKey="esc",this.title="",this.content="",this.draggable=!0,this.resizable=!0,this.animationType="fade",this.closeAnimationDuration=250,this.showAnimationDuration=250,this.isModal=!1,this.position="center",this.closeButtonSize=16,this.closeButtonAction="hide",this.modalOpacity=.3,this.dragArea=null,this.okButton=null,this.cancelButton=null,this.dialogResult={OK:!1,Cancel:!1,None:!0},this.collapsed=!1,this.showCollapseButton=!1,this.collapseAnimationDuration=150,this.collapseButtonSize=16,this._events=["created","closed","moving","moved","open","collapse","expand","open","close","resize"],this._invalidArgumentExceptions={invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},this._enableResizeCollapseBackup,this._enableResizeBackup,this._heightBeforeCollapse,this._minHeightBeforeCollapse,this._mouseDown=!1,this._isDragging=!1,this._rightContentWrapper=null,this._leftContentWrapper=null,this._headerContentWrapper=null,this._closeButton=null,this._collapseButton=null,this._title=null,this._content=null,this._mousePosition={},this._windowPosition={},this._modalBackground=null,this._SCROLL_WIDTH=21,this._visible=!0,this._touchEvents={mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:a.jqx.mobile.getTouchEventName("touchstart")}},createInstance:function(){if(this.host.detach(),a(document.body).append(this.host),this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||this.host.css("display","none"),this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen){this._performLayout();var b=this;b.initContent&&(b.initContent(),b._contentInitialized=!0),this.isModal&&this._fixWindowZIndex("modal-show"),setTimeout(function(){b._performLayout()},250)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(b){var c=a.data(document.body,"jqxwindows-list")||[],d=9001;if(this.isModal){c&&(c=this._removeFromArray(this.host,c),a.data(document.body,"jqxwindows-list",c));var e=a.data(document.body,"jqxwindows-modellist");if(e)"modal-show"==b?e.push(this.host):e.pop(this.host);else if("modal-show"==b){var f=new Array;f.push(this.host),a.data(document.body,"jqxwindows-modellist",f),e=f}else a.data(document.body,"jqxwindows-modellist",new Array),e=new Array;d=18e3;var g=this;return a.each(a(".jqx-window-modal"),function(a){return d++,this==g._modalBackground[0]?(g._modalBackground.css("z-index",18e3+a),!1):void 0}),a.data(document.body,"jqxwindow-modal",this.host),this.host.css("z-index",d),this._sortByStyle("z-index",c),e.length>1&&(d=18e3,a.each(e,function(a,b){d+=2,g._modalBackground.css("z-index",d),b.css("z-index",1+d)})),void 0}if(this._indexOf(this.host,c)<0&&c.push(this.host),a.data(document.body,"jqxwindows-list",c),c.length>1){var h=c[c.length-2];d=parseInt(h.css("z-index"),10)+1}this.host.css("z-index",d),this._sortByStyle("z-index",c)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(a){alert(a)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null!==this.dragArea&&(this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||this.maxWidth>this.dragArea.width)},_validateSizeLimits:function(){if(isNaN(parseInt(this.minHeight)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight>this.maxHeight)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth>this.maxWidth)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration),10)||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration),10)||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&("undefined"==typeof this.dragArea.width||"undefined"==typeof this.dragArea.height||"undefined"==typeof this.dragArea.left||"undefined"==typeof this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var b=a.data(document.body,"jqxwindows-list")||[],c=b.length;c;)if(c-=1,a(b[c].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var b=this.host.children("DIV");if(1===b.length)this._header=a("<div>"+this.host.attr("caption")+"</div>"),this.host.prepend(this._header),this.host.attr("caption",""),this._content=a(b[0]);else{if(2!==b.length)throw new Error("Invalid structure!");this._header=a(b[0]),this._content=a(b[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header.wrapInner('<div style="float:left;"></div>'),this._headerContentWrapper=this._header.children(0))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=a('<div class="'+this.toThemeProperty("jqx-window-close-button-background")+'"></div>'),this._closeButton=a('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-close-button")+'"></div>'),this._closeButtonWrapper.append(this._closeButton),this._header.append(this._closeButtonWrapper))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=a('<div class="'+this.toThemeProperty("jqx-window-collapse-button-background")+'"></div>'),this._collapseButton=a('<div style="width: 100%; height: 100%;" class="'+this.toThemeProperty("jqx-window-collapse-button")+'"></div>'),this._collapseButtonWrapper.append(this._collapseButton),this._header.append(this._collapseButtonWrapper))},_removeModal:function(){!this.isModal&&"object"==typeof this._modalBackground&&null!==this._modalBackground&&this._modalBackground.length>=1&&(a("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},_makeModal:function(){if(this.isModal&&(!this._modalBackground||this._modalBackground.length<1)){var b=a.data(document.body,"jqxwindows-list");b&&(this._removeFromArray(this.host,b),a.data(document.body,"jqxwindows-list",b)),this._modalBackground=a("<div></div>"),this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal")),this._setModalBackgroundStyles(),a(document.body).append(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1});var c=this,d=function(b,c){var d=a(b).parents().get();for(j=0;j<d.length;j++)if(a(d[j]).is(c))return!0;return!1};this.addHandler(this._modalBackground,"mouseup",function(a){c._stopResizing(c),a.preventDefault()}),this.addHandler(this._modalBackground,"mousedown",function(a){var b=c._getTabbables();return b.length>0&&(b[0].focus(1),setTimeout(function(){b[0].focus(1)},100)),a.preventDefault(),!1}),this.addHandler(a(document),"keydown.window"+this.element.id,function(a){if(9===a.keyCode){var b=c._getTabbables(),e=null,f=null;if(b.length>0&&(e=b[0],f=b[b.length-1]),a.target!=c.element&&null!=e)return d(a.target,c.host)?a.target!==f||a.shiftKey?a.target===e&&a.shiftKey?(f.focus(1),!1):void 0:(e.focus(1),!1):(e.focus(1),!1)}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.element.tabIndex=0,this.host.find("DIV").css("tab-index",0),this.host.attr("hideFocus","true").css("outline","none")},_performHeaderLayout:function(){this._handleHeaderButtons(),this._header.css("position","relative"),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin")},_handleHeaderButtons:function(){this.showCloseButton?(this._closeButtonWrapper.css("visibility","visible"),this._closeButtonWrapper.width(this.closeButtonSize),this._closeButtonWrapper.height(this.closeButtonSize)):this._closeButtonWrapper.css("visibility","hidden"),this.showCollapseButton?(this._collapseButtonWrapper.css("visibility","visible"),this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize)):this._collapseButtonWrapper.css("visibility","hidden")},_performHeaderCloseButtonLayout:function(){var a=parseInt(this._header.css("padding-right"),10);isNaN(a)||(this._closeButtonWrapper.width(this._closeButton.width()),this._closeButtonWrapper.css("margin-right",a)),this._closeButtonWrapper.css({position:"absolute",right:"0px"})},_performHeaderCollapseButtonLayout:function(){var a=parseInt(this._header.css("padding-right"),10);isNaN(a)||(this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize),this._collapseButtonWrapper.css("margin-right",a)),this._collapseButtonWrapper.css({position:"absolute",right:this.showCloseButton?this._closeButton.outerWidth(!0):0}),this._centerElement(this._collapseButton,this._collapseButton.parent(),"y")},_performWidgetLayout:function(){var a;"auto"!==this.width&&this.host.css("width",this.width),this.collapsed||("auto"!==this.height?this.host.height(this.height):this.host.height(this.host.height()),this.host.css("min-height",this.minHeight)),this._setChildrenLayout(),a=this._validateMinSize(),this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth}),a||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(!0)-this._header.width())),this._content.width(this.host.width()-(this._content.outerWidth(!0)-this._content.width())),this._content.height(this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height()))},_validateMinSize:function(){var a=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),a=!1);var b=this._header.children(0).outerWidth(!0),c=this._header.children(1).outerWidth(!0),d=b+c;return this.minWidth<100&&(this.minWidth=Math.min(d,100),a=!1),a},_centerElement:function(a,b,c,d){"number"==typeof b.left&&"number"==typeof b.top&&"number"==typeof b.height&&"number"==typeof b.width?this._centerElementInArea(a,b,c):this._centerElementInParent(a,b,c,d)},_centerElementInParent:function(a,b,c,d){if(c=c.toLowerCase(),d?d+="-":d="",c.indexOf("y")>=0){var e=a.outerHeight(!0),f=b.height(),g=(f-e)/2;a.css(d+"top",g+"px")}if(c.indexOf("x")>=0){var h=a.outerWidth(!0),i=b.width(),j=(i-h)/2;a.css(d+"left",j+"px")}},_centerElementInArea:function(a,b,c){if(c=c.toLowerCase(),c.indexOf("y")>=0){var d=a.outerHeight(!0),e=b.height,f=(e-d)/2;a.css("top",f+b.top+"px")}if(c.indexOf("x")>=0){var g=a.outerWidth(!0),h=b.width,i=(h-g)/2;a.css("left",i+b.left+"px")}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.removeHandler(a(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(a(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(a,b){var c=this._indexOf(a,b);return c>=0?b.splice(this._indexOf(a,b),1):b},_sortByStyle:function(a,b){for(var c=0;c<b.length;c++)for(var d=b.length-1;d>c;d--){var e,f=b[d],g=b[d-1];parseInt(f.css(a),10)<parseInt(g.css(a),10)&&(e=f,b[d]=g,b[d-1]=e)}},_initializeResize:function(){if(this.resizable){var a=this;this.initResize({target:this.host,alsoResize:a._content,maxWidth:a.maxWidth,minWidth:a.minWidth,maxHeight:a.maxHeight,minHeight:a.minHeight,indicatorSize:10,resizeParent:a.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]:a},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers(),this.addHandler(this._header,this._getEvent("mousemove"),this._addHeaderCursorHandlers,{self:this})},_addResizeHandlers:function(){this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this})},_windowResizeHandler:function(a){var b=a.data.self;b._header.width(b.host.width()-(b._header.outerWidth(!0)-b._header.width())),b.width=a.args.width,b.height=a.args.height},_addHeaderHoverEffect:function(){var b=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){a(this).addClass(b.toThemeProperty("jqx-window-header-hover"))}),this.addHandler(this._header,this._getEvent("mouseleave"),function(){a(this).removeClass(b.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(a(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(a(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var b=this;this.isModal&&a(window).resize(function(){"object"==typeof b._modalBackground&&null!==b._modalBackground&&(b._modalBackground.width(b._getDocumentSize().width),b._modalBackground.height(b._getDocumentSize().height))})},_setDialogResultHandler:function(a){var b=a.data.self;b._setDialogResult(a.data.result),b.closeWindow()},_setDialogResult:function(a){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,a=a.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var b=a.jqx.browser.msie&&a.jqx.browser.version<9?4:0,c=a.jqx.browser.msie&&a.jqx.browser.version<9?4:0;return document.body.scrollHeight>document.body.clientHeight&&a.jqx.browser.msie&&a.jqx.browser.version<9&&(b=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&a.jqx.browser.msie&&a.jqx.browser.version<9&&(c=this._SCROLL_WIDTH),{width:a(document).width()-b,height:a(document).height()-c}},_closeButtonHover:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){a._closeButton.addClass(a.toThemeProperty("jqx-window-close-button-hover"))}),this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){a._closeButton.removeClass(a.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){a._collapseButton.addClass(a.toThemeProperty("jqx-window-collapse-button-hover"))}),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){a._collapseButton.removeClass(a.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){this.isModal&&(this._modalBackground.fadeTo(0,this.modalOpacity),this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":12990}),this.autoOpen||this._modalBackground.css("display","none"))},_addFocusHandlers:function(){var a=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){a.isModal||a.bringToFront()})},_indexOf:function(a,b){for(var c=0;c<b.length;c++)if(b[c][0]===a[0])return c;return-1},_addCloseHandlers:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("click"),this._closeWindow,{self:this}),"none"!==this.keyboardCloseKey&&("number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",function(b){b.keyCode===a.keyboardCloseKey&&a._closeWindow(b)},{self:this}))},_addCollapseHandlers:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){a.collapsed?a.expand():a.collapse()})},_closeWindow:function(a){a.data.self.closeWindow()},_addHeaderCursorHandlers:function(a){var b=a.data.self;return b.resizeArea&&b.resizable?(b._header.css("cursor",b._resizeWrapper.css("cursor")),void 0):b.draggable?(b._header.css("cursor","move"),void 0):(b._header.css("cursor","default"),b._resizeWrapper&&b._resizeWrapper.length>0&&b._resizeWrapper.css("cursor","default"),void 0)},_addDragDropHandlers:function(){if(this.draggable){var b=this;this.addHandler(this._header,this._getEvent("mousedown"),function(a){return b._headerMouseDownHandler(b,a),!0}),this.addHandler(this._header,"dragstart",function(a){return a.preventDefault&&a.preventDefault(),!1}),this.addHandler(this._header,this._getEvent("mousemove"),function(a){return b._headerMouseMoveHandler(b,a)}),this.addHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(a){return b._dragHandler(b,a)}),this.addHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(a){return b._dropHandler(b,a)});try{if((""!=document.referrer||window.frameElement)&&(null!=window.top&&window.parent&&document.referrer&&(parentLocation=document.referrer),-1!=parentLocation.indexOf(document.location.host))){var c=function(a){b._dropHandler(b,a)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",c,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",c)}}catch(d){}}},_headerMouseDownHandler:function(b,c){if(b.isModal||b.bringToFront(),null==b._resizeDirection){var d=a.jqx.mobile.getTouches(c),e=d[0];b._mousePosition.x=e.pageX,b._mousePosition.y=e.pageY,b._mouseDown=!0,b._isDragging=!1}},_headerMouseMoveHandler:function(b,c){if(b._mouseDown&&!b._isDragging){var d=a.jqx.mobile.getTouches(c),e=d[0],f=e.pageX,g=e.pageY;return(f+3<b._mousePosition.x||f-3>b._mousePosition.x||g+3<b._mousePosition.y||g-3>b._mousePosition.y)&&(b._isDragging=!0,b._mousePosition={x:f,y:g},b._windowPosition={x:b.host.offset().left,y:b.host.offset().top},a(document.body).addClass(b.toThemeProperty("jqx-disableselect"))),!1}return!0},_dropHandler:function(b,c){var d=!0;if(b._isDragging&&!b.isResizing&&!b._resizeDirection){var e=parseInt(b.host.css("left"),10),f=parseInt(b.host.css("top"),10),g=b._isTouchDevice?0:c.pageX,h=b._isTouchDevice?0:c.pageY;b.enableResize=b._enableResizeBackup,b._enableResizeBackup="undefined",b._raiseEvent(3,e,f,g,h),d=!1,"undefined"!=c.preventDefault&&c.preventDefault(),null!=c.originalEvent&&(c.originalEvent.mouseHandled=!0),"undefined"!=c.stopPropagation&&c.stopPropagation()}return b._isDragging=!1,b._mouseDown=!1,a(document.body).removeClass(b.toThemeProperty("jqx-disableselect")),d},_dragHandler:function(b,c){if(b._isDragging&&!b.isResizing&&!b._resizeDirection){var d=b._isTouchDevice?c.originalEvent.which:c.which;if("undefined"==typeof b._enableResizeBackup&&(b._enableResizeBackup=b.enableResize),b.enableResize=!1,0===d&&a.jqx.browser.msie&&a.jqx.browser.version<8)return b._dropHandler(b,c);var e=a.jqx.mobile.getTouches(c),f=e[0],g=f.pageX,h=f.pageY,i=g-b._mousePosition.x,j=h-b._mousePosition.y,k=b._windowPosition.x+i,l=b._windowPosition.y+j;return b.move(k,l,c),c.preventDefault(),!1}return!0},_validateCoordinates:function(a,b,c,d){var e=this._getDraggingArea();a=a<e.left?e.left:a,b=b<e.top?e.top:b;var f=this.host.outerWidth(!0),g=this.host.outerHeight(!0);return a+f>=e.width+e.left-2*d&&(a=e.width+e.left-f-d),b+g>=e.height+e.top-c&&(b=e.height+e.top-g-c),{x:a,y:b}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1]?this.host.css({left:this.position[0],top:this.position[1]}):this.position instanceof Object&&"undefined"!==this.position.x&&"undefined"!=this.position.y?this.host.css({left:this.position.x,top:this.position.y}):this._positionFromLiteral()},_getDraggingArea:function(){var a={};return a.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,a.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,a.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width,a.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height,a},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var b=this.position.length,c=this._getDraggingArea();b;)switch(b-=1,this.position[b]=this.position[b].replace(/ /g,""),this.position[b]){case"top":this.host.css("top",c.top);break;case"left":this.host.css("left",c.left);break;case"bottom":this.host.css("top",c.height-this.host.height()+c.top);break;case"right":this.host.css("left",c.left+c.width-this.host.width());break;default:this.dragArea||(c=a(window)),this._centerElement(this.host,c,"xy")}},_raiseEvent:function(b){var c=this._events[b],d=a.Event(c),e={};return(2===b||3===b)&&(e.x=arguments[1],e.y=arguments[2],e.pageX=arguments[3],e.pageY=arguments[4]),("closed"===c||"close"===c)&&(e.dialogResult=this.dialogResult),d.args=e,this.host.trigger(d)},_destroy:function(){this.host.remove(),null!==this._modalBackground&&this._modalBackground.remove()},_toClose:function(a,b){return a&&b[0]===this.element||b[0]!==this.element&&"object"==typeof b[0]},propertyChangedHandler:function(b,c,d,e){switch(this._validateProperties(),c){case"dragArea":this._positionWindow();break;case"collapseButtonSize":this._performLayout();break;case"closeButtonSize":this._performLayout();break;case"isModal":this._refresh(),this._fixWindowZIndex();break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":e?this.disable():(this.disabled=!0,this.enable());break;case"showCloseButton":case"showCollapseButton":this._performLayout();break;case"height":this._performLayout();break;case"width":this._performLayout();break;case"title":this.setTitle(e);break;case"content":this.setContent(e);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize();break;case"resizable":this.collapsed&&e?this.resizable=d:e?this._initializeResize():this._removeResize();break;case"position":this._positionWindow();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":e?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":e?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":e?d||(this.collapsed=!1,this.collapse(0)):d&&(this.collapsed=!0,this.expand(0));case"theme":a.jqx.utilities.setTheme(d,e,this.host);break;case"enableResize":return;default:return}},collapse:function(a){if(!this.collapsed&&!this.host.is(":animated")){this.enableResize&&(this._enableResizeCollapseBackup=!0,this.enableResize=!1);var b=this,c=this._header.outerHeight(!0),d=parseInt(this._header.css("border-bottom-width"),10),e=parseInt(this._header.css("margin-bottom"),10),a=isNaN(parseInt(a))?this.collapseAnimationDuration:a;isNaN(d)||(c-=2*d),isNaN(e)||(c+=e),this._heightBeforeCollapse=this.host.height(),this._minHeightBeforeCollapse=this.host.css("min-height"),this.host.css("min-height",c),this.host.animate({height:c},a,function(){b.collapsed=!0,b._collapseButton.addClass(b.toThemeProperty("jqx-window-collapse-button-collapsed")),b._content.css("display","none"),b._raiseEvent(5),b._raiseEvent(9)})}},expand:function(a){if(this.collapsed&&!this.host.is(":animated")){var b=this,a=isNaN(parseInt(a))?this.collapseAnimationDuration:a;this.host.animate({height:this._heightBeforeCollapse},a,function(){b.collapsed=!1,b.host.css("min-height",b._minHeightBeforeCollapse),b._collapseButton.removeClass(b.toThemeProperty("jqx-window-collapse-button-collapsed")),b._enableResizeCollapseBackup&&(b.enableResize=!0),b._content.css("display","block"),b._raiseEvent(6),b._performWidgetLayout(),b._raiseEvent(9)})}},closeAll:function(b){b="object"==typeof b?!1:b;for(var c=a.data(document.body,"jqxwindows-list"),d=c.length,e=a.data(document.body,"jqxwindow-modal")||[];d;)d-=1,this._toClose(b,c[d])&&(c[d].jqxWindow("closeWindow","close"),c.splice(d,1));this._toClose(b,e)&&(e.jqxWindow("closeWindow","close"),a.data(document.body,"jqxwindow-modal",[])),a.data(document.body,"jqxwindows-list",c)},setTitle:function(a){this._headerContentWrapper.html(a),this._performLayout()},setContent:function(a){this._contentInitialized=!1;for(var b=this._content,c=!1;!c;)b.css("height","auto"),b.css("width","auto"),b.is(".jqx-window")?c=!0:b=b.parent();this._content.html(a),this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())
},isOpen:function(){return this._visible},closeWindow:function(a){var b=this;a="undefined"==typeof a?this.closeButtonAction:a,this.hide(function(){"close"===a&&b._destroy()})},bringToFront:function(){for(var b=a.data(document.body,"jqxwindows-list"),c=b[b.length-1],d=parseInt(c.css("z-index"),10),e=this._indexOf(this.host,b),f=b.length-1;f>e;f-=1){var g=parseInt(b[f].css("z-index"),10)-1;b[f].css("z-index",g)}this.host.css("z-index",d),this._sortByStyle("z-index",b)},hide:function(a,b,c){switch(b=b||this.closeAnimationDuration,this.animationType){case"none":this.host.css("display","none");break;case"fade":this.host.fadeOut(b,function(){a instanceof Function&&a()});case"slide":this.host.slideUp(b,function(){a instanceof Function&&a()});case"combined":this.host.hide(b,function(){a instanceof Function&&a()})}this._visible=!1,this.isModal&&(this._modalBackground.hide(),this._fixWindowZIndex("modal-hide")),c!==!0&&(this._raiseEvent(1),this._raiseEvent(8))},open:function(a,b){this.show(a,b)},close:function(a,b,c){this.hide(a,b,c)},show:function(a,b){switch(this._setDialogResult("none"),b=b||this.showAnimationDuration,this.animationType){case"none":this.host.css("display","block");break;case"fade":this.host.fadeIn(b,function(){a instanceof Function&&a()});case"slide":this.host.slideDown(b,function(){a instanceof Function&&a()});case"combined":this.host.show(b,function(){a instanceof Function&&a()})}this.isModal&&(this._modalBackground.show(),this._fixWindowZIndex("modal-show"));var c=this;this._visible||(b>150&&"none"!=this.animationType?setTimeout(function(){c._contentInitialized||c.initContent&&(c.initContent(),c._contentInitialized=!0),c._raiseEvent(7),c._raiseEvent(9)},b-150):(c._contentInitialized||c.initContent&&(c.initContent(),c._contentInitialized=!0),this._raiseEvent(7),c._raiseEvent(9))),this._visible=!0,this._performLayout();var d=function(){c._content.focus()};d(),setTimeout(function(){d()},100)},_getTabbables:function(){var b=this._content.find("*"),c=new Array;return a.each(b,function(){d(this)&&(c[c.length]=this)}),c},move:function(b,c,d,e){var f,g,h,i=0,j=0,b=parseInt(b,10),c=parseInt(c,10);if(a.jqx.browser.msie&&(a(window).width()>a(document).width()&&!this.dragArea&&(j=this._SCROLL_WIDTH),a(window).height()<a(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(i=this._SCROLL_WIDTH)),f=this._validateCoordinates(b,c,j,i),parseInt(this.host.css("left"),10)!==f.x||parseInt(this.host.css("top"),10)!==f.y){if(d){var k=a.jqx.mobile.getTouches(d),l=k[0];g=l.pageX,h=l.pageY}e!==!1&&this._raiseEvent(2,f.x,f.y,g,h)}this.element.style.left=f.x+"px",this.element.style.top=f.y+"px"}})}(jQuery);var resizeModule=function(a){return{resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=10,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._cursorBackup,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var b=a(this.resizeTarget.children(".jqx-resize"));b.detach();var c=b.children();this._removeResizeEventListeners();for(var d=0;d<c.length;d+=1)a(c[d]).detach(),this.resizeTarget.append(c[d]);b.remove()}},initResize:function(b){if(this.resizeConfig(),this.resizeTarget=a(b.target),this.resizeIndicatorSize=b.indicatorSize||10,this.resizeTarget.is("textarea")){var c=this._resizableTextArea();this.resizeIndicatorSize=this.resizeIndicatorSize>=10?this.resizeIndicatorSize:10}this.maxWidth=b.maxWidth||100,this.minWidth=b.minWidth||1,this.maxHeight=b.maxHeight||100,this.minHeight=b.minHeight||1,this.resizeParent=b.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,b.alsoResize,c),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_resizableTextArea:function(){var b=this.resizeTarget;return b.wrap(a("<div></div>")),this.resizeTarget=b.parent(),this.resizeTarget.css({position:"absolute",left:b.offset().left,top:b.offset().top,margin:"5px"}),b.css({"z-index":0,position:"relative",top:"0px",left:"0px",margin:this.resizeIndicatorSize+"px",resize:"none"}),b},_getChildren:function(b,c,d,e,f,g){this.resizeTargetChildren=a(f),this.resizeTargetChildren.toArray(),this.resizeTargetChildren.push(g);for(var h=this.resizeTargetChildren.length;h;)h-=1,this.resizeTargetChildren[h]=a(this.resizeTargetChildren[h])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),this._addResizeEventHandlers()},_renderResize:function(){this.resizeTarget.wrapInner(a("<div></div>")),this._resizeWrapper=this.resizeTarget.children(0),this._resizeWrapper.addClass("jqx-resize"),this._resizeWrapper.addClass("jqx-rc-all"),this._resizeWrapper.css("z-index",8e3)},_performResizeLayout:function(){this._resizeWrapper.height(this.resizeTarget.height()),this._resizeWrapper.width(this.resizeTarget.width())},_removeResizeEventListeners:function(){var b=this.resizeTarget.attr("id");this._resizeWrapper.unbind("mousemove.resize"+b),this._resizeWrapper.unbind("mousedown.resize"+b),a(document).unbind("mousemove.resize"+b),a(document).unbind("mouseup.resize"+b)},_addResizeEventHandlers:function(){var b=this.resizeTarget.attr("id"),c=this;this._resizeWrapper.bind("mousemove.resize."+b,{self:this},function(a){c._resizeCursorChangeHandler(c,a)}),this._resizeWrapper.bind("mousedown.resize."+b,{self:this},function(a){c._resizeMouseDownHandler(c,a)}),a(document).bind("mousemove.resize."+b,{self:this},function(a){c._resizeHandler(c,a)}),a(document).bind("mouseup.resize."+b,{self:this},function(a){c._stopResizing(c,a)});try{if(""!=document.referrer||window.frameElement){var d=function(a){c._stopResizing(c,a)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",d,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",d)}}catch(e){}},_stopResizing:function(a){a.enableResize&&(a.isResizing&&a._raiseResizeEvent(1),a._resizeMouseDown=!1,a.isResizing=!1,a._resizeDirection=null,a.resizeTarget&&a.resizeTarget.removeClass("jqx-disableselect")),"undefined"==a._cursorBackup&&(a._cursorBackup="default"),a._resizeWrapper&&a._resizeWrapper.css("cursor",a._cursorBackup)},_resizeHandler:function(b,c){return b.enableResize?b.isResizing&&b._resizeDirection?(0===c.which&&a.jqx.browser.msie&&a.jqx.browser.version<9&&b._stopResizing(c),b._performResize(c.pageX,c.pageY),!1):b._resizeCaptureCursor(c.pageX,c.pageY):void 0},_resizeCaptureCursor:function(a,b){return this._resizeMouseDown&&!this.isResizing&&this._resizeDirection&&(a+3<this._mouseResizePosition.x||a-3>this._mouseResizePosition.x||b+3<this._mouseResizePosition.y||b-3>this._mouseResizePosition.y)?(this._changeCursor(a-parseInt(this.resizeTarget.css("left")),b-parseInt(this.resizeTarget.css("top"))),this._mouseResizePosition={x:a,y:b},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1):void 0},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var a,b=this.resizeTargetChildren.length;b;)b-=1,a=this.resizeTargetChildren[b],this.resizeTargetChildren[b].lastWidth=a.width(),this.resizeTargetChildren[b].lastHeight=a.height()},_performResize:function(a,b){var c=a-this._mouseResizePosition.x,d=b-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,c,d)},_resizeCursorChangeHandler:function(a,b){a.enableResize&&(a.isResizing||a._changeCursor(b.pageX-parseInt(a.resizeTarget.css("left")),b.pageY-parseInt(a.resizeTarget.css("top"))))},_resizeMouseDownHandler:function(a,b){a.enableResize&&null!==a._resizeDirection&&(a._resizeMouseDown=!0,a._mouseResizePosition.x=b.pageX,a._mouseResizePosition.y=b.pageY,b.preventDefault())},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize);if(this.resizeParent&&this.resizeParent.width&&this.resizeParent.height&&this.resizeParent.left&&this.resizeParent.top&&(this.resizeParent.width<this.resizeTarget.width()||this.resizeParent.width<this.maxWidth||this.resizeParent.height<this.resizeTarget.height()||this.resizeParent.height<this.maxHeight))throw new Error(this._resizeExceptions.invalidSize)}catch(a){alert(a)}},_changeCursor:function(a,b){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,a<=this.resizeIndicatorSize&&a>=0&&b<=this.resizeIndicatorSize&&b>0?(this._resizeWrapper.css("cursor","nw-resize"),this._resizeDirection="topleft"):b<=this.resizeIndicatorSize&&b>0&&a>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.css("cursor","ne-resize"),this._resizeDirection="topright"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()&&a<=this.resizeIndicatorSize&&a>=0?(this._resizeWrapper.css("cursor","sw-resize"),this._resizeDirection="bottomleft"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()&&a>=this.resizeTarget.width()-this.resizeIndicatorSize&&a<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","se-resize"),this._resizeDirection="bottomright"):a<=this.resizeIndicatorSize&&a>=0?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="left"):b<=this.resizeIndicatorSize&&b>0?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="top"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="bottom"):a>=this.resizeTarget.width()-this.resizeIndicatorSize&&a<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="right"):(this._resizeWrapper.css("cursor",this._cursorBackup),this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(a){this._resizeMethods=[],a.indexOf("left")>=0&&this._resizeMethods.push(this._resizeLeft),a.indexOf("top")>=0&&this._resizeMethods.push(this._resizeTop),a.indexOf("right")>=0&&this._resizeMethods.push(this._resizeRight),a.indexOf("bottom")>=0&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(a,b,c,d,e){return"horizontal"===c||"both"===c?this._validateWidth(a,d,e):"vertical"===c||"both"===c?this._validateHeight(b,d,e):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:a(document).width(),height:a(document).height()}},_validateHeight:function(b,c,d){var e=0,f=2,g=this._getParent();return a(window).width()>a(document).width()&&a.jqx.browser.msie&&g.height===a(document).height()&&(e=this._SCROLL_WIDTH),"bottom"===d&&b+c.position().top+e+f>g.height+g.top?{fix:g.height-c.position().top-e-f+g.top,result:!1}:"top"===d&&c.lastHeight-b+c.y<g.top?{fix:b+(c.lastHeight-b+c.y)-g.top,result:!1}:b<c.minHeight?{fix:c.minHeight,result:!1}:b>c.maxHeight?{fix:c.maxHeight,result:!1}:{result:!0,fix:b}},_validateWidth:function(b,c,d){var e=0,f=2,g=this._getParent();return a(window).height()<a(document).height()&&a.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&g.width===a(document).width()&&(e=this._SCROLL_WIDTH),"right"===d&&b+c.position().left+e+f>g.width+g.left?{fix:g.width-c.position().left-e-f+g.left,result:!1}:"left"===d&&c.lastWidth-b+c.x<g.left?{fix:b+(c.lastWidth-b+c.x)-g.left,result:!1}:b<c.minWidth?{fix:c.minWidth,result:!1}:b>c.maxWidth?{fix:c.maxWidth,result:!1}:{result:!0,fix:b}},_resize:function(a,b,c){this._resizeDirection;for(method in this._resizeMethods)if(this._resizeMethods[method]instanceof Function){var d={element:a,x:b,y:c,self:this};this._resizeMethods[method](d)}this._performResizeLayout()},_setResizeChildrenSize:function(a,b){for(var c=this.resizeTargetChildren.length;c;)if(c--,"width"===b){var d=this.resizeTargetChildren[c].lastWidth-(this.resizeTarget.lastWidth-a);d<this.resizeTarget.maxWidth&&d>0&&this.resizeTargetChildren[c].width(d)}else{var e=this.resizeTargetChildren[c].lastHeight-(this.resizeTarget.lastHeight-a);e<this.resizeTarget.maxHeight&&e>0&&this.resizeTargetChildren[c].height(e)}},_resizeRight:function(a){var b=a.element.lastWidth+a.x,c=a.self._validateResize(b,0,"horizontal",a.element,"right");return c.result||(b=c.fix),a.element.width()!==b&&(a.self._setResizeChildrenSize(b,"width"),a.element.width(b),a.self._raiseResizeEvent(0)),b},_resizeLeft:function(a){var b=a.element.lastWidth-a.x,c=a.self._validateResize(b,0,"horizontal",a.element,"left"),d=a.element.x+a.x;return c.result?(a.element.width()!==b&&(a.self._setResizeChildrenSize(b,"width"),a.element.width(b),a.element.css("left",d),a.self._raiseResizeEvent(0)),b):(d=a.element.x+(a.element.lastWidth-c.fix),b=c.fix,void 0)},_resizeBottom:function(a){var b=a.element.lastHeight+a.y,c=a.self._validateResize(0,b,"vertical",a.element,"bottom");return c.result||(b=c.fix),a.element.height()!==b&&(a.self._setResizeChildrenSize(b,"height"),a.element.height(b),a.self._raiseResizeEvent(0)),b},_resizeTop:function(a){var b=a.element.lastHeight-a.y,c=a.self._validateResize(0,b,"vertical",a.element,"top"),d=a.element.y+a.y;return c.result?(a.element.height()!==b&&(a.self._setResizeChildrenSize(b,"height"),a.element.height(b),a.element.css("top",d),a.self._raiseResizeEvent(0)),b):(d=a.element.y+(a.element.lastHeight-c.fix),b=c.fix,void 0)},_raiseResizeEvent:function(b){var c=this._resizeEvents[b],d=a.Event(c),e={};if(e.width=this.resizeTarget.width(),e.height=this.resizeTarget.height(),d.args=e,0==b){var c=this._resizeEvents[2],f=a.Event(c);f.args=e,this.resizeTarget.trigger(f)}return this.resizeTarget.trigger(d)}}}(jQuery);$.extend($.jqx._jqxWindow.prototype,resizeModule),function(a){a.jqx.jqxWidget("jqxDocking","",{}),a.extend(a.jqx._jqxDocking.prototype,{defineInstance:function(){this.orientation="horizontal",this.mode="default",this.floatingWindowOpacity=.3,this.panelsRoundedCorners=!0,this.disabled=!1,this.width="auto",this.height="auto",this.windowsMode=null,this.cookies=!1,this.cookieOptions={},this.windowsOffset=5,this._windowOptions={},this._draggedFired=!1,this._dragging=!1,this._draggingItem=null,this._panels=[],this._windows=[],this._indicator=null,this._events=["dragEnd","dragStart"]},createInstance:function(){this._refresh(!0),this.disabled&&(this.disabled=!1,this.disable())},refresh:function(a){a||this._performLayout()},_refresh:function(){this._render(),this._removeClasses(),this._addClasses(),this._setWindowsOptions(!0),this._performLayout(),this._cookieHandler(),this._cookieExporter(),this._removeEventListeners(),this._addEventListeners()},_addClasses:function(){this.host.addClass("jqx-docking");for(var a=0;a<this._panels.length;a+=1)this._panels[a].addClass(this.toThemeProperty("jqx-docking-panel")),this.panelsRoundedCorners&&this._panels[a].addClass(this.toThemeProperty("jqx-rc-all"));for(var a=0;a<this._windows.length;a+=1)this._windows[a].addClass(this.toThemeProperty("jqx-docking-window"))},_removeClasses:function(){this.host.removeClass("jqx-docking");for(var a=0;a<this._panels.length;a+=1)this._panels[a].removeClass(this.toThemeProperty("jqx-docking-panel")),this._panels[a].removeClass(this.toThemeProperty("jqx-rc-all"));for(var a=0;a<this._windows.length;a+=1)this._windows[a].removeClass(this.toThemeProperty("jqx-docking-window"))},_render:function(){for(var b=this.host.children("div"),c=0;c<b.length;c+=1)this._panels.push(a(b[c])),this._renderWindows(a(b[c]))},_renderWindows:function(b){for(var c=b.children("div"),d=0;d<c.length;d+=1)this._windows.push(a(c[d])),a(c[d]).jqxWindow({theme:this.theme,enableResize:!1,width:a(c[d]).css("width"),maxWidth:Number.MAX_VALUE}),a(c[d]).detach(),b.append(a(c[d]));b.append('<div class="spacer" style="clear: both;"></div>')},_performLayout:function(){this.host.css("width",this.width),this.host.css("height",this.height),this._performWindowsLayout(),this._performPanelsLayout(),this._performWindowsLayout()},_performPanelsLayout:function(){for(var a,b=this.host.width(),c=0,d=0;d<this._panels.length;d+=1)a=this._panels[d],a.css("height","auto"),a.css("min-width","auto"),"vertical"===this.orientation?(a.css("width","auto"),a.css("float","none")):(c+=this._handleHorizontalSize(a,c,b),d>0&&a.css("margin-left",-this.windowsOffset)),a.css("min-width",a.width());"horizontal"===this.orientation&&b>c&&this._fillContainer(b,c)},_handleHorizontalSize:function(a,b,c){var d,e=c/this._panels.length,f=a.outerWidth()-a.width();return a.css("float","left"),("auto"===a.css("width")||0===parseInt(a.css("width"),10))&&a.width(e-f),b+a.outerWidth()>=c&&(c>b+e?(d=e-f,a.css("min-width",d),a.width(d)):(d=a.width()-(b+a.outerWidth()-c),a.css("min-width",d),a.width(d))),a.outerWidth()},_fillContainer:function(b,c){var d=this._panels.length,e=this._panels[d-1],f=b-c+e.width();a.jqx.browser.msie&&a.jqx.browser.version<9&&(f-=this._panels.length),e.width(f)},_performWindowsLayout:function(){for(var a,b=0;b<this._windows.length;b+=1)a=this._getWindowOptions(this._windows[b]),this._windows[b].ischildof(this.host)&&(a?"floating"!==a.mode&&(this._windows[b].css("margin",this.windowsOffset),this._windows[b].css("position","static")):"floating"!==this.mode&&(this._windows[b].css("position","static"),this._windows[b].css("margin",this.windowsOffset))),this._setWindowSize(this._windows[b],a)},_setWindowSize:function(a,b){if("floating"!==b.mode&&a.ischildof(this.host)){var c=a.parent().width()-(a.outerWidth()-a.width())-2*this.windowsOffset;"vertical"===this.orientation?a.jqxWindow("width",c):a.jqxWindow("width",c)}this._setWindowOption(a,"size",{width:a.width(),height:a.height()})},_setWindowsOptions:function(a){for(var b=0;b<this._windows.length;b+=1){var c,d=this._windows[b].attr("id"),e=this._getWindowOptions(d);c=null,this.windowsMode&&this.windowsMode.hasOwnProperty(d)?(c=this.windowsMode[d],this._setWindowOption(this._windows[b],"mode",c)):"undefined"!=typeof e&&"undefined"==typeof e.mode&&(c=this.mode,this._setWindowOption(this._windows[b],"mode",c)),a&&(this._setWindowOption(this._windows[b],"resizable",!0),"floating"==c?this._windows[b].jqxWindow({enableResize:!0}):this._windows[b].jqxWindow({enableResize:!1}),this._setWindowOption(this._windows[b],"size",{height:this._windows[b].height(),width:this._windows[b].width()}))}},_removeEventListeners:function(){for(var a=0;a<this._windows.length;a+=1)this.removeHandler(this._windows[a],"moving",this._itemDragging),this.removeHandler(this._windows[a],"moved",this._itemDrop),this.removeHandler(this._windows[a],"resized",this._itemResized),this.removeHandler(this._windows[a],"collapse",this._collapsed),this.removeHandler(this._windows[a],"expand",this._expanded)},_addEventListeners:function(){for(var b=0;b<this._windows.length;b+=1)this._addEventListenersTo(this._windows[b]);var c=this;a(window).bind("resize."+this.element.id,function(){c._performLayout()})},_addEventListenersTo:function(a){this.addHandler(a,"moving",this._itemDragging,{self:this}),this.addHandler(a,"moved",this._itemDrop,{self:this}),this.addHandler(a,"resized",this._itemResized,{self:this}),this.addHandler(a,"collapse",this._collapsed,{self:this}),this.addHandler(a,"expand",this._expanded,{self:this})},_itemDragging:function(b){var c=b.data.self,d=a(b.target),e=c._getWindowOptions(d);if(d.removeClass(c.toThemeProperty("jqx-docking-window")),d.css("margin","0px"),c._dragging||c._prepareForDragging(d),"floating"!==e.mode){var f={x:b.args.pageX,y:b.args.pageY},g=c._getMouseOverPanel(f);return g?c._mouseOverPanel(g,f):c._mouseLeavePanel(),c._draggedFired||(c._raiseEvent(1,{window:a(d).attr("id")}),c._draggedFired=!0),b.preventDefault()}},_prepareForDragging:function(b){this._dragging=!0;var c={parent:b.parent(),next:b.next(),prev:b.prev()};this._setWindowOption(b,"lastPosition",c),b.detach(),a(document.body).append(b),this._setDraggingStyles(b),this._draggingItem=b},_setDraggingStyles:function(a){a.css({position:"absolute",left:a.offset().left,top:a.offset().top}),a.fadeTo(0,this.floatingWindowOpacity)},_getMouseOverPanel:function(a){for(var b=0;b<this._panels.length;b+=1)if(this._isMouseOverItem(this._panels[b],a,!1))return this._panels[b];return null},_mouseOverPanel:function(a,b){if(this._dragging){var c=a.children("div"),d=this._getHoverWindow(b,c);if("indicator"===d)return;var e=this._centerOffset(d,b);this._handleIndicator(a,d,e)}},_getHoverWindow:function(b,c){if(this._isMouseOverItem(this._indicator,b,!0))return"indicator";for(var d=0;d<c.length;d+=1)if(this._isMouseOverItem(a(c[d]),b,!0))return a(c[d]);return null},_centerOffset:function(a,b){if(a){var c,d={x:a.offset().left,y:a.offset().top},e=a.height();return a.width(),c=d.y+e/2,b.y>c?"next":"prev"}return"all"},_handleIndicator:function(a,b,c){var d=this._getIndicator(b);"all"===c?"vertical"===this.orientation?d.insertBefore(a.children(".spacer")):a.append(d):"prev"===c?d.insertBefore(b):d.insertAfter(b),this._resizeIndicator(d,a)},_getIndicator:function(){var b=this._indicator;return b||(b=a('<div class="'+this.toThemeProperty("jqx-docking-drop-indicator")+'"></div>')),this._indicator=b,this._indicator.css("margin",this.windowsOffset),"vertical"===this.orientation&&this._indicator.css("float","left"),b},_resizeIndicator:function(a,b){"horizontal"===this.orientation?(a.width(b.width()-(a.outerWidth(!0)-a.width())),a.height(this._draggingItem.height())):(a.width(this._draggingItem.width()),a.height(this._draggingItem.height()))},_mouseLeavePanel:function(){this._indicator&&(this._indicator.remove(),this._indicator=null)},_itemDrop:function(b){var c=b.data.self,d=a(b.currentTarget);c._dragging=!1,c._indicator?(d.detach(),d.insertAfter(c._indicator),c._indicator.remove(),c._dropFixer(d)):c._dropHandler(d),d.fadeTo(0,1),c._indicator=null,c._cookieExporter(),c._draggedFired=!1,c._raiseEvent(0,{window:d.attr("id")})},_dropFixer:function(a){a.css("position","static"),a.addClass(this.toThemeProperty("jqx-docking-window")),a.css("margin",this.windowsOffset),a.jqxWindow("enableResize",!1),"horizontal"===this.orientation&&this._fixWindowSize(a)},_dropHandler:function(a){var b=this._getWindowOptions(a);"docked"===b.mode?this._dropDocked(a):this._dropFloating(a)},_dropDocked:function(a){var b=this._getWindowOptions(a),c=b.lastPosition;a.detach(),c.next[0]?a.insertBefore(c.next):c.prev[0]?a.insertAfter(c.prev):c.parent.append(a),this._dropFixer(a)},_fixWindowSize:function(b){a(b).jqxWindow({width:b.parent().width()-(b.outerWidth()-b.width())-2*parseInt(this.windowsOffset,10)})},_itemResized:function(b){var c=b.data.self,d=a(b.currentTarget);c._setWindowOption(d,"size",{width:b.args.width,height:b.args.height}),c._cookieExporter()},_dropFloating:function(b){var c;a(b).jqxWindow("collapsed")||(c=this._getWindowOptions(b),a(b).jqxWindow("enableResize",c.resizable)),a(document.body).append(b),this._restoreWindowSize(b)},_restoreWindowSize:function(b){var c=this._getWindowOptions(b);a(b).jqxWindow({width:c.size.width})},_isMouseOverItem:function(a,b,c){if(!a)return!1;var d=a.outerWidth(!0),e=a.outerHeight(!0),f=a.width(),g=a.height(),h=a.offset().top,i=a.offset().left;return c&&(h-=(e-g)/2,i-=(d-f)/2,f=d,g=e),i<=b.x&&i+f>=b.x&&h<=b.y&&h+g+2*this._draggingItem.height()/3>=b.y?!0:!1},_cookieHandler:function(){if(this.cookies){var b=a.jqx.cookie.cookie("jqxDocking"+this.element.id);null!==b&&(this.importLayout(b),layoutImported=!0)}},_cookieExporter:function(){this.cookies&&a.jqx.cookie.cookie("jqxDocking"+this.element.id,this.exportLayout(),this.cookieOptions)},_indexOf:function(a,b){for(var c=0;c<b.length;c+=1)if(a[0]===b[c][0])return c;return-1},_exportFixed:function(){for(var b,c,d=[],e="",f=0;f<this._panels.length;f+=1){e+='"panel'+f+'": {',b=this._panels[f].children();for(var g=0;g<b.length;g+=1)c=a(b[g]),c.attr("id")&&(d.push(c),e+='"'+c.attr("id")+'":{"collapsed":'+c.jqxWindow("collapsed")+"},");b.length>1&&(e=e.substring(0,e.length-1)),e+="},"}return e=e.substring(0,e.length-1),{JSON:e,children:d}},_exportFloating:function(b){var c,d="";d+='"floating":{';for(var e=0;e<this._windows.length;e+=1)c=a(this._windows[e]),-1===this._indexOf(c,b)&&(d+='"'+c.attr("id")+'":{"x":"'+c.css("left")+'","y":"'+c.css("top")+'","width":"'+c.jqxWindow("width")+'","height":"'+c.jqxWindow("height")+'","collapsed":'+c.jqxWindow("collapsed")+"},");return","===d.substring(d.length-1,d.length)&&(d=d.substring(0,d.length-1)),d+="}"},_importFixed:function(b){for(var c in b)if("orientation"!==c&&"floating"!==c&&b.hasOwnProperty(c)){order=c.substring(c.length-1,c.length),order=parseInt(order,10),children=b[c];for(var c in children)a("#"+c).css("position","static"),children[c].collapsed&&function(b){setTimeout(function(){a("#"+b).jqxWindow("collapsed",!0)},0)}(c),this._panels[order].append(a("#"+c)),"horizontal"===this.orientation&&this._fixWindowSize(a("#"+c))}},_importFloating:function(b){var c,d=b.floating;for(var e in d)d.hasOwnProperty(e)&&(a("#"+e).css("position","absolute"),a(document.body).append(a("#"+e)),c=this._dragging,a("#"+e).jqxWindow("move",d[e].x,d[e].y),this._dragging=c,a("#"+e).jqxWindow("width",d[e].width),a("#"+e).jqxWindow("height",d[e].height),a("#"+e).jqxWindow("enableResize",!0),this._setWindowsOptions(!0),function(b){setTimeout(function(){a("#"+b).jqxWindow("collapsed",d[b].collapsed)},0)}(e),a("#"+e).fadeTo(0,1))},_getWindowOptions:function(a){return"object"==typeof a&&null!==a&&(a=a.length>0?a.attr("id"):a.id),this._windowOptions[a]},_setWindowOption:function(a,b,c){"object"==typeof a&&null!==a&&(a=a.length>0?a.attr("id"):a.id),"undefined"==typeof this._windowOptions[a]&&(this._windowOptions[a]={}),this._windowOptions[a][b]=c,"mode"===b&&this.setWindowMode(a,c)},_expanded:function(a){var b=a.data.self;b._cookieExporter()},_collapsed:function(a){var b=a.data.self;b._cookieExporter()},_raiseEvent:function(b){var c=a.Event(this._events[b]);return c.args=arguments[1],this.host.trigger(c)},_moveWindow:function(b,c,d){var e=c.children(),f=null,g=0;a.each(e,function(){"static"==a(this).css("position")&&(g==d&&this!=b[0]&&(f=this),g++)}),d>=g?b.appendTo(c):null!=f&&b.insertBefore(f),b.css("position","static")},propertyChangedHandler:function(b,c,d,e){switch(c){case"theme":a.each(b._windows,function(){this.jqxWindow({theme:e})});break;case"orientation":case"height":case"width":b._performLayout(),b._cookieExporter();break;case"panelsRoundedCorners":b._removeClasses(),b._addClasses();break;case"disabled":e?(b.disabled=!1,b.disable()):(b.disabled=!0,b.enable());break;case"windowsMode":case"mode":b._setWindowsOptions(!1);break;case"cookies":b._cookieExporter();break;case"windowsOffset":b._performLayout()}},destroy:function(){this._removeEventListeners(),this.host.remove(),this.windowsMode=null,this.cookieOptions=null,this._windowOptions=null,this._panels=null,this._windows=null,this._events=null},disable:function(){if(!this.disabled){this.disabled=!0,this._removeEventListeners();for(var b=0;b<this._windows.length;b+=1)this._windows[b][0].style.opacity="",a(this._windows[b]).jqxWindow("disable")}},enable:function(){if(this.disabled){this.disabled=!1,this._addEventListeners();for(var b=0;b<this._windows.length;b+=1)a(this._windows[b]).jqxWindow("enable")}},move:function(b,c,d){var c=this._panels[c];if(c){var e,f=a(c.children(".spacer"));f.detach(),b=a("#"+b),e=this._getWindowOptions(b),"floating"!==e.mode&&(this._moveWindow(b,c,d),c.append(f),this._cookieExporter(),this._dropFixer(b))}},exportLayout:function(){var a="{",b=this._exportFixed();return a+=b.JSON+","+this._exportFloating(b.children)+',"orientation": "'+this.orientation+'"',a+="}"},importLayout:function(b){try{var c=a.parseJSON(b);this.orientation=c.orientation,this._performLayout(),this._importFixed(c),this._importFloating(c)}catch(d){alert("Invalid JSON string.")}},setWindowMode:function(b,c){var b=a("#"+b),d=this._getWindowOptions(b);"floating"===c?(b.css("position","absolute"),this._windowOptions[b.attr("id")].mode=c):"floating"===d.mode&&"absolute"===b.css("position")&&(d.lastPosition?this._dropDocked(b):(this._panels[0].append(b),this._dropFixer(b))),this._windowOptions[b.attr("id")].mode=c},hideCloseButton:function(b){a("#"+b).jqxWindow("showCloseButton",!1)},showCloseButton:function(b){a("#"+b).jqxWindow("showCloseButton",!0)},hideCollapseButton:function(b){a("#"+b).jqxWindow("showCollapseButton",!1)},showCollapseButton:function(b){a("#"+b).jqxWindow("showCollapseButton",!0)},expandWindow:function(b,c){a("#"+b).jqxWindow("expand",c)},collapseWindow:function(b,c){a("#"+b).jqxWindow("collapse",c)},setWindowProperty:function(b,c,d){a("#"+b).jqxWindow(c,d)},getWindowProperty:function(b,c){return a("#"+b).jqxWindow(c)},setWindowPosition:function(b,c,d){var b=a("#"+b),e=this._getWindowOptions(b);"floating"===e.mode&&(b.css("position","absolute"),a(b).jqxWindow("move",c,d,null,!1))},hideAllCloseButtons:function(){for(var a=0;a<this._windows.length;a+=1)this._windows[a].jqxWindow("showCloseButton",!1)},hideAllCollapseButtons:function(){for(var a=0;a<this._windows.length;a+=1)this._windows[a].jqxWindow("showCollapseButton",!1)},showAllCloseButtons:function(){for(var a=0;a<this._windows.length;a+=1)this._windows[a].jqxWindow("showCloseButton",!0)},showAllCollapseButtons:function(){for(var a=0;a<this._windows.length;a+=1)this._windows[a].jqxWindow("showCollapseButton",!0)},pinWindow:function(b){a("#"+b).jqxWindow("draggable",!1)},unpinWindow:function(b){a("#"+b).jqxWindow("draggable",!0)},setDraggingMode:function(b){var c=a("#"+b);this._prepareForDragging(c),c.fadeTo(0,1)},enableWindowResize:function(b){b=a("#"+b),"absolute"===b.css("position")&&(this._setWindowOption(b,"resizable",!0),b.jqxWindow("enableResize",!0))
},disableWindowResize:function(b){b=a("#"+b),this._setWindowOption(b,"resizable",!1),b.jqxWindow("enableResize",!1)},addWindow:function(b,c,d,e){var f="#"+b;a(f).jqxWindow({theme:this.theme,enableResize:!1,width:a(f).css("width"),maxWidth:Number.MAX_VALUE}),this._panels[0].append(a(f)),this._windows.push(a(f)),c?this._setWindowOption(a(f),"mode",c):this._setWindowOption(a(f),"mode",this.mode),this._setWindowOption(a(f),"resizable",!0),this._setWindowOption(a(f),"size",{width:a(f).width(),height:a(f).height()}),"floating"==c?a(f).jqxWindow({enableResize:!0}):a(f).jqxWindow({enableResize:!1}),null!=this._panels[d]&&this._setWindowOption(a(f),"size",{width:this._panels[d].width(),height:this._panels[d].height()}),this._addEventListenersTo(a(f)),"undefined"!=typeof d&&"undefined"!=typeof e&&this.move(b,d,e),this._dropFixer(a(f))},closeWindow:function(b){a("#"+b).jqxWindow("closeWindow")}})}(jQuery),function(a){a.jqx.jqxWidget("jqxTooltip","",{}),a.extend(a.jqx._jqxTooltip.prototype,{defineInstance:function(){this.width="auto",this.height="auto",this.position="default",this.enableBrowserBoundsDetection=!0,this.content="",this.left=0,this.top=0,this.absolutePositionX=0,this.absolutePositionY=0,this.trigger="hover",this.showDelay=100,this.autoHide=!0,this.autoHideDelay=3e3,this.closeOnClick=!0,this.disabled=!1,this.animationShowDelay=200,this.animationHideDelay="fast",this.showArrow=!0,this.name="",this.opacity=.9,this._isOpen=!1,this._eventsMap={mousedown:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend")},this.events=["open","close","opening","closing"]},createInstance:function(){this._isTouchDevice=a.jqx.mobile.isTouchDevice();var b=a.data(document.body,"_tooltipIDArray"+this.name);b?this.ID_Array=b:(this.ID_Array=new Array,a.data(document.body,"_tooltipIDArray"+this.name,this.ID_Array));var c=this._generatekey(),d="jqxtooltip"+c;this.ID_Array.push({tooltipID:d,tooltipHost:this.host});var e=a('<div id="'+d+'"><div id ="'+d+'Main"><div id="'+d+'Text"></div></div><div id="'+d+'Arrow"></div></div>');a("body").append(e),this._setTheme();var f=a("#"+d);f.css("visibility","hidden"),f.css("opacity",0),f.css("z-index",9999),0==this.showArrow&&a("#"+d+"Arrow").css("visibility","hidden"),this._setSize(),this._setContent(),this._initialPosition(),0==this.disabled&&(this._trigger(),1==this.closeOnClick&&this._clickHide())},open:function(){if(0==this.disabled&&"removed"!=this._id())if("mouse"==this.position||"mouseenter"==this.position){var a=this.position;this.position="default",this._setPosition(),this._animateShow(),this.position=a}else this._raiseEvent("2"),this._setPosition(),this._animateShow()},close:function(b){var c=this;void 0==b&&(b=this.animationHideDelay);var d=new Number(a(this._id()).css("opacity")).toFixed(2);1==this._isOpen&&d==this.opacity&&(clearTimeout(this.autoHideTimeout),this._raiseEvent("3"),a(this._id()).animate({opacity:0},b,function(){a(c._id()).css("visibility","hidden"),c._raiseEvent("1"),c._isOpen=!1}))},destroy:function(){var b=this.ID_Array.length;this._removeHandlers(),a(this._id()).remove();for(var c=0;b>c;c++)if(this.ID_Array[c].tooltipHost===this.host){this.ID_Array.splice(c,1);break}a(this.element).removeData("jqxTooltip")},refresh:function(b){if(1!=b){var c=this,d=new Number(a(this._id()).css("opacity")).toFixed(2);"removed"!=this._id()&&(1==this.disabled&&1==this._isOpen&&d==this.opacity&&(clearTimeout(this.autoHideTimeout),a(this._id()).stop(),a(this._id()).animate({opacity:0},this.animationHideDelay,function(){a(c._id()).css("visibility","hidden"),c._isOpen=!1})),this._setTheme(),this._setSize(),this._setContent(),this._removeHandlers(),0==this.disabled&&(this._trigger(),1==this.closeOnClick&&this._clickHide()))}},propertyChangedHandler:function(a){a.refresh()},_raiseEvent:function(a,b){var c=this.events[a],d=new jQuery.Event(c);d.owner=this,d.args=b;try{var e=this.host.trigger(d)}catch(f){}return e},_generatekey:function(){var a=function(){return(0|65536*(1+Math.random())).toString(16).substring(1)};return a()+a()},_id:function(){for(var a,b,c=this.ID_Array.length,d=0;c>d;d++)if(this.ID_Array[d].tooltipHost===this.host){a=this.ID_Array[d].tooltipID,b="#"+a;break}return void 0==b&&(b="removed"),b},_setPosition:function(b){if(0==this._isOpen&&0==a(this._id()).css("opacity")){this.documentTop=a(document).scrollTop(),this.documentLeft=a(document).scrollLeft(),this.windowWidth=a(window).width(),this.windowHeight=a(window).height(),this.host_width=this.host.outerWidth(),this.host_height=this.host.outerHeight(),this.tooltip_width=a(this._id()).width(),this.tooltip_height=a(this._id()).height(),this.host_offset=this.host.offset(),this.tooltip_offset=a(this._id()).offset(),this.default_offset=30,this.offset_horizontal=parseInt(this.left),this.offset_vertical=parseInt(this.top);var c=a(this._id()+"Arrow"),d=a(this._id()+"Main");switch(this.arrow_size=5,this.tooltip_main_offset=d.offset(),this.tooltip_arrow_offset,this.position){case"top":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(d.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height(),c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom":this.tooltip_offset.left=this.host_offset.left+this.host_width/2-this.tooltip_width/2+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(d.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"left":this.tooltip_offset.left=-1+this.host_offset.left-this.tooltip_width-this.arrow_size+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_main_offset=d.offset(),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=1+this.tooltip_main_offset.left+d.width(),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height()/2-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"right":this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height/2-this.tooltip_height/2+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left-this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height()/2-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+d.width()-6*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height(),c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-left":this.tooltip_offset.left=this.host_offset.left+this.default_offset-this.tooltip_width+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+d.width()-6*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"top-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height(),c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"bottom-right":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset+this.offset_horizontal,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size+this.offset_vertical,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left});break;case"absolute":a(this._id()).offset({top:this.absolutePositionY,left:this.absolutePositionX}),c.css({"border-width":"0px"});break;case"mouse":var e=this;if(0==this._isTouchDevice)switch(this.trigger){case"hover":this.mouseHoverTimeout&&clearTimeout(this.mouseHoverTimeout),this.mouseHoverTimeout=setTimeout(function(){e.tooltip_offset.left=b.pageX+10,e.tooltip_offset.top=b.pageY+10,e._detectBrowserBounds()},this.showDelay);break;case"click":this.tooltip_offset.left=b.pageX+10,this.tooltip_offset.top=b.pageY+10,this._detectBrowserBounds()}else{var f=b.pageX,g=b.pageY;if(b.originalEvent){var h=null;if(b.originalEvent.touches&&b.originalEvent.touches.length)var h=b.originalEvent.touches[0];else if(b.originalEvent.changedTouches&&b.originalEvent.changedTouches.length)var h=b.originalEvent.changedTouches[0];void 0!=h&&(f=h.pageX,g=h.pageY)}this.tooltip_offset.left=f+10,this.tooltip_offset.top=g+10,this._detectBrowserBounds()}c.css({"border-width":"0px"});break;case"mouseenter":var i={top:b.pageY,left:b.pageX};i.top<this.host_offset.top+10&&i.top>this.host_offset.top-10?(this.tooltip_offset.left=i.left-this.tooltip_width/2,this.tooltip_offset.top=this.host_offset.top-this.tooltip_height-this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px  0px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(d.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height(),c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):i.top<this.host_offset.top+this.host_height+10&&i.top>this.host_offset.top+this.host_height-10?(this.tooltip_offset.left=i.left-this.tooltip_width/2,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+(d.width()/2-this.arrow_size),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):i.left<this.host_offset.left+10&&i.left>this.host_offset.left-10?(this.tooltip_offset.left=this.host_offset.left-this.tooltip_width-this.arrow_size,this.tooltip_offset.top=i.top-this.tooltip_height/2,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.css({"border-width":this.arrow_size+"px 0px "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_main_offset=d.offset(),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+d.width(),this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height()/2-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})):i.left<this.host_offset.left+this.host_width+10&&i.left>this.host_offset.left+this.host_width-10&&(this.tooltip_offset.left=this.host_offset.left+this.host_width+this.arrow_size,this.tooltip_offset.top=i.top-this.tooltip_height/2,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.css({"border-width":this.arrow_size+"px "+this.arrow_size+"px "+this.arrow_size+"px 0px"}),this.tooltip_main_offset=d.offset(),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left-this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top+d.height()/2-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left}));break;case"default":this.tooltip_offset.left=this.host_offset.left+this.host_width-this.default_offset,this.tooltip_offset.top=this.host_offset.top+this.host_height+this.arrow_size,this._detectBrowserBounds(),this.tooltip_main_offset=d.offset(),c.removeClass(this.toThemeProperty("jqx-tooltip-arrow-l-r")),c.addClass(this.toThemeProperty("jqx-tooltip-arrow-t-b")),c.css({"border-width":"0 "+this.arrow_size+"px "+this.arrow_size+"px"}),this.tooltip_arrow_offset=c.offset(),this.tooltip_arrow_offset.left=this.tooltip_main_offset.left+4*this.arrow_size,this.tooltip_arrow_offset.top=this.tooltip_main_offset.top-this.arrow_size,c.offset({top:this.tooltip_arrow_offset.top,left:this.tooltip_arrow_offset.left})}}},_setContent:function(){a(this._id()+"Text").html(this.content)},_animateShow:function(){this._closeAll(),clearTimeout(this.autoHideTimeout);var b=new Number(a(this._id()).css("opacity")).toFixed(2);if(0==this._isOpen&&0==b){var c=this,d=a(this._id());d.css("visibility","visible"),d.stop(),d.css("opacity",0),d.animate({opacity:this.opacity},this.animationShowDelay,function(){c._raiseEvent("0"),c._isOpen=!0;var b=a.data(document.body,"_openedTooltip"+c.name);b&&(b._raiseEvent("3"),b._raiseEvent("1")),c.openedTooltip=c,a.data(document.body,"_openedTooltip"+c.name,c),c.autoHideTimeout&&clearTimeout(c.autoHideTimeout),c.autoHideTimeout=setTimeout(function(){c._autoHide()},c.autoHideDelay)})}},_trigger:function(){if("removed"!=this._id()){this._enterFlag,this._leaveFlag;var b=this;if(0==this._isTouchDevice)switch(this.trigger){case"hover":"mouse"==this.position?(this.addHandler(this.host,"mousemove.tooltip",function(a){1==b._enterFlag&&(b._raiseEvent("2"),b._setPosition(a),clearTimeout(b.hoverShowTimeout),b.hoverShowTimeout=setTimeout(function(){b._animateShow(),b._enterFlag=0},b.showDelay))}),this.addHandler(this.host,"mouseenter.tooltip",function(){0!=b._leaveFlag&&(b._enterFlag=1)}),this.addHandler(this.host,"mouseleave.tooltip",function(c){b._leaveFlag=1,clearTimeout(b.hoverShowTimeout);var d=a(b._id()).offset(),e=a(b._id()).width(),f=a(b._id()).height();(parseInt(c.pageX)<parseInt(d.left)||parseInt(c.pageX)>parseInt(d.left)+e)&&b.close(),(parseInt(c.pageY)<parseInt(d.top)||parseInt(c.pageY)>parseInt(d.top)+f)&&b.close()}),this.addHandler(a(this._id()),"mouseleave.tooltip",function(a){b._checkBoundariesAuto(a),0!=b._clickFlag&&0!=b._autoFlag?b._leaveFlag=0:(b._leaveFlag=1,b.close())})):(this.addHandler(this.host,"mouseenter.tooltip",function(a){clearTimeout(b.hoverShowTimeout),b.hoverShowTimeout=setTimeout(function(){b._raiseEvent("2"),b._setPosition(a),b._animateShow()},b.showDelay)}),this.addHandler(this.host,"mouseleave.tooltip",function(c){b._leaveFlag=1,clearTimeout(b.hoverShowTimeout);var d=a(b._id()).offset(),e=a(b._id()).width(),f=a(b._id()).height();(parseInt(c.pageX)<parseInt(d.left)||parseInt(c.pageX)>parseInt(d.left)+e)&&b.close(),(parseInt(c.pageY)<parseInt(d.top)||parseInt(c.pageY)>parseInt(d.top)+f)&&b.close()}),this.addHandler(a(this._id()),"mouseleave.tooltip",function(a){b._checkBoundariesAuto(a),0!=b._clickFlag&&0!=b._autoFlag?b._leaveFlag=0:(b._leaveFlag=1,b.close())}));break;case"click":this.addHandler(this.host,"click.tooltip",function(a){"mouseenter"==b.position&&(b.position="mouse"),b._raiseEvent("2"),b._setPosition(a),b._animateShow()})}else this.addHandler(this.host,"touchstart.tooltip",function(a){"mouseenter"==b.position&&(b.position="mouse"),b._raiseEvent("2"),b._setPosition(a),b._animateShow()})}},_autoHide:function(){var b=this,c=new Number(a(this._id()).css("opacity")).toFixed(2);1==this.autoHide&&1==this._isOpen&&c>=this.opacity&&(b._raiseEvent("3"),a(b._id()).animate({opacity:0},b.animationHideDelay,function(){a(b._id()).css("visibility","hidden"),b._raiseEvent("1"),b._isOpen=!1}))},_clickHide:function(){var b=this;this.addHandler(a(this._id()),"click.tooltip",function(a){b._checkBoundariesClick(a),b.close()})},_setSize:function(){a(this._id()).css({width:this.width,height:this.height})},_setTheme:function(){var b=this._id(),c=a(b+"Main"),d=a(b+"Text"),e=a(b+"Arrow");c.addClass(this.toThemeProperty("jqx-widget")),d.addClass(this.toThemeProperty("jqx-widget")),e.addClass(this.toThemeProperty("jqx-widget")),c.addClass(this.toThemeProperty("jqx-fill-state-normal")),d.addClass(this.toThemeProperty("jqx-fill-state-normal")),e.addClass(this.toThemeProperty("jqx-fill-state-normal")),a(b).addClass(this.toThemeProperty("jqx-tooltip")),c.addClass(this.toThemeProperty("jqx-tooltip-main")),d.addClass(this.toThemeProperty("jqx-tooltip-text")),e.addClass(this.toThemeProperty("jqx-tooltip-arrow"))},_initialPosition:function(){var a=this.position;this.position="default",this._setPosition(),this.position=a},_detectBrowserBounds:function(){var b=this._id();this.enableBrowserBoundsDetection?this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left<0?a(b).offset({top:this.documentTop,left:this.documentLeft}):this.tooltip_offset.top<this.documentTop&&this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?a(b).offset({top:this.documentTop,left:this.windowWidth+this.documentLeft-this.tooltip_width}):this.tooltip_offset.top<this.documentTop?a(b).offset({top:this.documentTop,left:this.tooltip_offset.left}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop&&this.tooltip_offset.left<0?a(b).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.documentLeft}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop&&this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?a(b).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.windowWidth+this.documentLeft-this.tooltip_width}):this.tooltip_offset.top+this.tooltip_height>this.windowHeight+this.documentTop?a(b).offset({top:this.windowHeight+this.documentTop-this.tooltip_height,left:this.tooltip_offset.left}):this.tooltip_offset.left<0?a(b).offset({top:this.tooltip_offset.top,left:this.documentLeft}):this.tooltip_offset.left+this.tooltip_width>this.windowWidth+this.documentLeft?a(b).offset({top:this.tooltip_offset.top,left:this.windowWidth+this.documentLeft-this.tooltip_width}):a(b).offset({top:this.tooltip_offset.top,left:this.tooltip_offset.left}):a(b).offset({top:this.tooltip_offset.top,left:this.tooltip_offset.left})},_checkBoundaries:function(a){return a.pageX>=this.host_offset.left&&a.pageX<=this.host_offset.left+this.host_width&&a.pageY>=this.host_offset.top&&a.pageY<=this.host_offset.top+this.host_height?!0:!1},_checkBoundariesClick:function(a){this._clickFlag=this._checkBoundaries(a)?1:0},_checkBoundariesAuto:function(a){this._autoFlag=this._checkBoundaries(a)?1:0},_removeHandlers:function(){this.removeHandler(this.host,"mouseenter.tooltip"),this.removeHandler(this.host,"mousemove.tooltip"),this.removeHandler(this.host,"mouseleave.tooltip"),this.removeHandler(this.host,"click.tooltip"),this.removeHandler(this.host,"touchstart.tooltip"),this.removeHandler(a(this._id()),"click.tooltip"),this.removeHandler(a(this._id()),"mouseleave.tooltip")},_closeAll:function(){for(var b=this.ID_Array.length,c=0;b>c;c++){var d="#"+this.ID_Array[c].tooltipID;d!=this._id()&&(a(d).css({opacity:0,visibility:"hidden"}),this._isOpen=!1)}}})}(jQuery),function(a){a.jqx.jqxWidget("jqxSlider","",{}),a.extend(a.jqx._jqxSlider.prototype,{defineInstance:function(){this.disabled=!1,this.width=300,this.height=30,this.step=1,this.max=10,this.min=0,this.orientation="horizontal",this.showTicks=!0,this.ticksPosition="both",this.ticksFrequency=2,this.showButtons=!0,this.buttonsPosition="both",this.mode="default",this.showRange=!0,this.rangeSlider=!1,this.value=0,this.values=[0,10],this.tooltip=!0,this.sliderButtonSize=14,this.tickSize=7,this._dimentions={vertical:{size:"height",oSize:"width",outerOSize:"outerWidth",outerSize:"outerHeight",dimention:"top",oDimention:"left",start:"_startY",mouse:"_mouseStartY",page:"pageY",opposite:"horizontal"},horizontal:{size:"width",oSize:"height",outerOSize:"outerHeight",outerSize:"outerWidth",dimention:"left",oDimention:"top",start:"_startX",mouse:"_mouseStartX",page:"pageX",opposite:"vertical"}},this._touchEvents={mousedown:a.jqx.mobile.getTouchEventName("touchstart"),click:a.jqx.mobile.getTouchEventName("touchstart"),mouseup:a.jqx.mobile.getTouchEventName("touchend"),mousemove:a.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},this._events=["change","slide","slideEnd","slideStart","created"],this._invalidArgumentExceptions={invalidWidth:"Invalid width.",invalidHeight:"Invalid height.",invalidStep:"Invalid step.",invalidMaxValue:"Invalid maximum value.",invalidMinValue:"Invalid minimum value.",invalidTickFrequency:"Invalid tick frequency.",invalidValue:"Invalid value.",invalidValues:"Invalid values.",invalidTicksPosition:"Invalid ticksPosition",invalidButtonsPosition:"Invalid buttonsPosition"},this._lastValue=[],this._track=null,this._leftButton=null,this._rightButton=null,this._slider=null,this._rangeBar=null,this._slideEvent=null,this._capturedElement=null,this._slideStarted=!1},createInstance:function(){this.host.addClass(this.toThemeProperty("jqx-slider")),this.host.addClass(this.toThemeProperty("jqx-widget")),this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this.host.width(this.width),this.host.height(this.height),this._refresh(),this._raiseEvent(4,{value:this.getValue()}),this._addInput()},destroy:function(){this.host.remove()},_addInput:function(){var b=this.host.attr("name");b||(b=this.element.id),this.input=a("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",b),this.rangeSlider?this.values&&this.input.val(this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):this.input.val(this.value.toString())},_getDimention:function(a){return this._dimentions[this.orientation][a]},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]:a},refresh:function(a){a||this._refresh()},_refresh:function(){this._render(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initialSettings()},_render:function(){this._addTrack(),this._addSliders(),this._addTickContainers(),this._addContentWrapper(),this._addButtons(),this._addRangeBar()},_addTrack:function(){(null===this._track||this._track.length<1)&&(this._track=a('<div class="'+this.toThemeProperty("jqx-slider-track")+'"></div>'),this.host.append(this._track)),this._track.attr("style",""),this._track.removeClass(this.toThemeProperty("jqx-slider-track-"+this._getDimention("opposite"))),this._track.addClass(this.toThemeProperty("jqx-slider-track-"+this.orientation)),this._track.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._track.addClass(this.toThemeProperty("jqx-rc-all"))},_addSliders:function(){(null===this._slider||this._slider.length<1)&&(this._slider={},this._slider.left=a('<div class="'+this.toThemeProperty("jqx-slider-slider")+'"></div>'),this._track.append(this._slider.left),this._slider.right=a('<div class="'+this.toThemeProperty("jqx-slider-slider")+'"></div>'),this._track.append(this._slider.right)),this._slider.left.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getDimention("opposite"))),this._slider.left.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation)),this._slider.right.removeClass(this.toThemeProperty("jqx-slider-slider-"+this._getDimention("opposite"))),this._slider.right.addClass(this.toThemeProperty("jqx-slider-slider-"+this.orientation)),this._slider.right.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._slider.left.addClass(this.toThemeProperty("jqx-fill-state-normal"))},_addTickContainers:function(){(null!==this._bottomTicks||this._bottomTicks.length<1||null!==this._topTicks||this._topTicks.length<1)&&this._addTickContainers(),this.showTicks?(this._bottomTicks.css("visibility","visible"),this._topTicks.css("visibility","visibility")):(this._bottomTicks.css("visibility","hidden"),this._topTicks.css("visibility","hidden"))},_addTickContainers:function(){("undefined"==typeof this._bottomTicks||this._bottomTicks.length<1)&&(this._bottomTicks=a('<div class="'+this.toThemeProperty("jqx-slider-tickscontainer")+'" style=""></div>'),this.host.prepend(this._bottomTicks)),("undefined"==typeof this._topTicks||this._topTicks.length<1)&&(this._topTicks=a('<div class="'+this.toThemeProperty("jqx-slider-tickscontainer")+'" style=""></div>'),this.host.append(this._topTicks))},_addButtons:function(){(null===this._leftButton||this._leftButton.length<1||null===this._rightButton||this._rightButton.length<1)&&this._createButtons(),!this.showButtons||this.rangeSlider?(this._rightButton.css("display","none"),this._leftButton.css("display","none")):(this._rightButton.css("display","block"),this._leftButton.css("display","block"))},_createButtons:function(){this._leftButton=a('<div class="jqx-slider-left"><div style="width: 100%; height: 100%;"></div></div>'),this._rightButton=a('<div class="jqx-slider-right"><div style="width: 100%; height: 100%;"></div></div>'),this.host.prepend(this._rightButton),this.host.prepend(this._leftButton),this._leftButton.jqxRepeatButton({theme:this.theme,delay:250,width:this.sliderButtonSize,height:this.sliderButtonSize}),this._rightButton.jqxRepeatButton({theme:this.theme,delay:250,width:this.sliderButtonSize,height:this.sliderButtonSize})},_addContentWrapper:function(){(void 0===this._contentWrapper||0===this._contentWrapper.length)&&(this.host.wrapInner("<div></div>"),this._contentWrapper=this.host.children(0)),"horizontal"===this.orientation?this._contentWrapper.css("float","left"):this._contentWrapper.css("float","none")},_addTicks:function(a){if(this.showTicks){var b=this.max-this.min,c=a[this._getDimention("size")](),d=Math.round(b/this.ticksFrequency),e=c/d;a.empty(),this._addTick(a,0,this.min);for(var f=1;d>f;f++){var g=f*e;g=Math.floor(g),this._addTick(a,g,f)}this._addTick(a,d*e,this.max)}},_addTick:function(b,c){var d;b[this._getDimention("oSize")](),"horizontal"===this.orientation?(d=a('<div style="float: left; position:absolute; left:'+c+'px;" class="'+this.toThemeProperty("jqx-slider-tick-horizontal")+'"></div>'),this._tickLayout(b,d)):(d=a('<div style="float: none; position:absolute; top:'+c+'px;" class="'+this.toThemeProperty("jqx-slider-tick-vertical")+'"></div>'),this._tickLayout(b,d)),d.addClass(this.toThemeProperty("jqx-slider-tick")),d.addClass(this.toThemeProperty("jqx-fill-state-pressed")),b.append(d),d[this._getDimention("oSize")](this.tickSize)},_tickLayout:function(a,b){var c=a[this._getDimention("oSize")]();a[0]===this._topTicks[0]?b.css(this._getDimention("oDimention"),"2px"):b.css(this._getDimention("oDimention"),c-this.tickSize-2)},_addRangeBar:function(){(null===this._rangeBar||this._rangeBar.length<1)&&(this._rangeBar=a('<div class="'+this.toThemeProperty("jqx-slider-rangebar")+'"></div>'),this._rangeBar.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._rangeBar.addClass(this.toThemeProperty("jqx-rc-all")),this._track.append(this._rangeBar)),this.showRange?this._rangeBar.css("display","block"):this._rangeBar.css("display","none")},_getLeftDisplacement:function(){if(!this.showButtons)return 0;if(this.rangeSlider)return 0;switch(this.buttonsPosition){case"left":return this._leftButton[this._getDimention("outerSize")](!0)+this._rightButton[this._getDimention("outerSize")](!0);case"right":return 0;default:return this._leftButton[this._getDimention("outerSize")](!0)}return 0},_performLayout:function(){this.host.width(this.width),this.host.height(this.height);var a=this.host.height();if("width"==this._getDimention("size")&&(a=this.host.width()),this._performButtonsLayout(),this._performTrackLayout(a),this._contentWrapper[this._getDimention("size")](this._track[this._getDimention("size")]()),this._contentWrapper[this._getDimention("oSize")](this[this._getDimention("oSize")]),this._performTicksLayout(),this._performRangeBarLayout(),this.rangeSlider?this._slider.left.css("visibility","visible"):this._slider.left.css("visibility","hidden"),this._refreshRangeBar(),"vertical"==this.orientation&&this.showButtons){var b=parseInt((this._leftButton.width()-this._track.width())/2);this._track.css("margin-left",-2+b+"px")}},_performTrackLayout:function(a){this._track[this._getDimention("size")](a-(this.showButtons&&!this.rangeSlider?this._leftButton[this._getDimention("outerSize")](!0)+this._rightButton[this._getDimention("outerSize")](!0):0)),this._slider.left.css("left",0),this._slider.left.css("top",0),this._slider.right.css("left",0),this._slider.right.css("top",0)},_performTicksLayout:function(){this._performTicksContainerLayout(),this._addTicks(this._topTicks),this._addTicks(this._bottomTicks),this._topTicks.css("visibility","hidden"),this._bottomTicks.css("visibility","hidden"),"top"!==this.ticksPosition&&"both"!==this.ticksPosition||!this.showTicks||this._bottomTicks.css("visibility","visible"),"bottom"!==this.ticksPosition&&"both"!==this.ticksPosition||!this.showTicks||this._topTicks.css("visibility","visible")
},_performTicksContainerLayout:function(){var a=this._getDimention("size"),b=this._getDimention("oSize"),c=this._getDimention("outerOSize");this._topTicks[a](this._track[a]()),this._bottomTicks[a](this._track[a]());var d=-1+(this[b]-this._track[c](!0))/2;this._topTicks[b](parseInt(d));var e=-1+(this[b]-this._track[c](!0))/2;this._bottomTicks[b](parseInt(e)),"vertical"===this.orientation?(this._topTicks.css("float","left"),this._track.css("float","left"),this._bottomTicks.css("float","left")):(this._topTicks.css("float","none"),this._track.css("float","none"),this._bottomTicks.css("float","none"))},_performButtonsLayout:function(){this._addButtonsStyles(),this._addButtonsClasses(),this._addButtonsHover(),this._orderButtons(),this._centerElement(this._rightButton),this._centerElement(this._leftButton),this._layoutButtons()},_addButtonsStyles:function(){this._leftButton.css("background-position","center"),this._rightButton.css("background-position","center"),"vertical"===this.orientation?(this._leftButton.css("float","none"),this._rightButton.css("float","none")):(this._leftButton.css("float","left"),this._rightButton.css("float","left"))},_addButtonsClasses:function(){var a={prev:"left",next:"right"};"vertical"===this.orientation&&(a={prev:"up",next:"down"}),this._leftButton.addClass(this.toThemeProperty("jqx-rc-all")),this._rightButton.addClass(this.toThemeProperty("jqx-rc-all")),this._leftButton.addClass(this.toThemeProperty("jqx-slider-button")),this._rightButton.addClass(this.toThemeProperty("jqx-slider-button")),this._leftArrow=this._leftButton.find("div"),this._rightArrow=this._rightButton.find("div"),this._leftArrow.removeClass(this.toThemeProperty("icon-arrow-left")),this._rightArrow.removeClass(this.toThemeProperty("icon-arrow-right")),this._leftArrow.removeClass(this.toThemeProperty("icon-arrow-up")),this._rightArrow.removeClass(this.toThemeProperty("icon-arrow-down")),this._leftArrow.addClass(this.toThemeProperty("icon-arrow-"+a.prev)),this._rightArrow.addClass(this.toThemeProperty("icon-arrow-"+a.next))},_addButtonsHover:function(){var b=this,c={prev:"left",next:"right"};"vertical"===this.orientation&&(c={prev:"up",next:"down"}),this.addHandler(a(document),"mouseup.arrow"+this.element.id,function(){b._leftArrow.removeClass(b.toThemeProperty("icon-arrow-"+c.prev+"-selected")),b._rightArrow.removeClass(b.toThemeProperty("icon-arrow-"+c.next+"-selected"))}),this.addHandler(this._leftButton,"mousedown",function(){b.disabled||b._leftArrow.addClass(b.toThemeProperty("icon-arrow-"+c.prev+"-selected"))}),this.addHandler(this._leftButton,"mouseup",function(){b.disabled||b._leftArrow.removeClass(b.toThemeProperty("icon-arrow-"+c.prev+"-selected"))}),this.addHandler(this._rightButton,"mousedown",function(){b.disabled||b._rightArrow.addClass(b.toThemeProperty("icon-arrow-"+c.next+"-selected"))}),this.addHandler(this._rightButton,"mouseup",function(){b.disabled||b._rightArrow.removeClass(b.toThemeProperty("icon-arrow-"+c.next+"-selected"))}),this._leftButton.hover(function(){b.disabled||b._leftArrow.addClass(b.toThemeProperty("icon-arrow-"+c.prev+"-hover"))},function(){b.disabled||b._leftArrow.removeClass(b.toThemeProperty("icon-arrow-"+c.prev+"-hover"))}),this._rightButton.hover(function(){b.disabled||b._rightArrow.addClass(b.toThemeProperty("icon-arrow-"+c.next+"-hover"))},function(){b.disabled||b._rightArrow.removeClass(b.toThemeProperty("icon-arrow-"+c.next+"-hover"))})},_layoutButtons:function(){"horizontal"===this.orientation?this._horizontalButtonsLayout():this._verticalButtonsLayout()},_horizontalButtonsLayout:function(){var a=2+Math.ceil(this.sliderButtonSize/2);"left"==this.buttonsPosition?(this._leftButton.css("margin-right","0px"),this._rightButton.css("margin-right",a)):"right"==this.buttonsPosition?(this._leftButton.css("margin-left",2+a),this._rightButton.css("margin-right","0px")):(this._leftButton.css("margin-right",a),this._rightButton.css("margin-left",2+a))},_verticalButtonsLayout:function(){var a=2+Math.ceil(this.sliderButtonSize/2);"left"==this.buttonsPosition?(this._leftButton.css("margin-bottom","0px"),this._rightButton.css("margin-bottom",a)):"right"==this.buttonsPosition?(this._leftButton.css("margin-top",2+a),this._rightButton.css("margin-bottom","0px")):(this._leftButton.css("margin-bottom",a),this._rightButton.css("margin-top",2+a))},_orderButtons:function(){switch(this._rightButton.detach(),this._leftButton.detach(),this.buttonsPosition){case"left":this.host.prepend(this._rightButton),this.host.prepend(this._leftButton);break;case"right":this.host.append(this._leftButton),this.host.append(this._rightButton);break;case"both":this.host.prepend(this._leftButton),this.host.append(this._rightButton)}},_performRangeBarLayout:function(){this._rangeBar[this._getDimention("oSize")](this._track[this._getDimention("oSize")]()),this._rangeBar[this._getDimention("size")](this._track[this._getDimention("size")]()),this._rangeBar.css("position","absolute"),this._rangeBar.css("left",0),this._rangeBar.css("top",0)},_centerElement:function(b){var c=(a(b.parent())[this._getDimention("oSize")]()-b[this._getDimention("outerOSize")]())/2;return b.css("margin-"+[this._getDimention("dimention")],0),b.css("margin-"+[this._getDimention("oDimention")],c),b},_raiseEvent:function(b,c){var d=a.Event(this._events[b]);return d.args=c,1===b&&(d.args.cancel=!1,this._slideEvent=d),this._lastValue[b]=c.value,this.host.trigger(d)},_initialSettings:function(){this.rangeSlider?"number"!=typeof this.value?this.setValue(this.value):this.setValue(this.values):this.setValue(this.value),this.disabled&&this.disable(),this.element.tabIndex=0,this.host.find("DIV").css("tab-index",0)},_addEventHandlers:function(){var b=this;if(this.addHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag,{self:this}),this.addHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag,{self:this}),this.addHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(){b._stopDrag(b)}),(""!=document.referrer||window.frameElement)&&null!=window.top){var c=function(){b._stopDrag(b)};window.parent&&document.referrer&&(parentLocation=document.referrer),-1!=parentLocation.indexOf(document.location.host)&&window.top.document&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",c,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",c))}this.addHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"),this._performDrag,{self:this});var d=this;this.addHandler(this._slider.left,"mouseenter",function(){d.disabled||b._slider.left.addClass(b.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.right,"mouseenter",function(){d.disabled||b._slider.right.addClass(b.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.left,"mouseleave",function(){d.disabled||b._slider.left.removeClass(b.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.right,"mouseleave",function(){d.disabled||b._slider.right.removeClass(b.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this._slider.left,"mousedown",function(){d.disabled||b._slider.left.addClass(b.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._slider.right,"mousedown",function(){d.disabled||b._slider.right.addClass(b.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._slider.left,"mouseup",function(){d.disabled||b._slider.left.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._slider.right,"mouseup",function(){d.disabled||b._slider.right.removeClass(b.toThemeProperty("jqx-fill-state-pressed"))}),this.addHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler,{self:this}),this.addHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler,{self:this}),this.addHandler(this._track,this._getEvent("mousedown"),this._trackMouseDownHandler,{self:this}),this.element.onselectstart=function(){return!1},this._addMouseWheelListeners(),this._addKeyboardListeners()},_addMouseWheelListeners:function(){var a=this;this.addHandler(this.host,"mousewheel",function(b){var c=b.wheelDelta;b.originalEvent&&b.originalEvent.wheelDelta&&(b.wheelDelta=b.originalEvent.wheelDelta),"wheelDelta"in b||(c=-40*b.detail),c>0?a.incrementValue():a.decrementValue(),b.preventDefault()})},_addKeyboardListeners:function(){var a=this;this.addHandler(this.host,"keydown",function(b){switch(b.keyCode){case 40:case 37:return a.decrementValue(),!1;case 38:case 39:return a.incrementValue(),!1;case 36:return a.rangeSlider?a.setValue([a.values[0],a.max]):a.setValue(a.min),!1;case 35:return a.rangeSlider?a.setValue([a.min,a.values[1]]):a.setValue(a.max),!1}})},_trackMouseDownHandler:function(b){var c=a.jqx.mobile.getTouches(b),d=c[0],e=b.data.self,b=e._isTouchDevice?d:b,f=(e._track.offset()[e._getDimention("dimention")],b[e._getDimention("page")]-e._slider.left[e._getDimention("size")]()/2),g=e._getClosest(f);parseInt(e._track[e._getDimention("size")]());var h=e._getValueByPosition(f);e._setValue(h,g),b.target=g,e._startDrag(b)},_getClosest:function(a){return this.rangeSlider?(a=a-this._track.offset()[this._getDimention("dimention")]-this._slider.left[this._getDimention("size")]()/2,Math.abs(parseInt(this._slider.left.css(this._getDimention("dimention")),10)-a)<Math.abs(parseInt(this._slider.right.css(this._getDimention("dimention")),10)-a)?this._slider.left:this._slider.right):this._slider.right},_removeEventHandlers:function(){this.removeHandler(this._slider.right,this._getEvent("mousedown"),this._startDrag),this.removeHandler(this._slider.left,this._getEvent("mousedown"),this._startDrag),this.removeHandler(a(document),this._getEvent("mouseup")+"."+this.host.attr("id"),this._stopDrag),this.removeHandler(a(document),this._getEvent("mousemove")+"."+this.host.attr("id"),this._performDrag),this.removeHandler(this._leftButton,this._getEvent("click"),this._leftButtonHandler),this.removeHandler(this._rightButton,this._getEvent("click"),this._rightButtonHandler),this.removeHandler(this._track,this._getEvent("mousedown"),this._trackMouseDownHandler),this.element.onselectstart=null,this.removeHandler(this.host,this._getEvent("mousewheel")),this.removeHandler(this.host,this._getEvent("keydown"))},_rightButtonHandler:function(a){var b=a.data.self;"horizontal"==b.orientation?b.incrementValue():b.decrementValue()},_leftButtonHandler:function(a){var b=a.data.self;"horizontal"==b.orientation?b.decrementValue():b.incrementValue()},_startDrag:function(b){var c=a.jqx.mobile.getTouches(b),d=c[0],e=b.data.self;return e._capturedElement=a(b.target),e._startX=a(b.target).offset().left,e._startY=a(b.target).offset().top,e._mouseStartX=e._isTouchDevice?d.pageX:b.pageX,e._mouseStartY=e._isTouchDevice?d.pageY:b.pageY,!1},_stopDrag:function(a){a._slideStarted&&a._raiseEvent(2,{value:a.getValue()}),a._slider.left.removeClass(a.toThemeProperty("jqx-fill-state-pressed")),a._slider.right.removeClass(a.toThemeProperty("jqx-fill-state-pressed")),a._slideStarted=!1,a._capturedElement=null},_performDrag:function(b){var c=a.jqx.mobile.getTouches(b),d=c[0],e=b.data.self,b=e._isTouchDevice?d:b;if(null!==e._capturedElement){if(0===b.which&&a.jqx.browser.msie&&a.jqx.browser.version<9)return e._stopDrag(e),!1;if(e._isDragged(b[e._getDimention("page")]),e._slideStarted)return e._dragHandler(b[e._getDimention("page")]);this._isTouchDevice&&(b.preventManipulation&&b.preventManipulation(),b.preventDefault&&b.preventDefault())}},_isDragged:function(a){Math.abs(a-this[this._getDimention("mouse")])>2&&!this._slideStarted?(this._slideStarted=!0,this._valueChanged(3)&&this._raiseEvent(3,{value:this.getValue()})):null===this._capturedElement&&(this._slideStarted=!1)},_dragHandler:function(a){a=a-this[this._getDimention("mouse")]+this[this._getDimention("start")];var b=this._getValueByPosition(a);if(this.rangeSlider){var c=this._slider.right,d=this._slider.left,e=this._getDimention("dimention");this._capturedElement[0]===d[0]?parseFloat(a)>c.offset()[e]&&(a=c.offset()[e]):parseFloat(a)<d.offset()[e]&&(a=d.offset()[e])}return this._setValue(b,this._capturedElement,a),!1},_getValueByPosition:function(a){return"default"===this.mode?this._getFloatingValueByPosition(a):this._getFixedValueByPosition(a)},_getFloatingValueByPosition:function(a){var b=a-this._track.offset()[this._getDimention("dimention")]+this._slider.left.width()/2,c=b/this._track[this._getDimention("size")](),d=(this.max-this.min)*c+this.min;return"horizontal"===this.orientation?d:this.max+this.min-d},_getFixedValueByPosition:function(a){for(var b=this.step,c=(this.max-this.min)/b,d=this._track[this._getDimention("size")]()/c,e=this._track.offset()[this._getDimention("dimention")]-this._slider.left[this._getDimention("size")]()/2,f={number:-1,distance:Number.MAX_VALUE},g=this.min;g<=this.max+this.step;g+=this.step)Math.abs(f.distance-a)>Math.abs(e-a)&&(f.distance=e,f.number=g),e+=d;return"horizontal"===this.orientation?f.number:this.max+this.min-f.number},_setValue:function(a,b,c){this._slideEvent&&this._slideEvent.args.cancel||(a=this._handleValue(a,b),this._setSliderPosition(a,b,c),this._fixZIndexes(),this._valueChanged(1)&&this._raiseEvent(1,{value:this.getValue()}),this._valueChanged(0)&&this._raiseEvent(0,{value:this.getValue()}),this.tooltip&&b.attr("title",a),this.input&&(this.rangeSlider?this.values&&this.input.val(this.value.rangeStart.toString()+"-"+this.value.rangeEnd.toString()):this.input.val(this.value.toString())))},_valueChanged:function(a){var b=this.getValue();return!this.rangeSlider&&this._lastValue[a]!==b||this.rangeSlider&&("object"!=typeof this._lastValue[a]||Math.round(this._lastValue[a].rangeEnd)!==Math.round(b.rangeEnd)||Math.round(this._lastValue[a].rangeStart)!==Math.round(b.rangeStart))},_handleValue:function(a,b){return a=this._validateValue(a,b),b[0]===this._slider.left[0]&&(this.values[0]=a),b[0]===this._slider.right[0]&&(this.values[1]=a),this.value=this.rangeSlider?{rangeStart:this.values[0],rangeEnd:this.values[1]}:a,a},_fixZIndexes:function(){this.values[1]-this.values[0]<.5&&this.max-this.values[0]<.5?(this._slider.left.css("z-index",20),this._slider.right.css("z-index",15)):(this._slider.left.css("z-index",15),this._slider.right.css("z-index",20))},_refreshRangeBar:function(){var a=this._slider.left.position()[this._getDimention("dimention")];"vertical"===this.orientation&&(a=this._slider.right.position()[this._getDimention("dimention")]),this._rangeBar.css(this._getDimention("dimention"),a+this._slider.left[this._getDimention("size")]()/2),this._rangeBar[this._getDimention("size")](Math.abs(this._slider.right.position()[this._getDimention("dimention")]-this._slider.left.position()[this._getDimention("dimention")]))},_validateValue:function(a,b){return a>this.max&&(a=this.max),a<this.min&&(a=this.min),b[0]===this._slider.left[0]?a>=this.values[1]&&(a=this.values[1]):a<=this.values[0]&&(a=this.values[0]),a},_setSliderPosition:function(a,b,c){var d,e,f=this._track[this._getDimention("size")]();c&&(c-=this._track.offset()[this._getDimention("dimention")]),d="horizontal"===this.orientation?(a-this.min)/(this.max-this.min):1-(a-this.min)/(this.max-this.min),e="undefined"==typeof c||"default"!==this.mode?f*d-this._slider.left[this._getDimention("size")]()/2:c,e=this._validateDropPosition(e,b),b.css(this._getDimention("dimention"),e),this._refreshRangeBar()},_validateDropPosition:function(a,b){var c=this._track[this._getDimention("size")](),d=b[this._getDimention("size")]();return-d/2>a&&(a=-d/2),a>c-d/2&&(a=c-d/2),Math.floor(a)},_addDisabledClasses:function(){this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))},_removeDisabledClasses:function(){this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},propertyChangedHandler:function(b,c,d,e){switch(c){case"theme":a.jqx.utilities.setTheme(d,e,b.host),b._leftButton.jqxRepeatButton({theme:e}),b._rightButton.jqxRepeatButton({theme:e});break;case"disabled":e?(b.disabled=!0,b.disable()):(b.disabled=!1,b.enable());break;case"width":b.width=parseInt(e),b._performLayout(),b._initialSettings();break;case"height":b.height=parseInt(e),b._performLayout(),b._initialSettings();break;case"min":b.min=parseFloat(e),b.rangeSlider||b._setValue(e,b._slider.left),b._initialSettings();break;case"step":break;case"max":b.max=parseFloat(e),b.rangeSlider||b._setValue(e,b._slider.left),b._initialSettings();break;case"showTicks":case"ticksPosition":case"ticksFrequency":case"tickSize":b._performLayout(),b._initialSettings();break;case"showRange":case"showButtons":case"orientation":b._render(),b._performLayout(),b._initialSettings();break;case"buttonsPosition":b._refresh();break;case"mode":break;case"rangeSlider":b.value=e?{rangeEnd:b.value,rangeStart:b.value}:b.value.rangeEnd,b._render(),b._performLayout(),b._initialSettings();break;case"value":b.rangeSlider||(b.value=parseFloat(e)),b.setValue(e);break;case"values":b.setValue(e);break;case"tooltip":e||(b._slider.left.removeAttr("title"),b._slider.right.removeAttr("title"));break;default:b._refresh()}},incrementValue:function(a){(void 0==a||isNaN(parseFloat(a)))&&(a=this.step),this.rangeSlider?this.values[1]<this.max&&this._setValue(this.values[1]+a,this._slider.right):this.values[1]>=this.min&&this.values[1]<this.max&&this._setValue(this.values[1]+a,this._slider.right)},decrementValue:function(a){(void 0==a||isNaN(parseFloat(a)))&&(a=this.step),this.rangeSlider?this.values[0]>this.min&&this._setValue(this.values[0]-a,this._slider.left):this.values[1]<=this.max&&this.values[1]>this.min&&this._setValue(this.values[1]-a,this._slider.right)},setValue:function(a){if(this.rangeSlider){var b,c;arguments.length<2?a instanceof Array?(b=a[0],c=a[1]):"object"==typeof a&&"undefined"!=typeof a.rangeStart&&"undefined"!=typeof a.rangeEnd&&(b=a.rangeStart,c=a.rangeEnd):(b=arguments[0],c=arguments[1]),this._setValue(c,this._slider.right),this._setValue(b,this._slider.left)}else this._setValue(this.min,this._slider.left),this._setValue(a,this._slider.right)},getValue:function(){return this.value},disable:function(){this._removeEventHandlers(),this.disabled=!0,this._addDisabledClasses(),this._leftButton.jqxRepeatButton({disabled:this.disabled}),this._rightButton.jqxRepeatButton({disabled:this.disabled})},enable:function(){this._addEventHandlers(),this.disabled=!1,this._removeDisabledClasses(),this._leftButton.jqxRepeatButton({disabled:this.disabled}),this._rightButton.jqxRepeatButton({disabled:this.disabled})}})}(jQuery),function(a){a.jqx.jqxWidget("jqxProgressBar","",{}),a.extend(a.jqx._jqxProgressBar.prototype,{defineInstance:function(){this.value=0,this.oldValue=null,this.max=100,this.min=0,this.orientation="horizontal",this.width=null,this.height=null,this.showText=!1,this.animationDuration=300,this.disabled=!1,this.events=["valuechanged","invalidvalue","complete"]},createInstance:function(){var b=this;this.host.addClass(this.toThemeProperty("jqx-progressbar")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height),this.valueDiv=a("<div></div>").appendTo(this.element),"horizontal"==this.orientation?(this.valueDiv.width(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value"))):(this.valueDiv.height(0),this.valueDiv.addClass(this.toThemeProperty("jqx-progressbar-value-vertical"))),this.valueDiv.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.feedbackElementHost=a("<div style='width: 100%; height: 100%; position: relative;'></div>").appendTo(this.host),this.feedbackElement=a("<span class='text'></span>").appendTo(this.feedbackElementHost),this.feedbackElement.addClass(this.toThemeProperty("jqx-progressbar-text")),this.oldValue=this._value(),this.refresh(),a(window).resize(function(){b.refresh()})},destroy:function(){this.host.removeClass(),this.valueDiv.removeClass(),this.valueDiv.remove(),this.feedbackElement.remove()},_raiseevent:function(a,b,c){if(void 0!=this.isInitialized&&1==this.isInitialized){var d=this.events[a],e=new jQuery.Event(d);e.previousValue=b,e.currentValue=c,e.owner=this;var f=this.host.trigger(e);return f}},actualValue:function(b){return void 0===b?this._value():(a.jqx.setvalueraiseevent(this,"value",b),this._value())},propertyChangedHandler:function(b,c,d,e){if(this.isInitialized){var f=this;"min"==c&&b.value<e?b.value=e:"max"==c&&b.value>e&&(b.value=e),"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host),"value"===c&&void 0!=f.value&&(f.value=e,f.oldValue=d,(e<f.min||e>f.max)&&f._raiseevent(1,d,e),f.refresh(),f._value()===f.max&&f._raiseevent(2,d,e)),"renderText"==c||"orientation"==c||"showText"==c||"min"==c||"max"==c?f.refresh():"width"==c&&void 0!=f.width?void 0==f.width||isNaN(f.width)||(f.host.width(f.width),f.refresh()):"height"==c&&void 0!=f.height&&(void 0==f.height||isNaN(f.height)||(f.host.height(f.height),f.refresh())),"disabled"==c&&f.refresh()}},_value:function(){var a=this.value;if("number"!=typeof a){var b=parseInt(a);a=isNaN(b)?0:b}return Math.min(this.max,Math.max(this.min,a))},_percentage:function(){return 100*this._value()/this.max},_textwidth:function(b){var c=a("<span>"+b+"</span>");a(this.host).append(c);var d=c.width();return c.remove(),d},_textheight:function(b){var c=a("<span>"+b+"</span>");a(this.host).append(c);var d=c.height();return c.remove(),d},refresh:function(){var b=this.actualValue(),c=this._percentage();if(this.disabled)return this.host.addClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),void 0;if(this.host.removeClass(this.toThemeProperty("jqx-progressbar-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),a(this.element.children[0]).show(),!isNaN(b)&&!isNaN(c)){this.oldValue!==b&&(this._raiseevent(0,this.oldValue,b),this.oldValue=b);var d=this.host.outerHeight(),e=this.host.outerWidth();null!=this.width&&(e=parseInt(this.width)),null!=this.height&&(d=parseInt(this.height));var f=parseInt(this.host.outerWidth())/2;parseInt(this.host.outerHeight())/2,isNaN(c)&&(c=0);var g=this;try{var h=this.element.children[0];"horizontal"==this.orientation?(a(h).toggle(b>=this.min),a(h).animate({width:c.toFixed(0)+"%"},this.animationDuration,function(){}),this.feedbackElementHost.css("margin-top",-this.host.height())):(a(h).toggle(b>=this.min),this.feedbackElementHost.animate({"margin-top":-(c.toFixed(0)*g.host.height())/100},this.animationDuration,function(){}),a(h).animate({height:c.toFixed(0)+"%"},this.animationDuration,function(){c.toFixed(0)==g.min&&a(h).hide()}))}catch(i){}this.feedbackElement.html(c.toFixed(0)+"%").toggle(1==this.showText),this.renderText&&this.feedbackElement.html(this.renderText(c.toFixed(0)+"%")),this.feedbackElement.css("position","absolute"),this.feedbackElement.css("top","50%"),this.feedbackElement.css("left","0");var j=this.feedbackElement.height(),k=this.feedbackElement.width(),l=Math.floor(f-parseInt(k)/2);this.feedbackElement.css({left:l,"margin-top":-parseInt(j)/2+"px"})}}})}(jQuery),function(a){a.jqx.jqxWidget("jqxNumberInput","",{}),a.jqx.textInput={},a.extend(a.jqx.textInput,{addHandler:function(b){a(b).data("lastValue",a(b).val()),a(b).bind("keyup.textchange",a.jqx.textInput.handler),a(b).bind("cut.textchange paste.textchange input.textchange",a.jqx.textInput.delayedHandler)},removeHandler:function(b){a(b).unbind(".textchange")},handler:function(){a.jqx.textInput.triggerIfChanged(a(this))},delayedHandler:function(){var b=a(this);setTimeout(function(){a.jqx.textInput.triggerIfChanged(b)},25)},triggerIfChanged:function(a){var b=a.val(),c=a.data("lastValue");if(b!==a.data("lastValue")){a.trigger("textchange",[a.data("lastValue")]);var d=!1;""===a.val()&&a.val()!=c?(d=!0,a.data("emptyValue",!0)):(d=!1,a.data("emptyValue",!1)),a.trigger("showPlaceHolder",d),a.data("lastValue",b)}}}),a.extend(a.jqx._jqxNumberInput.prototype,{defineInstance:function(){this.value=null,this.decimal=0,this.min=-99999999,this.max=99999999,this.width=null,this.validationMessage="Invalid value",this.height=50,this.textAlign="right",this.readOnly=!1,this.promptChar="_",this.decimalDigits=2,this.decimalSeparator=".",this.groupSeparator=",",this.groupSize=3,this.symbol="",this.symbolPosition="left",this.digits=8,this.negative=!1,this.negativeSymbol="-",this.disabled=!1,this.inputMode="advanced",this.spinButtons=!1,this.spinButtonsWidth=18,this.spinButtonsStep=1,this.autoValidate=!0,this.spinMode="advanced",this.events=["valuechanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],this.invalidArgumentExceptions=["invalid argument exception"]},createInstance:function(){this.render()},render:function(){this.host.attr({role:"numberInput"}),(this.officeMode||this.theme&&-1!=this.theme.indexOf("office"))&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),a.jqx.mobile.isTouchDevice()&&(this.inputMode="simple",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.spinButtons?this._spinButtons():(this.numberInput=a("<input autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content")));var b=this.host.attr("name");if(b||(b=this.element.id),this.numberInput.attr("name",b),a.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode){var c=this;this.numberInput.bind("change",function(){c.parsing||(c.parsing=!0),c.parsing&&(c.numberInput.val()&&0==c.numberInput.val().indexOf("-")?c.setvalue("negative",!0):c.setvalue("negative",!1),c.ValueString=c.GetValueString(c.numberInput.val(),c.decimalSeparator,""!=c.decimalSeparator),c.ValueString=new Number(c.ValueString).toFixed(c.decimalDigits),c._parseDecimalInSimpleMode(),c.decimal=c.ValueString,c.parsing=!1)})}var d=a.data(this.host[0],"jqxNumberInput");d.jqxNumberInput=this;var c=this;this.addHandler(this.host,"loadContent",function(){c._render()}),this.host.parents("form").length>0&&this.host.parents("form").bind("reset",function(){setTimeout(function(){c.setDecimal(0)},10)}),this.propertyChangeMap.disabled=function(a,b,c,d){d?(a.numberInput.addClass(e.toThemeProperty("jqx-input-disabled")),a.numberInput.attr("disabled",!0)):(a.host.removeClass(e.toThemeProperty("jqx-input-disabled")),a.numberInput.attr("disabled",!1)),a.spinButtons&&a.host.jqxRepeatButton&&(a.upbutton.jqxRepeatButton({disabled:d}),a.downbutton.jqxRepeatButton({disabled:d}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1,this.element.id,this.element;var e=this;this.oldValue=this._value(),this.items=new Array,this.value;var f=this.decimal;this._initializeLiterals(),this._render(),this.setDecimal(f);var c=this;setTimeout(function(){c._render(!1)},100),this._addHandlers()},refresh:function(a){a||this._render()},wheel:function(a,b){var c=0;if(a||(a=window.event),a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta),a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3),c){var d=b._handleDelta(c);return a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation(),d?(d=!1,a.returnValue=d,d):!1}a.preventDefault&&a.preventDefault(),a.returnValue=!1},_handleDelta:function(a){return 0>a?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var b=this;this.addHandler(this.numberInput,"mousedown",function(a){return b._raiseEvent(2,a)}),this._mousewheelfunc=this._mousewheelfunc||function(a){return b.editcell?void 0:(b.wheel(a,b),!1)},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var c=a.jqx.mobile.isOperaMiniMobileBrowser();if(c){this.inputMode="simple";var d=a.jqx.mobile.isOperaMiniBrowser();d&&b.numberInput.attr("readonly",!0),this.addHandler(a(document),"click."+this.element.id,b._exitSimpleInputMode,b)}var e="";this.addHandler(this.numberInput,"focus",function(){"simple"==b.inputMode,a.data(b.numberInput,"selectionstart",b._selection().start),b.host.addClass(b.toThemeProperty("jqx-fill-state-focus")),b.spincontainer&&b.spincontainer.addClass(b.toThemeProperty("jqx-numberinput-focus")),e=b.numberInput.val()}),this.addHandler(this.numberInput,"blur",function(a){if("simple"==b.inputMode&&b._exitSimpleInputMode(a,b,!1),b.autoValidate){var c=b.getDecimal();c>b.max&&b.setDecimal(b.max),c<b.min&&b.setDecimal(b.min)}return b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus")),b.spincontainer&&b.spincontainer.removeClass(b.toThemeProperty("jqx-numberinput-focus")),b.numberInput.val()!=e&&b._raiseEvent(7,a),!0}),this.addHandler(this.numberInput,"mouseup",function(a){return b._raiseEvent(3,a)}),this.addHandler(this.numberInput,"keydown",function(a){return b._raiseEvent(4,a)}),this.addHandler(this.numberInput,"keyup",function(a){return b._raiseEvent(5,a)}),this.addHandler(this.numberInput,"keypress",function(a){return b._raiseEvent(6,a)})},_removeHandlers:function(){var b=this;this.removeHandler(this.numberInput,"mousedown");var c=a.jqx.mobile.isOperaMiniMobileBrowser();c&&this.removeHandler(a(document),"click."+this.element.id,b._exitSimpleInputMode,b),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(this.host.jqxRepeatButton){this.numberInput?this.numberInput.css("float","left"):(this.numberInput=a("<input autocomplete='off' style='float: left;' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer=a('<div style="float: left; height: 100%; overflow: hidden; position: relative;"></div>'),this.host.append(this.spincontainer),this.upbutton=a('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=a('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"});var b=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",function(){b.disabled||(b.downbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._downArrow.removeClass(b.toThemeProperty("icon-arrow-down-selected")))}),this.addHandler(this.upbutton,"mouseup",function(){b.disabled||(b.upbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._upArrow.removeClass(b.toThemeProperty("icon-arrow-up-selected")))}),this.removeHandler(a(document),"mouseup."+this.element.id),this.addHandler(a(document),"mouseup."+this.element.id,function(){b.upbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._upArrow.removeClass(b.toThemeProperty("icon-arrow-up-selected")),b.downbutton.removeClass(b.toThemeProperty("jqx-fill-state-pressed")),b._downArrow.removeClass(b.toThemeProperty("icon-arrow-down-selected"))
}),this.addHandler(this.downbutton,"mousedown",function(c){return b.disabled?void 0:(a.jqx.browser.msie&&a.jqx.browser.version<9&&(b._inputSelection=b._selection()),b.downbutton.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b._downArrow.addClass(b.toThemeProperty("icon-arrow-down-selected")),c.preventDefault(),c.stopPropagation(),!1)}),this.addHandler(this.upbutton,"mousedown",function(c){return b.disabled?void 0:(a.jqx.browser.msie&&a.jqx.browser.version<9&&(b._inputSelection=b._selection()),b.upbutton.addClass(b.toThemeProperty("jqx-fill-state-pressed")),b._upArrow.addClass(b.toThemeProperty("icon-arrow-up-selected")),c.preventDefault(),c.stopPropagation(),!1)}),this.upbutton.hover(function(){b.disabled||b.upbutton.addClass(b.toThemeProperty("jqx-fill-state-hover"))},function(){b.upbutton.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._upArrow.removeClass(b.toThemeProperty("icon-arrow-up-hover"))}),this.downbutton.hover(function(){b.disabled||b.downbutton.addClass(b.toThemeProperty("jqx-fill-state-hover"))},function(){b.downbutton.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b._downArrow.removeClass(b.toThemeProperty("icon-arrow-down-hover"))}),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.spincontainer.css("border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"));var b=this;this._upArrow.hover(function(){b.disabled||b._upArrow.addClass(b.toThemeProperty("icon-arrow-up-hover"))},function(){b._upArrow.removeClass(b.toThemeProperty("icon-arrow-up-hover"))}),this._downArrow.hover(function(){b.disabled||b._downArrow.addClass(b.toThemeProperty("icon-arrow-down-hover"))},function(){b._downArrow.removeClass(b.toThemeProperty("icon-arrow-down-hover"))}),this.addHandler(this.downbutton,"click",function(){0==b._selection().start&&b._setSelectionStart(b.numberInput.val().length),a.jqx.browser.msie&&a.jqx.browser.version<9&&b._setSelectionStart(b._inputSelection.start),b.spinDown()}),this.addHandler(this.upbutton,"click",function(){0==b._selection().start&&b._setSelectionStart(b.numberInput.val().length),a.jqx.browser.msie&&a.jqx.browser.version<9&&b._setSelectionStart(b._inputSelection.start),b.spinUp()})}},spinDown:function(){var a=this;if("none"!=a.spinMode&&!a.disabled){var b=a.decimal,c=this._selection(),d=parseFloat(a.decimal);a.spinButtonsStep<0&&(a.spinButtonsStep=1);var e=parseInt(a.decimal)+a.spinButtonsStep;e=e.toString().length;var f=e<=a.digits;if("advanced"!=a.spinMode){if(d>0&&d+a.spinButtonsStep<=a.max&&f){var g=1;for(l=0;l<a.decimalDigits;l++)g=10*g;var h=g*d-g*a.spinButtonsStep;h/=g,0>h&&(h=0),h=this._parseDecimalValueToEditorValue(h),a._setDecimal(h)}}else{var i=this._getspindecimal();this._getSeparatorPosition();var d=parseFloat(i.decimal);a.spinButtonsStep<0&&(a.spinButtonsStep=1);var e=parseInt(d)+a.spinButtonsStep;e=e.toString().length;var f=e<=a.digits,g=1,j=i.decimal.indexOf(".");if(-1!=j){for(var k=i.decimal.length-j-1,g=1,l=0;k>l;l++)g=10*g;d-=new Number(a.spinButtonsStep/g),0>d&&(d=0),d=d.toFixed(k);var j=d.toString().indexOf(".");-1==j&&(d=d.toString()+".");var m=d.toString()+i.afterdecimal;m=new Number(m),m=m.toFixed(a.decimalDigits),m>=a.min&&(m=this._parseDecimalValueToEditorValue(m),a._setDecimal(m))}else if(d>0&&d-a.spinButtonsStep<=a.max&&f){var h=g*d-g*a.spinButtonsStep;h/=g;var m=h.toString()+i.afterdecimal;0>m&&(m=0),m>=a.min&&(m=this._parseDecimalValueToEditorValue(m),a._setDecimal(m))}}if(void 0==m||"simple"!=this.inputMode)return this._setSelectionStart(c.start),void 0;void 0==m||void 0!=b&&b.toString().length!=m.length?this._setSelectionStart(c.start-1):this._setSelectionStart(c.start)}},_getspindecimal:function(){var a=this._selection(),b="";this._getSeparatorPosition();var c=this._getVisibleItems(),d=this._getHiddenPrefixCount(),e=this.numberInput.val();this.numberInput.val().length==a.start&&0==a.length&&(this._setSelection(a.start,a.start+1),a=this._selection());var f="advanced"!=this.inputMode;for(i=0;i<a.start;i++)if(f){var g=e.substring(i,i+1),h=!isNaN(parseInt(g));h&&(b+=g),g==this.decimalSeparator&&(b+=g)}else c[i].canEdit&&c[i].character!=this.promptChar?b+=c[i].character:c[i].canEdit||-1==this.decimalSeparatorPosition||c[i]!=c[this.decimalSeparatorPosition-d]||(0==b.length&&(b="0"),b+=c[i].character);var j="";for(i=a.start;i<c.length;i++)if(f){var g=e.substring(i,i+1),h=!isNaN(parseInt(g));h&&(j+=g),g==this.decimalSeparator&&(j+=g)}else c[i].canEdit&&c[i].character!=this.promptChar?j+=c[i].character:c[i].canEdit||-1==this.decimalSeparatorPosition||c[i]!=c[this.decimalSeparatorPosition-d]||(j+=c[i].character);return{decimal:this._parseDecimalValue(b),afterdecimal:this._parseDecimalValue(j)}},_parseDecimalValue:function(a){if("."!=this.decimalSeparator){var b=a.toString().indexOf(this.decimalSeparator);if(b>=0){var c=a.toString().substring(0,b)+"."+a.toString().substring(b+1);return c}}return a},_parseDecimalValueToEditorValue:function(a){if("."!=this.decimalSeparator){var b=a.toString().indexOf(".");if(b>=0){var c=a.toString().substring(0,b)+this.decimalSeparator+a.toString().substring(b+1);return c}}return a},spinUp:function(){var a=this;if("none"!=a.spinMode&&!a.disabled){var b=this._selection(),c=a.decimal,d=parseFloat(a.decimal);a.spinButtonsStep<0&&(a.spinButtonsStep=1);var e=parseInt(a.decimal)+a.spinButtonsStep;e=e.toString().length;var f=e<=a.digits;if("advanced"!=a.spinMode){if(d+a.spinButtonsStep<=a.max&&f){var g=1;for(i=0;i<a.decimalDigits;i++)g=10*g;var h=g*d+g*a.spinButtonsStep;h/=g,h=this._parseDecimalValueToEditorValue(h),a._setDecimal(h)}}else{var j=this._getspindecimal();this._getSeparatorPosition();var d=parseFloat(j.decimal);a.spinButtonsStep<0&&(a.spinButtonsStep=1);var e=parseInt(d)+a.spinButtonsStep;e=e.toString().length;var f=e<=a.digits,g=1,k=j.decimal.indexOf(".");if(-1!=k){var l=j.decimal.length-k-1,g=1;for(i=0;l>i;i++)g=10*g;d+=new Number(a.spinButtonsStep/g),d=d.toFixed(l);var k=d.toString().indexOf(".");-1==k&&(d=d.toString()+".");var m=d.toString()+j.afterdecimal;m=new Number(m),m=m.toFixed(a.decimalDigits);var n=new Number(m).toFixed(a.decimalDigits);n<=a.max?(m=this._parseDecimalValueToEditorValue(m),a._setDecimal(m)):m=void 0}else if(d+a.spinButtonsStep<=a.max&&f){var h=g*d+g*a.spinButtonsStep;h/=g;var m=h.toString()+j.afterdecimal,n=new Number(m).toFixed(a.decimalDigits);n<=a.max?(m=this._parseDecimalValueToEditorValue(m),a._setDecimal(m)):m=void 0}}if(void 0==m||"simple"!=this.inputMode)return this._setSelectionStart(b.start),void 0;void 0==m||void 0!=c&&c.toString().length!=m.length?this._setSelectionStart(1+b.start):this._setSelectionStart(b.start)}},_exitSimpleInputMode:function(b,c,d){if(void 0==c&&(c=b.data),null!=c){if(void 0==d){if(null!=b.target&&null!=c.element&&(void 0!=b.target.id&&b.target.id.toString().length>0&&c.host.find("#"+b.target.id).length>0||b.target==c.element))return;var e=c.host.offset(),f=e.left,g=e.top,h=c.host.width(),i=c.host.height(),j=a(b.target).offset();if(j.left>=f&&j.left<=f+h&&j.top>=g&&j.top<=g+i)return}if(a.jqx.mobile.isOperaMiniBrowser()&&c.numberInput.attr("readonly",!0),!c.disabled&&!c.readOnly){var k=a.data(c.numberInput,"simpleInputMode");if(null!=k)return a.data(c.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}}},_parseDecimalInSimpleMode:function(){var a=this,b=a.getvalue("negative"),c=this.ValueString;if(void 0==c&&(c=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var d=c.toString().indexOf(".");if(d>0){var e=c.toString().substring(0,d),f=e+this.decimalSeparator+c.toString().substring(d+1);c=f}}var g=b?"-":"";"left"==this.symbolPosition&&(g+=this.symbol);var h=this.digits%this.groupSize;0==h&&(h=this.groupSize);var i=c.toString();g+=i,"right"==this.symbolPosition&&(g+=this.symbol),a.numberInput.val(g)},_enterSimpleInputMode:function(b,c){void 0==c&&(c=b.data);var d=this._selection();if(null!=c){var e=c.getvalue("negative"),f=c.decimal;e&&f>0&&(f=-f),c.numberInput.val(f),a.data(c.numberInput,"simpleInputMode",!0),a.jqx.mobile.isOperaMiniBrowser()&&c.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(d.start)}},setvalue:function(a,b){void 0!=this[a]&&("decimal"==a?this._setDecimal(b):(this[a]=b,this.propertyChangedHandler(this,a,b,b)))},getvalue:function(a){return"decimal"==a&&void 0!=this.negative&&1==this.negative?-Math.abs(this[a]):a in this?this[a]:null},_getString:function(){var a="";for(i=0;i<this.items.length;i++){var b=this.items[i].character;a+=b}return a},_literal:function(a,b,c,d){return{character:a,regex:b,canEdit:c,isSeparator:d}},_initializeLiterals:function(){if("textbox"!=this.inputMode){var a=0,b=this.negativeSymbol.length;for(i=0;b>i;i++){var c=this.negativeSymbol.substring(i,i+1),d="",e=!1,f=null;f=this.negative?this._literal(c,d,e,!1):this._literal("",d,e,!1),this.items[a]=f,a++}var g=this.symbol.length;if("left"==this.symbolPosition)for(i=0;g>i;i++){var c=this.symbol.substring(i,i+1),d="",e=!1,f=this._literal(c,d,e,!1);this.items[a]=f,a++}var h=this.digits%this.groupSize;for(0==h&&(h=this.groupSize),i=0;i<this.digits;i++){var c=this.promptChar,d="\\d",e=!0,f=this._literal(c,d,e,!1);if(this.items[a]=f,a++,i<this.digits-1&&void 0!=this.groupSeparator&&this.groupSeparator.length>0){if(h--,0==h){h=this.groupSize;var j=this._literal(this.groupSeparator,"",!1,!1);this.items[a]=j,a++}}else i==this.digits-1&&(f.character=0)}if(this.decimalSeparatorPosition=-1,void 0!=this.decimalDigits&&this.decimalDigits>0){var c=this.decimalSeparator;0==c.length&&(c=".");var f=this._literal(c,"",!1,!0);for(this.items[a]=f,this.decimalSeparatorPosition=a,a++,i=0;i<this.decimalDigits;i++){var k=0,d="\\d",l=this._literal(k,d,!0,!1);this.items[a]=l,a++}}if("right"==this.symbolPosition)for(i=0;g>i;i++){var c=this.symbol.substring(i,i+1),d="",e=!1,f=this._literal(c,d,e);this.items[a]=f,a++}}},_match:function(a,b){var c=new RegExp(b,"i");return c.test(a)},_raiseEvent:function(b,c){var d=this.events[b],e={};if(e.owner=this,"none"==this.host.css("display"))return!0;var f=c.charCode?c.charCode:c.keyCode?c.keyCode:0,g=!0,h=this.readOnly,i=this;if((3==b||2==b)&&!this.disabled){if("simple"==this.inputMode)return!0;this._handleMouse(c)}if(0==b){var j=this.getvalue("decimal");this.max<j||this.min>j?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))}var k=new jQuery.Event(d);k.owner=this,e.value=this.getvalue("decimal"),e.text=this.numberInput.val(),k.args=e,g=this.host.trigger(k);var i=this;if("textbox"==this.inputMode)return g;if("simple"!=this.inputMode){if(4==b){if(h||this.disabled)return!1;g=i._handleKeyDown(c,f)}else if(5==b)(h||this.disabled)&&(g=!1);else if(6==b){if(h||this.disabled)return!1;g=i._handleKeyPress(c,f)}}else if(4==b||5==b||6==b){if(a.jqx.mobile.isTouchDevice())return!0;if(h||this.disabled)return!1;var l=String.fromCharCode(f);parseInt(l);var m=!0;if(c.ctrlKey||c.shiftKey||f>=65&&90>=f&&(m=!1),6==b&&void 0!=a.jqx.browser.opera&&8==f)return!1;if(m){if(4==b&&(m=i._handleSimpleKeyDown(c,f)),!a.jqx.browser.msie){var n=c;if(n.ctrlKey&&99==f||n.ctrlKey&&67==f||n.ctrlKey&&122==f||n.ctrlKey&&90==f||n.ctrlKey&&118==f||n.ctrlKey&&86==f||n.shiftKey&&45==f)return 6==b&&a.jqx.browser.webkit&&i._handleSimpleKeyDown(c,f),!1}if(c.ctrlKey&&97==f||c.ctrlKey&&65==f)return!0;if(6==b&&m){var o=this._isSpecialKey(f);return o}}return m}return g},GetSelectionInValue:function(a,b,c,d){var e=0;for(i=0;i<b.length&&!(i>=a);i++){var f=b.substring(i,i+1),g=!isNaN(parseInt(f));(g||d&&b.substring(i,i+1)==c)&&e++}return e},GetSelectionLengthInValue:function(a,b,c,d){var e=0;for(i=0;i<c.length&&!(i>=a+b);i++){var f=c.substring(i,i+1),g=!isNaN(parseInt(f));(b>0&&i>=a&&g||i>=a&&c[i].toString()==d)&&e++}return e},GetInsertTypeByPositionInValue:function(a,b,c,d){var e="before",f=this.GetValueString(c,b,d),g=this.GetDigitsToSeparator(0,f,b);return a>g&&(e="after"),e},RemoveRange:function(a,b,c,d,e,f){var g=this.digits,h=a,i=b,j=0;this.decimal,this._selection();var c=this.numberInput.val(),d=this.decimalSeparator,k=""!=d;if(0==i&&this.ValueString.length<this.decimalPossibleChars-1)return j;var l=this.GetSeparatorPositionInText(d,c);e||(l=this.GetSeparatorPositionInText(d,c)),0>l&&!k&&c.length>1&&(l=c.length),-1==l&&(l=c.length);var m=k?1:0;if(2>b&&1==f){var n=this.ValueString.length-this.decimalDigits-m;n==g&&l>a+b&&i++}for(var o="",p=0;p<c.length;p++)if(h>p||p>=h+i)o+=c.substring(p,p+1);else{var q=c.substring(p,p+1);if(q!=d){var q=c.substring(p,p+1);if(p>l)o+="0";else{var q=c.substring(p,p+1),r=!isNaN(parseInt(q));r&&j++}}else o+=d}0==o.length&&(o="0"),e?this.numberInput.val(o):this.ValueString=o;var s=o.substring(0,1);if(s==d&&isNaN(parseInt(s))){var t="0"+o;o=t}return this.ValueString=this.GetValueString(o,d,k),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(h),j},InsertDigit:function(a,b){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var c=1+this.digits,d=this._selection(),e=this.getvalue("negative"),f=!1;0==d.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(d.start+1),d=this._selection(),f=!0),(e&&f||e&&!f&&0==d.start)&&(this._setSelectionStart(d.start+1),d=this._selection());var g=this.numberInput.val().substring(d.start,d.start+1),h=this.numberInput.val(),i=this.decimalSeparator,j=""!=i&&this.decimalDigits>0;if(g==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(h,i,j),this.ValueString.length>=c)return}this.ValueString=this.GetValueString(h,i,j);var k=this.ValueString;this.decimalDigits>0&&b>=k.length&&(b=k.length-1);var l="";b<k.length&&(l=k.substring(b,b+1));var m=!1,n=this.GetInsertTypeByPositionInValue(b,i,h,j);"after"==n&&(m=!0);var o=j?1:0;l!=i&&this.ValueString.length-this.decimalDigits-o>=c-1&&(m=!0);var p=!1,q=j?1:0;if(!(!m&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+q)){if(m&&l!=i){p&&b++;var r=k.substring(0,b);if(r.length==k.length&&this.ValueString.length>=this.digits+this.decimalDigits+q)return;var s=a,t="";b+1<k.length&&(t=k.substring(b+1));var u=r+s+t;this.ValueString=u}else{var r=k.substring(0,b),s=a,t=k.substring(b),u=r+s+t;"0"==k.substring(0,1)&&(u=s+k.substring(1),l==i&&(this._setSelectionStart(d.start-1),d=this._selection())),this.ValueString=u}this.decimal=e?-this.ValueString:this.ValueString,this._parseDecimalInSimpleMode();var v=d.start;v+=1,this._setSelectionStart(v),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(a,b,c){var d="",e=this.GetSeparatorPositionInText(b,a),f=a.subString(0,e);return d=this.GetValueString(f,b,c)},GetSeparatorPositionInText:function(a,b){var c=-1;for(i=0;i<b.length;i++)if(b.substring(i,i+1)==a){c=i;break}return c},GetValueString:function(a,b){for(var c="",d=0;d<a.length;d++){var e=a.substring(d,d+1),f=!isNaN(parseInt(e));f&&(c+=e),e==b&&(c+=b)}return c},Backspace:function(){var a=this._selection(),b=this._selection(),c=this.numberInput.val();if(0!=a.start||0!=a.length){this.isBackSpace=!0;var d=c.substring[a.start,a.start+1];if(!isNaN(parseInt(d)),a.start>0&&0==a.length){this._setSelectionStart(a.start-1);var a=this._selection()}this.Delete(),this._setSelectionStart(b.start-1),this.isBackSpace=!1}},Delete:function(){var a=this._selection(),b=this.numberInput.val(),c=a.start,d=a.length;d=Math.max(d,1),this.ValueString=this.GetValueString(b,this.decimalSeparator,""!=this.decimalSeparator),this.RemoveRange(a.start,d,this.ValueString,".",!1);var e=this.ValueString.substring(0,1),f=!isNaN(parseInt(e));f||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(c),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(a){var b=this._selection(),c=this.numberInput.val();if(!(b.start==c.length&&this.decimalDigits>0)){this.decimal;var d=this.decimalSeparator;this.ValueString=this.GetValueString(c,d,""!=d);var e=this.GetSelectionInValue(b.start,c,d,""!=d),f=this.GetSelectionLengthInValue(b.start,b.length,c,d);this.GetDigitsToSeparator(0,this.ValueString,d),this.decimalDigits>0&&e>=this.ValueString.length&&e--,this.RemoveRange(b.start,f,this.ValueString,d,!1,!0),this.InsertDigit(a,e,b)}},GetDigitsToSeparator:function(a,b,c){if(void 0==c&&(c="."),b.indexOf(c)<0)return b.length;for(i=0;i<b.length;i++)if(b.substring(i,i+1)==c){a=i;break}return a},_handleSimpleKeyDown:function(b,c){var d=this._selection();if(d.start>=0&&d.start<this.items.length)var e=String.fromCharCode(c);if(8==c)return this.Backspace(),!1;if(190==c||110==c){var f=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val());return this._setSelectionStart(f+1),!1}if(188==c){var g=this.numberInput.val();for(j=d.start;j<g.length;j++)if(g[j]==this.groupSeparator){this._setSelectionStart(1+j);break}return!1}if(b.ctrlKey&&99==c||b.ctrlKey&&67==c){var d=this._selection(),h="",i=this.numberInput.val();if(d.start>0||d.length>0)for(var j=d.start;j<d.end;j++)h+=i.substring(j,j+1);return a.jqx.browser.msie&&window.clipboardData.setData("Text",h),this.savedText=h,!1}if(b.ctrlKey&&122==c||b.ctrlKey&&90==c)return!1;if(b.ctrlKey&&118==c||b.ctrlKey&&86==c||b.shiftKey&&45==c){if(null!=this.savedText&&this.savedText.length>0)for(var j=0;j<this.savedText.length;j++){var k=parseInt(this.savedText.substring(j,j+1));isNaN(k)||this.insertsimple(k)}return!1}var e=String.fromCharCode(c),k=parseInt(e);if(c>=96&&105>=c&&(k=c-96,c-=48),!isNaN(k))return this.insertsimple(k),!1;if(46==c)return this.Delete(),!1;if(189==c||45==c||109==c){var l=this.getvalue("negative");0==l?this.setvalue("negative",!0):this.setvalue("negative",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(d.start)}if(38==c)return this.spinUp(),!1;if(40==c)return this.spinDown(),!1;var m=this._isSpecialKey(c);return a.jqx.browser.mozilla?m:!0},_getEditRange:function(){var a=0,b=0;for(i=0;i<this.items.length;i++)if(this.items[i].canEdit){a=i;break}for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit){b=i;break}return{start:a,end:b}},_getVisibleItems:function(){var a=new Array,b=0;for(i=0;i<this.items.length;i++)this.items[i].character.toString().length>0&&(a[b]=this.items[i],b++);return a},_hasEmptyVisibleItems:function(){var a=this._getVisibleItems();for(i=0;i<a.length;i++)if(a[i].canEdit&&a[i].character==this.promptChar)return!0;return!1},_getFirstVisibleNonEmptyIndex:function(){var a=this._getVisibleItems();for(i=0;i<a.length;i++)if(a[i].canEdit&&a[i].character!=this.promptChar)return i},_handleMouse:function(){var a=this._selection();if(a.length<=1){var b=this._getFirstVisibleNonEmptyIndex();a.start<b&&this._setSelectionStart(b)}},_insertKey:function(b){this.numberInput[0].focus();var c=String.fromCharCode(b),d=parseInt(c);if(!isNaN(d)){var e=0;for(i=0;i<this.items.length;i++)0==this.items[i].character.length&&e++;var f=this._selection(),g=this;if(f.start>=0&&f.start<=this.items.length){var h=!1,k=this._getFirstVisibleNonEmptyIndex();f.start<k&&0==f.length&&(isNaN(c)&&" "!=c||(this._setSelectionStart(k),f=this._selection())),this._getFirstEditableItemIndex();var l=this._getLastEditableItemIndex(),m=this._getVisibleItems();a.each(m,function(a){if(!(f.start>a&&a!=m.length-1)){var b=m[a];if(a>l&&(b=m[l]),!isNaN(c)&&" "!=c&&b.canEdit){var d=g._getSeparatorPosition();if(g._match(c,b.regex)){if(!h&&f.length>0){for(j=f.start+e;j<f.end+e;j++)g.items[j].canEdit&&(g.items[j].character=j>d?"0":g.promptChar);var i=g._getString();h=!0}var d=g._getSeparatorPosition(),k=g._hasEmptyVisibleItems();if(f.start<=d&&k){var n=a;-1==g.decimalSeparatorPosition&&f.start==d&&(n=a+1);var o="";for(p=0;n>p;p++)m[p].canEdit&&m[p].character!=g.promptChar&&(o+=m[p].character);o+=c;var q=g.decimal<1?1:0;for(f.start==d&&-1!=g.decimalSeparatorPosition&&(o+=g.decimalSeparator,q=0),p=n+q;p<m.length;p++)m[p].character==g.decimalSeparator&&m[p].isSeparator?o+=m[p].character:m[p].canEdit&&m[p].character!=g.promptChar&&(o+=m[p].character);"."!=g.decimalSeparator&&(o=g._parseDecimalValue(o)),o=parseFloat(o).toString(),o=new Number(o),o=o.toFixed(g.decimalDigits),"."!=g.decimalSeparator&&(o=g._parseDecimalValueToEditorValue(o)),g.setvalue("decimal",o);var i=g._getString();if(f.end<d?g._setSelectionStart(f.end+q):g._setSelectionStart(f.end),f.length>=1&&g._setSelectionStart(f.end),f.length==g.numberInput.val().length){var r=g._moveCaretToDecimalSeparator(),s=g.decimalSeparatorPosition>=0?1:0;g._setSelectionStart(r-s)}}else if(f.start<d||f.start>d){if(g.numberInput.val().length==f.start&&-1!=g.decimalSeparatorPosition)return!1;if(g.numberInput.val().length==f.start&&-1==g.decimalSeparatorPosition&&!k)return!1;var o="",t=!1;for(p=0;a>p;p++)m[p].canEdit&&m[p].character!=g.promptChar&&(o+=m[p].character),m[p].character==g.decimalSeparator&&m[p].isSeparator&&(o+=m[p].character,t=!0);o+=c;var q=g.decimal<1?1:0;for(t||f.start!=d-1||(o+=g.decimalSeparator,t=!0),p=a+1;p<m.length;p++)!t&&m[p].character==g.decimalSeparator&&m[p].isSeparator?o+=m[p].character:m[p].canEdit&&m[p].character!=g.promptChar&&(o+=m[p].character);g.setvalue("decimal",o);var i=g._getString();if(g.decimalSeparatorPosition<0&&b==m[l])return g._setSelectionStart(a),!1;var u=i.indexOf(g.symbol),v=g.getvalue("negative")?1:0;if(v>=u&&(u=i.length),f.start<u?g._setSelectionStart(a+1):g._setSelectionStart(a),f.length>=1,f.length==g.numberInput.val().length){var r=g._moveCaretToDecimalSeparator();g._setSelectionStart(r-1)}}return!1}}}})}}},_handleKeyPress:function(b,c){var d=this._selection(),e=this;if(b.ctrlKey&&97==c||b.ctrlKey&&65==c)return!0;if(8==c)return d.start>0&&e._setSelectionStart(d.start),!1;if(46==c)return d.start<this.items.length&&e._setSelectionStart(d.start),!1;if(45==c){var f=this.getvalue("negative");0==f?this.setvalue("negative",!0):this.setvalue("negative",!1)}a.jqx.browser.msie&&this._insertKey(c);var g=this._isSpecialKey(c);return g},_deleteSelectedText:function(){var a=this._selection(),b="",c=this._getSeparatorPosition(),d=this._getVisibleItems(),e=this._getHiddenPrefixCount();for(this.numberInput.val().length==a.start&&0==a.length&&(this._setSelection(a.start,a.start+1),a=this._selection()),i=0;i<a.start;i++)d[i].canEdit&&d[i].character!=this.promptChar?b+=d[i].character:d[i].canEdit||-1==this.decimalSeparatorPosition||d[i]!=d[this.decimalSeparatorPosition-e]||(0==b.length&&(b="0"),b+=d[i].character);for(i=a.start;i<a.end;i++)i>c&&-1!=this.decimalSeparatorPosition?d[i].canEdit&&d[i].character!=this.promptChar&&(b+="0"):d[i].canEdit||-1==this.decimalSeparatorPosition||d[i]!=d[this.decimalSeparatorPosition-e]||(0==b.length&&(b="0"),b+=d[i].character);for(i=a.end;i<d.length;i++)d[i].canEdit&&d[i].character!=this.promptChar?b+=d[i].character:d[i].canEdit||-1==this.decimalSeparatorPosition||d[i]!=d[this.decimalSeparatorPosition-e]||(0==b.length&&(b="0"),b+=d[i].character);return this.setvalue("decimal",b),a.length>0},_restoreInitialState:function(){var a=parseInt(this.decimalDigits);for(a>0&&(a+=2),k=this.items.length-1;k>this.items.length-1-a;k--)this.items[k].canEdit&&this.items[k].character==this.promptChar&&(this.items[k].character=0)},clearDecimal:function(){if("textbox"==this.inputMode)return this.numberInput.val(),void 0;for(i=0;i<this.items.length;i++)this.items[i].canEdit&&(this.items[i].character=this.promptChar);this._restoreInitialState()},_saveSelectedText:function(){var b=this._selection(),c="",d=this._getVisibleItems();if(b.start>0||b.length>0)for(i=b.start;i<b.end;i++)d[i].canEdit&&d[i].character!=this.promptChar?c+=d[i].character:d[i].isSeparator&&(c+=d[i].character);return a.jqx.browser.msie&&window.clipboardData.setData("Text",c),c},_pasteSelectedText:function(){var b=this._selection();if(this.selectedText=a.data(document.body,"jqxSelection"),window.clipboardData){var c=window.clipboardData.getData("Text");if(c!=this.selectedText&&c.length>0&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||void 0==this.selectedText))return}if(b.start,this._getVisibleItems(),null!=this.selectedText)for(var d=0;d<this.selectedText.length;d++){var e=parseInt(this.selectedText[d]);if(!isNaN(e)){var f=48+e;this._insertKey(f)}}},_getHiddenPrefixCount:function(){var a=0;if(this.negative||a++,"left"==this.symbolPosition)for(i=0;i<this.symbol.length;i++)""==this.symbol.substring(i,i+1)&&a++;return a},_getEditableItem:function(){var a=this._selection();for(i=0;i<this.items.length;i++)if(i<a.start&&this.items[i].canEdit&&this.items[i].character!=this.promptChar)return this.items[i];return null},_getEditableItems:function(){var a=new Array,b=0;for(i=0;i<this.items.length;i++)this.items[i].canEdit&&(a[b]=this.items[i],b++);return a},_getValidSelectionStart:function(){for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit&&this.items[i].character!=this.promptChar)return i;return-1},_getEditableItemIndex:function(){var a=this._selection(),b=this._getHiddenPrefixCount(),c=this._getVisibleItems(),d=a.start,e=-1;for(i=0;d>i;i++)i<c.length&&c[i].canEdit&&(e=i+b);if(-1==e&&a.length>0)for(d=a.end,i=0;d>i;i++)if(i<c.length&&c[i].canEdit){e=i+b;break}return e},_getEditableItemByIndex:function(a){for(k=0;k<this.items.length;k++)if(k>a&&this.items[k].canEdit&&this.items[k].character!=this.promptChar)return k;return-1},_getFirstEditableItemIndex:function(){var a=this._getVisibleItems();for(m=0;m<a.length;m++)if(a[m].character!=this.promptChar&&a[m].canEdit&&"0"!=a[m].character)return m;return-1},_getLastEditableItemIndex:function(){var a=this._getVisibleItems();for(m=a.length-1;m>=0;m--)if(a[m].character!=this.promptChar&&a[m].canEdit)return m;return-1},_moveCaretToDecimalSeparator:function(){for(i=this.items.length-1;i>=0;i--)if(this.items[i].character==this.decimalSeparator&&this.items[i].isSeparator)return this.negative?(this._setSelectionStart(i+1),i):(this._setSelectionStart(i),i);return this.numberInput.val().length},_handleBackspace:function(){var a=this._selection(),b=this._getHiddenPrefixCount(),c=this._getEditableItemIndex()-b;if(c>=0){0==a.length&&-1!=c&&this._setSelection(c,c+1);var d=a.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;if(d&&(a=this._selection()),this._deleteSelectedText(),a.length<1||d?this._setSelectionStart(a.start):a.length>=1&&this._setSelectionStart(a.end),a.length==this.numberInput.val().length){var e=this._moveCaretToDecimalSeparator();this._setSelectionStart(e-1)}}else this._setSelectionStart(a.start)},_handleKeyDown:function(b,c){var d=this._selection();if(b.ctrlKey&&97==c||b.ctrlKey&&65==c)return!0;if(b.ctrlKey&&120==c||b.ctrlKey&&88==c)return this.selectedText=this._saveSelectedText(b),a.data(document.body,"jqxSelection",this.selectedText),this._handleBackspace(),!1;if(b.ctrlKey&&99==c||b.ctrlKey&&67==c)return this.selectedText=this._saveSelectedText(b),a.data(document.body,"jqxSelection",this.selectedText),!1;if(b.ctrlKey&&122==c||b.ctrlKey&&90==c)return!1;if(b.ctrlKey&&118==c||b.ctrlKey&&86==c||b.shiftKey&&45==c)return this._pasteSelectedText(),!1;if(d.start>=0&&d.start<this.items.length){var e=String.fromCharCode(c);this.items[d.start]}if(8==c)return this._handleBackspace(),!1;if(190==c||110==c)return this._moveCaretToDecimalSeparator(),!1;if(188==c){var f=this.numberInput.val();for(i=d.start;i<f.length;i++)if(f[i]==this.groupSeparator){this._setSelectionStart(1+i);break}return!1}if(null==a.jqx.browser.msie){var e=String.fromCharCode(c),g=parseInt(e);if(c>=96&&105>=c&&(g=c-96,c-=48),!isNaN(g)){var h=this;return h._insertKey(c),!1}}if(46==c){var j=this._getVisibleItems();if(d.start<j.length){var k=0==j[d.start].canEdit?2:1;0==d.length&&this._setSelection(d.start+k,d.start+k+d.length),this._handleBackspace(),new Number(this.decimal)<1||d.start>this._getSeparatorPosition()?this._setSelectionStart(d.end+k):d.start+1<this.decimalSeparatorPosition&&this._setSelectionStart(d.end+k)}return!1}if(38==c)return this.spinUp(),!1;if(40==c)return this.spinDown(),!1;var l=this._isSpecialKey(c);return a.jqx.browser.mozilla?l:!0},_isSpecialKey:function(a){return 8!=a&&9!=a&&13!=a&&35!=a&&36!=a&&37!=a&&39!=a&&27!=a&&46!=a?!1:!0},_selection:function(){if("selectionStart"in this.numberInput[0]){var a=this.numberInput[0],b=a.selectionEnd-a.selectionStart;return{start:a.selectionStart,end:a.selectionEnd,length:b,text:a.value}}var c=document.selection.createRange();if(null==c)return{start:0,end:a.value.length,length:0};var d=this.numberInput[0].createTextRange(),e=d.duplicate();d.moveToBookmark(c.getBookmark()),e.setEndPoint("EndToStart",d);var b=c.text.length;return{start:e.text.length,end:e.text.length+c.text.length,length:b,text:c.text}},_setSelection:function(a,b){try{if("selectionStart"in this.numberInput[0])this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(a,b);else{var c=this.numberInput[0].createTextRange();c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select()}}catch(d){}},_setSelectionStart:function(b){this._setSelection(b,b),a.data(this.numberInput,"selectionstart",b)},_render:function(b){var c=parseInt(this.host.css("border-left-width")),d=parseInt(this.host.css("border-left-width")),e=parseInt(this.host.css("border-left-width")),f=parseInt(this.host.css("border-left-width")),g=parseInt(this.host.css("height"))-e-f,h=parseInt(this.host.css("width"))-c-d;null!=this.width&&-1!=this.width.toString().indexOf("px")?h=this.width:void 0==this.width||isNaN(this.width)||(h=this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?g=this.height:void 0==this.height||isNaN(this.height)||(g=this.height),h=parseInt(h),g=parseInt(g),this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),this.numberInput.css("text-align",this.textAlign);var i=this.numberInput.css("font-size");isNaN(g)||this.numberInput.css("height",parseInt(i)+4+"px"),isNaN(h)||this.numberInput.css("width",h-2);var j=g-2*e-2*f-parseInt(i);isNaN(j)&&(j=0),isNaN(g)||this.host.height(g),isNaN(h)||this.host.width(h),this.spinButtons&&this.spincontainer&&(h-=parseInt(this.spinButtonsWidth-2),this.spincontainer.width(this.spinButtonsWidth),this.upbutton.width(this.spinButtonsWidth+2),this.downbutton.width(this.spinButtonsWidth+2),this.upbutton.height(Math.round(g/2)),this.downbutton.height(Math.round(g/2)),this.spincontainer.width(this.spinButtonsWidth),this.numberInput.css("width",h-5),this.numberInput.css("margin-right","2px"));var k=j/2;a.jqx.browser.msie&&a.jqx.browser.version<8&&(k=j/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",k),this.numberInput.css("padding-bottom",j/2),(void 0==b||1==b)&&(this.numberInput.val(this._getString()),"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode())},destroy:function(){this._removeHandlers(),this.host.remove()},inputValue:function(a){return void 0===a?this._value():(this.propertyChangedHandler(this,"value",this._value,a),this._refreshValue(),this)},_value:function(){var a=this.numberInput.val();return a},val:function(a){return void 0==a||"object"==typeof a?this.getDecimal():(this.setDecimal(a),void 0)
},getDecimal:function(){"simple"==this.inputMode&&this._parseDecimalInSimpleMode();var a=this.getvalue("negative");return a&&this.decimal>0?-this.decimal:this.decimal},setDecimal:function(a){var b=a;if("."!=this.decimalSeparator){a=a.toString();var c=a.indexOf(".");if(-1!=c){var d=a.substring(0,c),e=a.substring(c+1);a=d+this.decimalSeparator+e}0>a?this.setvalue("negative",!0):this.setvalue("negative",!1),this._setDecimal(a)}else 0>a?this.setvalue("negative",!0):this.setvalue("negative",!1),this._setDecimal(Math.abs(a));null==b&&this.numberInput.val("")},_setDecimal:function(a){(null==a||void 0==a)&&(a=0),-1!=a.toString().indexOf("e")&&(a=0),this.clearDecimal();var b=a.toString(),c="",d="",e=!0;0==b.length&&(b="0");for(var f=0;f<b.length;f++)b.substring(f,f+1)!=this.decimalSeparator?e?c+=b.substring(f,f+1):d+=b.substring(f,f+1):e=!1;c.length>0&&(c=parseFloat(c).toString());var g=this.digits;g<c.length&&(c=c.substr(0,g));var h=0,i=this._getSeparatorPosition(),j=this._getHiddenPrefixCount();i+=j;for(var f=i;f>=0;f--)f<this.items.length&&this.items[f].canEdit&&h<c.length&&(this.items[f].character=c.substring(c.length-h-1,c.length-h),h++);h=0;for(var f=i;f<this.items.length;f++)this.items[f].canEdit&&h<d.length&&(this.items[f].character=d.substring(h,h+1),h++);if(this._refreshValue(),"."==this.decimalSeparator)this.ValueString=new Number(a).toFixed(this.decimalDigits);else{var k=a.toString().indexOf(this.decimalSeparator);if(k>0){var l=a.toString().substring(0,k),m=l+"."+a.toString().substring(k+1);this.ValueString=new Number(m).toFixed(this.decimalDigits)}else this.ValueString=new Number(a).toFixed(this.decimalDigits)}"advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString))},_getSeparatorPosition:function(){var a=this._getHiddenPrefixCount();return this.decimalSeparatorPosition>0?this.decimalSeparatorPosition-a:this.items.length-a},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertyChangedHandler:function(b,c,d,e){if(("digits"==c||"groupSize"==c||"decimalDigits"==c)&&0>e)throw new Exception(this.invalidArgumentExceptions[0]);if("theme"===c&&a.jqx.utilities.setTheme(d,e,b.host),"digits"==c&&e!=d&&(b.digits=parseInt(e)),"decimalDigits"==c&&e!=d&&(b.decimalDigits=parseInt(e)),"decimalSeparator"==c||"digits"==c||"symbol"==c||"symbolPosition"==c||"groupSize"==c||"groupSeparator"==c||"decimalDigits"==c||"negativeSymbol"==c){var f=b.decimal;if("decimalSeparator"==c&&""==e&&(e=" "),d!=e){var g=b._selection();b.items=new Array,b._initializeLiterals(),b.value=b._getString(),b._refreshValue(),b._setSelection(g.start,g.end),b._setDecimal(f)}}if("spinButtons"==c&&(b.spincontainer?(e?b.spincontainer.css("display","block"):b.spincontainer.css("display","none"),b._render()):b._spinButtons()),"negative"==c&&"advanced"==b.inputMode){var g=b._selection(),h=0;e?(b.items[0].character=b.negativeSymbol[0],h=1):(b.items[0].character="",h=-1),b._refreshValue(),b.isInitialized&&b._setSelection(g.start+h,g.end+h)}if("decimal"==c&&b.setDecimal(e),"value"===c&&(b.value=e,b.setDecimal(e),b._raiseEvent(1,e)),"textAlign"==c&&(b.textAlign=e,b._render()),"disabled"==c&&(b.numberInput.attr("disabled",e),b.disabled?b.host.addClass(b.toThemeProperty("jqx-fill-state-disabled")):b.host.removeClass(b.toThemeProperty("jqx-fill-state-disabled"))),"readOnly"==c&&(b.readOnly=e),"promptChar"==c){for(i=0;i<b.items.length;i++)b.items[i].character==b.promptChar&&(b.items[i].character=e);b.promptChar=e}"width"==c?(b.width=e,b._render()):"height"==c&&(b.height=e,b._render())},_value:function(){var a=this.value;return a},_refreshValue:function(){var a=this.value;this.value=this._getString(),a=this.value;var b="";for(i=0;i<this.items.length;i++)this.items[i].canEdit&&this.items[i].character!=this.promptChar&&(b+=this.items[i].character),i==this.decimalSeparatorPosition&&(b+=".");this.decimal=b;var c=!1;this.oldValue!==a&&(this.oldValue=a,this._raiseEvent(0,a),c=!0),"simple"!=this.inputMode&&(this.numberInput.val(a),c&&this._raiseEvent(1,a)),null==a&&this.numberInput.val("")}})}(jQuery),function(a){a.jqx.jqxWidget("jqxValidator","",{}),a.extend(a.jqx._jqxValidator.prototype,{defineInstance:function(){this.rules=null,this.scroll=!0,this.focus=!0,this.scrollDuration=300,this.scrollCallback=null,this.position="right",this.arrow=!0,this.animation="fade",this.animationDuration=150,this.closeOnClick=!0,this.onError=null,this.onSuccess=null,this.ownerElement=null,this._events=["validationError","validationSuccess"],this.hintPositionOffset=5,this._inputHint=[]},createInstance:function(){this._configureInputs(),this._removeEventListeners(),this._addEventListeners()},destroy:function(){this._removeEventListeners(),this.hide()},validate:function(b){var c,d,e,f,g=!0,h=1/0,i=[];this.updatePosition();for(var j=this,k=0,l=0;l<this.rules.length;l+=1)"function"==typeof this.rules[l].rule&&k++;this.positions=new Array;for(var l=0;l<this.rules.length;l+=1){if(a(this.rules[l].input),"function"==typeof this.rules[l].rule){var m=function(l,m){c=l,0==c&&(g=!1,a(m.input),f=a(m.input),i.push(f),d=f.offset().top,h>d&&(h=d,e=f)),k--,0==k&&"function"==typeof b&&(j._handleValidation(g,h,e,i),b&&b(g))};this._validateRule(this.rules[l],m)}else c=this._validateRule(this.rules[l]);0==c&&(g=!1,f=a(this.rules[l].input),i.push(f),d=f.offset().top,h>d&&(h=d,e=f))}return 0==k?(this._handleValidation(g,h,e,i),g):void 0},validateInput:function(a){for(var b=this._getRulesForInput(a),c=!0,d=0;d<b.length;d+=1)this._validateRule(b[d])||(c=!1);return c},hideHint:function(a){for(var b=this._getRulesForInput(a),c=0;c<b.length;c+=1)this._hideHintByRule(b[c])},hide:function(){for(var a,b=0;b<this.rules.length;b+=1)a=this.rules[b],this._hideHintByRule(this.rules[b])},updatePosition:function(){var b;this.positions=new Array;for(var c=0;c<this.rules.length;c+=1)b=this.rules[c],b.hint&&this._hintLayout(b.hint,a(b.input),b.position,b)},_getRulesForInput:function(a){for(var b=[],c=0;c<this.rules.length;c+=1)this.rules[c].input===a&&b.push(this.rules[c]);return b},_validateRule:function(b,c){var d,e=a(b.input),f=!0,g=this,h=function(a){a?(g._hideHintByRule(b),c&&c(!0,b)):(d=b.hintRender.apply(g,[b.message,e]),g._hintLayout(d,e,b.position,b),g._showHint(d),b.hint=d,g._removeLowPriorityHints(b),c&&c(!1,b))},i=!1;return"function"==typeof b.rule&&(i=b.rule.call(this,e,h),1==i&&c&&c(!0,b)),"function"==typeof b.rule&&0==i?("function"!=typeof b.hintRender||b.hint||this._higherPriorityActive(b)||!e.is(":visible")||(d=b.hintRender.apply(this,[b.message,e]),this._hintLayout(d,e,b.position,b),this._showHint(d),b.hint=d,this._removeLowPriorityHints(b)),f=!1,c&&c(!1,b)):this._hideHintByRule(b),f},_hideHintByRule:function(a){var b;a&&(b=a.hint,b&&(this.positions[Math.round(b.offset().top)+"_"+Math.round(b.offset().left)]&&(this.positions[Math.round(b.offset().top)+"_"+Math.round(b.offset().left)]=null),"fade"===this.animation?b.fadeOut(this.animationDuration,function(){b.remove()}):b.remove()),a.hint=null)},_handleValidation:function(a,b,c,d){a?(this._raiseEvent(1),"function"==typeof this.onSuccess&&this.onSuccess()):(this._scrollHandler(b),this.focus&&c.focus(),this._raiseEvent(0,{invalidInputs:d}),"function"==typeof this.onError&&this.onError(d))},_scrollHandler:function(b){if(this.scroll){var c=this;a("html,body").animate({scrollTop:b},this.scrollDuration,function(){"function"==typeof c.scrollCallback&&c.scrollCallback.call(c)})}},_higherPriorityActive:function(a){for(var b,c=!1,d=this.rules.length-1;d>=0;d-=1){if(b=this.rules[d],c&&b.input===a.input&&b.hint)return!0;b===a&&(c=!0)}return!1},_removeLowPriorityHints:function(a){for(var b,c=!1,d=0;d<this.rules.length;d+=1)b=this.rules[d],c&&b.input===a.input&&this._hideHintByRule(b),b===a&&(c=!0)},_getHintRuleByInput:function(b){for(var c,d=0;d<this.rules.length;d+=1)if(c=this.rules[d],a(c.input)[0]===b[0]&&c.hint)return c;return null},_removeEventListeners:function(){for(var b,c,d,e=0;e<this.rules.length;e+=1){b=this.rules[e],d=b.action.split(","),c=a(b.input);for(var f=0;f<d.length;f+=1)this.removeHandler(c,a.trim(d[f])+".jqx-validator")}},_addEventListeners:function(){var b,c;if(this.host.parents(".jqx-window").length>0){var d=this,e=function(){d.updatePosition()},f=this.host.parents(".jqx-window");this.addHandler(f,"closed",function(){d.hide()}),this.addHandler(f,"moved",e),this.addHandler(f,"moving",e),this.addHandler(f,"resized",e),this.addHandler(f,"resizing",e)}for(var g=0;g<this.rules.length;g+=1)b=this.rules[g],c=a(b.input),this._addListenerTo(c,b)},_addListenerTo:function(b,c){var d=this,e=c.action.split(","),f=!1;this._isjQWidget(b)&&(f=!0);for(var g=0;g<e.length;g+=1){var h=a.trim(e[g]);!f||"blur"!=h&&"focus"!=h||(b=b.find("input")),this.addHandler(b,h+".jqx-validator",function(){d._validateRule(c)})}},_configureInputs:function(){this.rules=this.rules||[];for(var a=0;a<this.rules.length;a+=1)this._handleInput(a)},_handleInput:function(a){var b=this.rules[a];b.position||(b.position=this.position),b.message||(b.message="test"),b.action||(b.action="blur"),b.hintRender||(b.hintRender=this._hintRender),b.rule?this._handleRule(b):b.rule=null},_handleRule:function(a){var b,c,d=a.rule,e=!1;if("string"==typeof d?(d.indexOf("=")>=0&&(d=d.split("="),c=d[1].split(","),d=d[0]),b=this["_"+d],b?a.rule=function(a){return b.apply(this,[a].concat(c))}:e=!0):"function"!=typeof d?e=!0:a.rule=d,e)throw new Error("Wrong parameter!")},_required:function(b){switch(this._getType(b)){case"textarea":case"password":case"jqx-input":case"text":var c=a.data(b[0]);if(c.jqxMaskedInput){var d=b.jqxMaskedInput("promptChar"),e=b.jqxMaskedInput("value");return e&&e.indexOf(d)<0}return c.jqxNumberInput?""!==b.jqxNumberInput("inputValue"):c.jqxDateTimeInput?!0:""!==a.trim(b.val());case"checkbox":return b.is(":checked");case"radio":return b.is(":checked");case"div":return b.is(".jqx-checkbox")?b.jqxCheckBox("checked"):!1}return!1},_notNumber:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/\d/;return!b.test(a)})},_startWithLetter:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/\d/;return!b.test(a.substring(0,1))})},_number:function(a){return this._validateText(a,function(a){return""==a?!0:!isNaN(parseInt(a,10))})},_phone:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/^\(\d{3}\)(\d){3}-(\d){4}$/;return b.test(a)})},_length:function(a,b,c){return this._minLength(a,b)&&this._maxLength(a,c)},_maxLength:function(a,b){return b=parseInt(b,10),this._validateText(a,function(a){return a.length<=b})},_minLength:function(a,b){return b=parseInt(b,10),this._validateText(a,function(a){return a.length>=b})},_email:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)})},_zipCode:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/^(^\d{5}$)|(^\d{5}-\d{4}$)|(\d{3}-\d{2}-\d{4})$/;return b.test(a)})},_ssn:function(a){return this._validateText(a,function(a){if(""==a)return!0;var b=/\d{3}-\d{2}-\d{4}/;return b.test(a)})},_validateText:function(a,b){var c;return this._isTextInput(a)?(c=this._isjQWidget(a)?a.find("input").val():a.val(),b(c)):!1},_isjQWidget:function(b){var c=a.data(b[0]);return c.jqxMaskedInput||c.jqxNumberInput||c.jqxDateTimeInput?!0:!1},_isTextInput:function(a){var b=this._getType(a);return"text"===b||"textarea"===b||"password"===b||a.is(".jqx-input")},_getType:function(b){var c,d=b[0].tagName.toLowerCase();return"textarea"===d?"textarea":b.is(".jqx-input")?"jqx-input":"input"===d?c=a(b).attr("type")?a(b).attr("type").toLowerCase():"text":d},_hintRender:function(b,c){var d=a('<div class="'+this.toThemeProperty("jqx-validator-hint")+' jqx-rc-all"></div>'),e=this;return d.html(b),this.closeOnClick&&d.click(function(){e.hideHint(c.selector)}),null==this.ownerElement?d.appendTo(document.body):this.ownerElement.innerHTML?d.appendTo(a(this.ownerElement)):d.appendTo(this.ownerElement),d},_hintLayout:function(a,b,c,d){var e;e=this._getPosition(b,c,a,d),a.css({position:"absolute",left:e.left,top:e.top}),this.arrow&&this._addArrow(b,a,c,e)},_showHint:function(a){"fade"===this.animation&&(a.fadeOut(0),a.fadeIn(this.animationDuration))},_getPosition:function(b,c,d,e){var f,g,h=b.offset(),i=b.outerWidth(),j=b.outerHeight();if(null!=this.ownerElement&&(h={left:0,top:0},h.top=parseInt(h.top)+b.position().top,h.left=parseInt(h.left)+b.position().left),e&&e.hintPositionRelativeElement){var k=a(e.hintPositionRelativeElement);h=k.offset(),i=k.width(),j=k.height()}return f=c.indexOf("top")>=0?h.top-j:c.indexOf("bottom")>=0?h.top+d.outerHeight()+this.hintPositionOffset:h.top,g=c.indexOf("center")>=0?h.left+this.hintPositionOffset+(i-d.outerWidth())/2:c.indexOf("left")>=0?h.left-d.outerWidth()-this.hintPositionOffset:c.indexOf("right")>=0?h.left+i+this.hintPositionOffset:h.left+this.hintPositionOffset,c.indexOf(":")>=0&&(c=c.split(":")[1].split(","),g+=parseInt(c[0],10),f+=parseInt(c[1],10)),this.positions||(this.positions=new Array),this.positions[Math.round(f)+"_"+Math.round(g)]&&this.positions[Math.round(f)+"_"+Math.round(g)].top==f&&(f+=b.outerHeight()),this.positions[Math.round(f)+"_"+Math.round(g)]={left:g,top:f},{left:g,top:f}},_addArrow:function(b,c,d){var e,f,g=a('<div class="'+this.toThemeProperty("jqx-validator-hint-arrow")+'"></div>');c.children(".jqx-validator-hint-arrow").remove(),c.append(g);var h=g.outerHeight(),i=g.outerWidth(),j=c.outerHeight(),k=c.outerWidth();this._addImage(g),f=d.indexOf("top")>=0?j-h:d.indexOf("bottom")>=0?-h/2:(j-h)/2-h/2,d.indexOf("center")>=0?e=(k-i)/2:d.indexOf("left")>=0?e=k+i/2:d.indexOf("right")>=0&&(e=-i/2),(d.indexOf("topright")>=0||d.indexOf("bottomright")>=0)&&(e=0),(d.indexOf("topleft")>=0||d.indexOf("bottomleft")>=0)&&(e=k-i),g.css({position:"absolute",left:e,top:f})},_addImage:function(a){var b=a.css("background-image");b=b.replace('url("',""),b=b.replace('")',""),b=b.replace("url(",""),b=b.replace(")",""),a.css("background-image","none"),a.append('<img src="'+b+'" alt="Arrow" style="position: relative; top: 0px; left: 0px; width: '+a.width()+"px; height: "+a.height()+'px;" />')},_raiseEvent:function(b,c){var d=a.Event(this._events[b]);return d.args=c,this.host.trigger(d)},propertyChangedHandler:function(a,b){"rules"===b&&(this._configureInputs(),this._removeEventListeners(),this._addEventListeners())}})}(jQuery),function(a){a.jqx.jqxWidget("jqxTabs","",{}),a.extend(a.jqx._jqxTabs.prototype,{defineInstance:function(){this.scrollAnimationDuration=200,this.enabledHover=!0,this.disabled=!1,this.collapsible=!1,this.animationType="none",this.enableScrollAnimation=!0,this.contentTransitionDuration=450,this.toggleMode="click",this.selectedItem=0,this.height="auto",this.width="auto",this.position="top",this.selectionTracker=!1,this.scrollable=!0,this.scrollPosition="right",this.scrollStep=70,this.autoHeight=!0,this.headerHeight=null,this.showCloseButtons=!1,this.canCloseAllTabs=!0,this.dropAnimationDuration=250,this.closeButtonSize=16,this.arrowButtonSize=16,this.keyboardNavigation=!0,this.reorder=!1,this.enableDropAnimation=!1,this.selectionTrackerAnimationDuration=300,this._isTouchDevice=!1,this.roundedCorners=!0,this._headerExpandingBalance=0,this._dragStarted=!1,this._tabCaptured=!1,this._lastUnorderedListPosition=0,this._selectedItem=0,this._titleList=[],this._contentList=[],this._contentWrapper=null,this._unorderedList=null,this._scrollTimeout=null,this.isCollapsed=!1,this._currentEvent=null,this._needScroll=!0,this._isAnimated={},this._events=["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],this._initTabContentList=[],this._invalidArgumentExceptions={invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!",invalidDropAnimationDuration:"Invalid dropAnimationDuration!"}},createInstance:function(){this.host.addClass(this.toThemeProperty("jqx-tabs")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._unorderedList=this.host.children("ul"),this._titleList=this.host.children("ul").children("li"),this._contentList=this.host.children("div"),this._selectedItem=this.selectedItem,this._isTouchDevice=a.jqx.mobile.isTouchDevice(),this._needScroll=this.scrollable,this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck()),this._isTouchDevice&&(this.reorder=!1,this.keyboardNavigation=!1);for(var b=this.length();b;)b--,this._titleList[b]=a(this._titleList[b]),this._contentList[b]=a(this._contentList[b]);this._validateProperties(),this._refresh(),this._moveSelectionTrack(this._selectedItem,0),this.disabled&&this.disable(),this.element.tabIndex=0,this._raiseEvent(0);var c=this;c._enableWindowResize(),c._hiddenParent()&&(c._intervalTimer=setInterval(function(){c._hiddenParent()||(c._refresh(),clearInterval(c._intervalTimer),c.initTabContent&&(c._initTabContentList[c.selectedItem]||(c.initTabContent(c.selectedItem),c._initTabContentList[c.selectedItem]=!0)))},100))},_hiddenParent:function(){var b=this;if("none"==b.host.css("display"))return!0;var c=!1;return a.each(b.host.parents(),function(){return"none"==a(this).css("display")?(c=!0,!1):void 0}),c},_enableWindowResize:function(b){if(0==b)return a(window).unbind("resize.tabs"+this.element.id),void 0;var c=!1,d=this;null!=d.width&&-1!=d.width.toString().indexOf("%")&&(c=!0),null!=d.height&&-1!=d.height.toString().indexOf("%")&&(c=!0),("auto"==d.width||"auto"==d.height)&&(c=!0),a(window).bind("resize.tabs"+this.element.id,function(){if(c){var a=d.host.width(),b=d.host.height();(d._lastWidth!=a||d._lastHeight!=b)&&(d.refreshTimer&&clearTimeout(d.refreshTimer),d.refreshTimer=setTimeout(function(){d.refresh()},10)),d._lastWidth=a,d._lastHeight=b}})},refresh:function(a){(1!=a||void 0==a)&&this._performResize()},_seletionTrackerBrowserCheck:function(){var b="Browser CodeName: "+navigator.appCodeName;return b+="Browser Name: "+navigator.appName,b+="Browser Version: "+navigator.appVersion,b+="Platform: "+navigator.platform,b+="User-agent header: "+navigator.userAgent,-1!=b.indexOf("IEMobile")?!1:-1!=b.indexOf("Windows Phone OS")?!1:a.jqx.browser.msie&&a.jqx.browser.version<=7?!1:!0},render:function(){this._refresh()},_uiRefresh:function(a){this._unorderedListLeftBackup=this._unorderedList.css("left"),a&&this._render(),this._addStyles(),this._performLayout(),this._prepareTabs(),this._removeEventHandlers(),this._addEventHandlers(),"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()),this._unorderedList.css("left",this._unorderedListLeftBackup)},_refresh:function(){this._uiRefresh(!0)},_addStyles:function(){this._unorderedList.addClass(this.toThemeProperty("jqx-tabs-title-container")),this._unorderedList.css({outline:"none","white-space":"nowrap","margin-top":"0px","margin-bottom":"0px",padding:"0px",background:"transparent",border:"none","border-style":"none","text-indent":"0px"});for(var a=this.length();a;)switch(a--,this._titleList[a].removeClass(),this._titleList[a].css("padding",""),this._titleList[a].addClass("jqx-reset"),this._titleList[a].addClass("jqx-disableselect"),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title")),this._titleList[a].addClass(this.toThemeProperty("jqx-item")),"bottom"==this.position&&this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-bottom")),this._titleList[a].removeClass(this.toThemeProperty("jqx-rc-b")),this._titleList[a].removeClass(this.toThemeProperty("jqx-rc-t")),this._contentList[a].removeClass(this.toThemeProperty("jqx-rc-b")),this._contentList[a].removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._titleList[a].addClass(this.toThemeProperty("jqx-rc-t")),this._contentList[a].addClass(this.toThemeProperty("jqx-rc-b"));break;case"bottom":this._titleList[a].addClass(this.toThemeProperty("jqx-rc-b")),this._contentList[a].addClass(this.toThemeProperty("jqx-rc-t"))}if(this.selectionTracker)switch(this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-b")),this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case"top":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-t"));break;case"bottom":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-b"))}},_raiseEvent:function(b,c){var d=new a.Event(this._events[b]);d.owner=this,d.args=c,(6===b||7===b)&&(d.cancel=!1,this._currentEvent=d);var e="";try{if(e=this.host.trigger(d),1==b){var f=this;if(this.selectionTracker||"none"!=this.animationType)setTimeout(function(){f._initTabContentList[f.selectedItem]||f.initTabContent&&(f.initTabContent(f.selectedItem),f._initTabContentList[f.selectedItem]=!0);var b=new a.Event("loadContent");b.owner=this,f._contentList.length>0&&f._contentList[f.selectedItem]&&f._contentList[f.selectedItem].find("div").trigger(b)},50+f.selectionTrackerAnimationDuration);else{var d=new a.Event("loadContent");f._initTabContentList[f.selectedItem]||f.initTabContent&&(f.initTabContent(f.selectedItem),f._initTabContentList[f.selectedItem]=!0),d.owner=this,this._contentList.length>0&&this._contentList[this.selectedItem]&&this._contentList[this.selectedItem].find("div").trigger(d)}}}catch(g){}return e},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var a,b=this.arrowButtonSize,c=this.arrowButtonSize;return a="left"===this.scrollPosition?b+c:"both"===this.scrollPosition?b:0},_scrollRight:function(a){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var b,c,d=parseInt(this._unorderedList.width()+parseInt(this._unorderedList.css("margin-left")),10),e=parseInt(this.host.width(),10),f=parseInt(this._unorderedList.css("left"),10),g=this._getArrowsDisplacement(),h=0,i=void 0;this.scrollable?(b=parseInt(this._leftArrow.outerWidth(),10),c=parseInt(this._rightArrow.outerWidth(),10)):(b=0,c=0),a=this.enableScrollAnimation?a:0,parseInt(this._headerWrapper.width(),10)>parseInt(this._unorderedList.css("margin-left"))+parseInt(this._unorderedList.width(),10)?h=g:Math.abs(f)+this.scrollStep<Math.abs(e-d)+b+c+g?(h=f-this.scrollStep,i=f-this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(h=e-d-(2*this.arrowButtonSize-g),h<parseInt(this._unorderedList.css("left"),10)-4&&h>parseInt(this._unorderedList.css("left"),10)+4&&(i=e-d-b-c+parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(h,i,a)},_scrollLeft:function(a){this._unorderedList.stop(),this._unlockAnimation("unorderedList");var b=parseInt(this._unorderedList.css("left")),c=this._getArrowsDisplacement(),d=0,e=void 0;a=this.enableScrollAnimation?a:0,parseInt(this._headerWrapper.width())>=parseInt(this._unorderedList.width())?d=c:b+this.scrollStep<c?(d=b+this.scrollStep,e=b+this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(d=c,d<parseInt(this._unorderedList.css("left"))-4&&d>parseInt(this._unorderedList.css("left"))+4&&(e=parseInt(this._titleList[this._selectedItem].position().left))),this._performScrollAnimation(d,e,a)},_performScrollAnimation:function(a,b,c){var d=this;void 0!==b&&this._moveSelectionTrack(this._selectedItem,0,b),this._lockAnimation("unorderedList"),this._unorderedList.animate({left:a},c,function(){d._moveSelectionTrack(d.selectedItem,0),d._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var a=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",function(b){if(!a._activeAnimation()){a._selectedItem;var c=a.selectionTracker;switch(b.keyCode){case 37:return a.previous(),!0;case 39:return a.next(),!0;case 36:return a.first(),!0;case 35:return a.last(),!0;case 27:a._tabCaptured&&(a._cancelClick=!0,a._uncapture(null,a.selectedItem),a._tabCaptured=!1)}a.selectionTracker=c}return!0})},_addScrollHandlers:function(){var b=this;this.addHandler(this._leftArrow,"mousedown",function(){b._startScrollRepeat(!0,b.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mousedown",function(){b._startScrollRepeat(!1,b.scrollAnimationDuration)}),this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(b._scrollTimeout)}),this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(b._scrollTimeout)}),this.addHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this),this.addHandler(a(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(a){var b=a.data;clearTimeout(b._scrollTimeout)},_mouseUpScrollDocumentHandler:function(a){var b=a.data;clearTimeout(b._scrollTimeout)},_mouseUpDragDocumentHandler:function(a){var b=a.data;b._tabCaptured&&b._dragStarted&&b._uncapture(a),b._tabCaptured=!1},_addReorderHandlers:function(){this.addHandler(a(document),"mousemove.tab"+this.element.id,this._moveElement,this),this.addHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler,this)},_addEventHandlers:function(){for(var a=this.length();a;)a--,this._addEventListenerAt(a);this.keyboardNavigation&&this._addKeyboardHandlers(),this.scrollable&&this._addScrollHandlers(),this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var b=this;if((""!=document.referrer||window.frameElement)&&null!=window.top){var c=function(){b._tabCaptured&&(b._cancelClick=!0,b._uncapture(null,b.selectedItem),b._tabCaptured=!1)};window.parent&&document.referrer&&(parentLocation=document.referrer),-1!=parentLocation.indexOf(document.location.host)&&(window.top.document.addEventListener?window.top.document.addEventListener("mouseup",c,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",c))}},_getFocusedItem:function(a){for(var b=this.length();b;){b--;var c=this._titleList[b],d=parseInt(c.outerWidth(!0)),e=parseInt(c.offset().left),f=(parseInt(this._unorderedList.offset().left),parseInt(this.host.offset().left),e);if(a>=f&&f+d>=a&&c!==this._capturedElement&&!this._titleList[b].locked&&this._titleList[b].disabled!==!0)return b}return-1},_simulateDropAnimation:function(b,c){var d=this,e=function(){d._headerWrapper.css("visibility","visible"),h.remove()},f=this._headerWrapper.position().top,g=this._headerWrapper.position().left,h=this._headerWrapper.clone(),i=h.children(0),j=h.find(this.toThemeProperty(".jqx-tabs-selection-tracker-top",!0));this._headerWrapper.css("visibility","hidden"),j.css("display","none"),h.appendTo(this.host),h.css({position:"absolute",left:g,top:"top"===this.position?f:f,height:h.height(),width:h.width()});for(var k=this.length(),l=0,m=a(i.children()[b]),n=a(i.children()[c]),o=0;k>o;o++){var p=a(i.children()[o]);p.width(p.width());var q=this.isVisibleAt(o);q||o==b||p.css("visibility","hidden"),0!==o&&(l+=parseInt(a(i.children()[o-1]).outerWidth(!0))),o!==b?p.css({position:"absolute",left:l,top:0}):p.css({position:"absolute",left:this._capturedElement.position().left,top:0}),p.css("z-index",0)}var r=function(){d._selectedItem=-1,d.select(c),d._selectedItem=c};if(b>c){l=parseInt(n.css("left")),this._lockAnimation("simulation"),m.animate({left:l},this.dropAnimationDuration,function(){e(),d._unlockAnimation("simulation"),r()});for(var o=c;b>o;o++){var p=a(i.children()[o]);l+=o===c?m.outerWidth(!0):a(i.children()[o-1]).outerWidth(!0),this._lockAnimation("simulation"),p.animate({left:l},this.dropAnimationDuration,function(){d._unlockAnimation("simulation"),r()})}}else if(c>b){this._lockAnimation("simulation"),m.animate({left:parseInt(n.css("left"))+parseInt(n.outerWidth(!0))-parseInt(m.outerWidth(!0))},this.dropAnimationDuration,function(){e(),d._unlockAnimation("simulation"),r()});for(var o=b+1;c>=o;o++)this._lockAnimation("simulation"),a(i.children()[o]).animate({left:parseInt(a(i.children()[o]).css("left"))-parseInt(m.outerWidth(!0))},this.dropAnimationDuration,function(){d._unlockAnimation("simulation"),r()})}},_uncapture:function(b){var c=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedList.css("left"),this._dragStarted=!1,this._tabCaptured=!1;var d=this._indexOf(this._capturedElement);if(this._capturedElement){switch(this.position){case"top":this._capturedElement.css("bottom",0);break;case"bottom":this._capturedElement.css("top",0)}if(b)var e=this._getFocusedItem(b.clientX,b.clientY);-1!==e&&b?(this.enableDropAnimation&&this._simulateDropAnimation(d,e),this._raiseEvent(10,{item:d,dropIndex:e}),this._reorderItems(e,d)):this._capturedElement.css("left",0),a.each(this._titleList,function(){this.css("position","static")}),this._reorderHeaderElements(),this._unorderedList.css({position:"relative",top:"0px"}),this._prepareTabs(),-1!==e&&b?(this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this._selectedItem,!0)):(this._selectedItem=d,this._moveSelectionTrack(d,0),this._addSelectStyle(this._selectedItem,!0)),document.selection&&document.selection.clear(),this._unorderedList.css("left",this._unorderedListLeftBackup),this.selectionTracker=c}},_reorderItems:function(a,b){var c=this._titleList[this.selectedItem];this._contentList[b],"undefined"==typeof this._capturedElement&&(this._capturedElement=this._titleList[b]),this._titleList[b].remove(),a>b?this._titleList[b].insertAfter(this._titleList[a]):this._titleList[b].insertBefore(this._titleList[a]),this._reorderElementArrays(a,b),this._getSelectedItem(c),this._removeEventHandlers(),this._addEventHandlers()},_reorderElementArrays:function(a,b){this._titleList[this.selectedItem];var c=this._contentList[b];if(a>b){for(var d=b;a>=d;d++)this._titleList[d]=this._titleList[d+1],this._contentList[d]=this._contentList[d+1];this._contentList[a]=c,this._titleList[a]=this._capturedElement}else{for(var d=b;d>=a;d--)this._titleList[d]=this._titleList[d-1],this._contentList[d]=this._contentList[d-1];this._contentList[a]=c,this._titleList[a]=this._capturedElement}},_getSelectedItem:function(a){for(var b=this.length();b;)if(b--,this._titleList[b]===a){this._selectedItem=this.selectedItem=b;break}},_moveElement:function(a,b){var b=a.data;b._tabCaptured&&(document.selection&&document.selection.clear(),b._dragStarted?(b._performDrag(a),clearTimeout(b._scrollTimeout),b._dragScroll(a)):(unorderedListLeft=-parseInt(b._unorderedList.css("left"),10),(a.clientX+unorderedListLeft>b._startX+3||a.clientX+unorderedListLeft<b._startX-3)&&(b._prepareTabForDragging(),b._dragStarted=!0)))},_performDrag:function(a){var b=this.getZoomFactor();unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._capturedElement.css("left",unorderedListLeft+a.clientX/b-this._startX/b),this._lastX=a.clientX/b,this._moveSelectionTrack(this.selectedItem,0)
},getZoomFactor:function(){var a=1;if(document.body.getBoundingClientRect){var b=document.body.getBoundingClientRect(),c=b.right-b.left,d=document.body.offsetWidth;a=Math.round(100*(c/d))/100}return a},_prepareTabForDragging:function(){switch(this._capturedElement.css({position:"relative",left:"0px",top:"0px","z-index":"300"}),this.selectedItem=this._indexOf(this._capturedElement),this.position){case"top":this._capturedElement.css("bottom",parseInt(this._capturedElement.css("top")));break;case"bottom":this._capturedElement.css("top",parseInt(this._capturedElement.css("top")))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(a){var b=parseInt(this._unorderedList.css("left")),c=this;parseInt(this._capturedElement.css("left")),a.clientX<=this._headerWrapper.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-b)):a.clientX>this._headerWrapper.offset().left+parseInt(this._headerWrapper.width(),10)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-b)):(this._unorderedList.stop(),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout));var c=this;this._scrollTimeout=setTimeout(function(){c._dragScroll(a)},this.scrollAnimationDuration),this._lastUnorderedListPosition=b},_captureElement:function(a,b){this._tabCaptured||this._titleList[b].locked||this._titleList[b].disabled===!0||this._activeAnimation()||(unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._startX=unorderedListLeft+a.clientX,this._startY=a.clientY,this._lastX=a.clientX,this._lastY=a.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[b])},_titleInteractionTrigger:function(a){this._headerExpandingBalance>0&&this._removeOppositeBorder(),this._selectedItem!==a?(this.select(this._titleList[a],"toggle"),this._titleList[a].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.css("visibility","visible"):this._contentWrapper.css("display","block"))):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var a=this._selectedItem,b=this;this.isCollapsed=!0,"auto"!==b.height?b._contentWrapper.css("visibility","hidden"):b._contentWrapper.hide(),b._raiseEvent(13,{item:a}),"top"==this.position?(b._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed")),b.host.addClass(this.toThemeProperty("jqx-tabs-collapsed"))):(b._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),b.host.addClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},expand:function(){var a=this._selectedItem,b=this;this.isCollapsed=!1,this._select(a,b.contentTransitionDuration,null,!1,!0),"auto"!==b.height?b._contentWrapper.css("visibility","visible"):b._contentWrapper.show(),b._raiseEvent(14,{item:a}),"top"==this.position?(b._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed")),b.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed"))):(b._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),b.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(a){var b=this;this.addHandler(this._titleList[a],"selectstart",function(){return!1}),this.addHandler(this._titleList[a],this.toggleMode,function(a){return function(){return b._raiseEvent("15",{item:a}),b._tabCaptured||b._cancelClick||b._titleInteractionTrigger(a),!0}}(a))},_addDragDropHandlers:function(a){var b=this;this.addHandler(this._titleList[a],"mousedown",function(c){return b._captureElement(c,a),!1}),this.addHandler(this._titleList[a],"mouseup",function(c){return b._tabCaptured&&b._dragStarted?(b._cancelClick=!0,b._uncapture(c,a)):b._cancelClick=!1,b._tabCaptured=!1,!1})},_removeHoverStates:function(){var b=this;a.each(this._titleList,function(){this.removeClass(b.toThemeProperty("jqx-tabs-title-hover-top")),this.removeClass(b.toThemeProperty("jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(a){var b=this,c=this._titleList[a];this.addHandler(c,"mouseenter",function(){if(a!=b._selectedItem&&("top"==b.position?c.addClass(b.toThemeProperty("jqx-tabs-title-hover-top")):c.addClass(b.toThemeProperty("jqx-tabs-title-hover-bottom")),c.addClass(b.toThemeProperty("jqx-fill-state-hover")),b.showCloseButtons)){var d=c.children(0).children(b.toThemeProperty(".jqx-tabs-close-button",!0));d.addClass(b.toThemeProperty("jqx-tabs-close-button-hover",!0))}}),this.addHandler(c,"mouseleave",function(){if(a!=b._selectedItem&&("top"==b.position?c.removeClass(b.toThemeProperty("jqx-tabs-title-hover-top")):c.removeClass(b.toThemeProperty("jqx-tabs-title-hover-bottom")),c.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b.showCloseButtons)){var d=c.children(0).children(b.toThemeProperty(".jqx-tabs-close-button",!0));d.removeClass(b.toThemeProperty("jqx-tabs-close-button-hover",!0))}})},_addEventListenerAt:function(a){var b=this;if(!this._titleList[a].disabled){this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(a),this._addSelectHandler(a),this.enabledHover&&this._addHoverHandlers(a);var c=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(c,"click"),this.addHandler(c,"click",function(){return b.removeAt(a),!1})}},_removeEventHandlers:function(){for(var b=this.length();b;)b--,this._removeEventListenerAt(b);this.scrollable&&(this.removeHandler(this._leftArrow,"mousedown"),this.removeHandler(this._rightArrow,"mousedown")),this.removeHandler(a(document),"mousemove.tab"+this.element.id,this._moveElement),this.removeHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler),this.removeHandler(a(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler),this.removeHandler(this.host,"keydown")},_removeEventListenerAt:function(a){this.removeHandler(this._titleList[a],this.toggleMode),this.removeHandler(this._titleList[a],"mouseenter"),this.removeHandler(this._titleList[a],"mouseleave"),this.removeHandler(this._titleList[a],"mousedown"),this.removeHandler(this._titleList[a],"mouseup");var b=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(b,"click")},_moveSelectionTrack:function(a,b,c){var d=this;if(-1!=a&&0!=this._titleList.length&&!(a>=this._titleList.length)&&this.selectionTracker){if(this._selectionTracker.stop(),this._unlockAnimation("selectionTracker"),void 0===c){var e=parseInt(this._titleList[a].position().left);isNaN(parseInt(this._unorderedList.css("left")))||(e+=parseInt(this._unorderedList.css("left"))),isNaN(parseInt(this._unorderedList.css("margin-left")))||(e+=parseInt(this._unorderedList.css("margin-left"))),isNaN(parseInt(this._titleList[a].css("margin-left")))||(e+=parseInt(this._titleList[a].css("margin-left"))),!isNaN(parseInt(this._titleList[a].css("margin-right")))}else var e=c;var f=0,g=0;"top"===this.position&&(f=parseInt(this._headerWrapper.height())-parseInt(this._titleList[a].outerHeight()),this.autoHeight||(g+=parseInt(this._titleList[a].css("margin-top")))),this._lockAnimation("selectionTracker");var h=parseInt(this._titleList[a].css("padding-left"))+parseInt(this._titleList[a].css("padding-right")),i="top"==this.position?0:1,j=parseInt(this._headerWrapper.css("padding-top")),k=parseInt(this._titleList[a].css("padding-top"))+parseInt(this._titleList[a].css("padding-bottom"));this._selectionTracker.css("visibility","visible"),this._moveSelectionTrackerContainer.css("visibility","visible");var l=parseInt(this._titleList[a].css("margin-top"));isNaN(l)&&(l=0),this._selectionTracker.animate({top:j+l-i,left:e+"px",height:parseInt(this._titleList[a].height()+k),width:this._titleList[a].width()+h},b,function(){d._unlockAnimation("selectionTracker"),d._selectionTracker.css("visibility","hidden"),d._addSelectStyle(a,!0),d._moveSelectionTrackerContainer.css("visibility","hidden")})}},destroy:function(){this.host.remove()},_switchTabs:function(a,b){if(a!==b&&!this._activeAnimation()&&!this._tabCaptured){var c=this;return this._raiseEvent(7,{item:b}),this._raiseEvent(6,{item:a}),this._currentEvent&&this._currentEvent.cancel?(this._currentEvent=null,void 0):(this._unselect(b,null,!0),this._select(a,c.contentTransitionDuration,null,!0),!0)}return!1},_activeAnimation:function(){for(child in this._isAnimated)if(this._isAnimated.hasOwnProperty(child)&&this._isAnimated[child])return!0;return!1},_indexOf:function(a){for(var b=this.length();b;)if(b--,this._titleList[b][0]===a[0]||this._contentList[b][0]===a[0])return b;return-1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(parseInt(this.width)<0&&"auto"!==this.width)throw new Error(this._invalidArgumentExceptions.invalidWidth);if(parseInt(this.height)<0&&"auto"!==this.height)throw new Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration))throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw new Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw new Error(this._invalidArgumentExceptions.invalidScrollPosition);if(this.scrollStep<0||isNaN(this.scrollStep))throw new Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0==this._titleList.length)throw new Error(this._invalidArgumentExceptions.invalidStructure);if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize))throw new Error(this._invalidArgumentExceptions.invalidArrowSize);if(this.closeButtonSize<0||isNaN(this.closeButtonSize))throw new Error(this._invalidArgumentExceptions.invalidCloseSize);if(this.dropAnimationDuration<0||isNaN(this.dropAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidDropAnimationDuration)}catch(a){alert(a)}},_startScrollRepeat:function(a,b){var c=this;50>b&&(b=50),a?this._scrollLeft(b):this._scrollRight(b),this._scrollTimeout=setTimeout(function(){c._startScrollRepeat(a,b-50)},b)},_performLayout:function(){for(var a=this.length();a;)a--,("top"===this.position||"bottom"===this.position)&&this._titleList[a].css("float","left");this._enableWindowResize(!1),this._fitToSize(),this._performHeaderLayout(),this._fitToSize(),this._enableWindowResize(!0)},updatetabsheader:function(){this._performHeaderLayout()},_performResize:function(){this._fitToSize(),this._positionArrows(this._totalItemsWidth),this._totalItemsWidth>this.host.width()?this._unorderedList.width(this._totalItemsWidth):this._unorderedList.width(this.host.width()-2),this._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(this._leftArrow.remove(),this._rightArrow.remove()),this._leftArrow=a('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span></div>'),this._rightArrow=a('<div><span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span></div>'),this._leftArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._rightArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background")),this._leftArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._rightArrow.addClass(this.toThemeProperty("jqx-widget-header")),this._headerWrapper.append(this._leftArrow),this._headerWrapper.append(this._rightArrow),this._leftArrow.width(this.arrowButtonSize),this._leftArrow.height("100%"),this._rightArrow.width(this.arrowButtonSize),this._rightArrow.height("100%"),this._leftArrow.css({"z-index":"30"}),this._rightArrow.css({"z-index":"30"}),this._leftArrow.css("display","none"),this._rightArrow.css("display","none")},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var b=this.length();return a.each(this._titleList,function(){var a=this.attr("hasclosebutton");void 0!=a&&null!=a&&("false"==a||0==a)&&b--}),b},_calculateTitlesSize:function(){for(var b=0,c=0,d=this.length();d;){if(d--,this._titleList[d].css("position","static"),this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),c+=parseInt(this._titleList[d].outerWidth(!0)),b<this._titleList[d].outerHeight(!0)&&(b=Math.round(parseInt(this._titleList[d].outerHeight(!0)))),0==this._titleList[d].height()){var e=this._titleList[d].clone();a(document.body).append(e),b=Math.round(parseInt(e.outerHeight(!0))),e.remove()}var f=this._titleList[d].attr("hasCloseButton");if(void 0!=f&&null!=f){var g=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[d]&&(this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),g=!0),g||("true"==f||1==f?(c+=this.closeButtonSize,this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block")):("false"==f||0==f)&&this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"))}else if(this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)){var g=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[d]&&(this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),g=!0),g||(c+=this.closeButtonSize,this._titleList[d].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block"))}this._titleList[d].height(this._titleList[d].height())}return{height:b,width:10+c}},_reorderHeaderElements:function(){if(this.selectionTracker&&this._moveSelectionTrackerContainer.css({position:"absolute",height:"100%",top:"0px",left:"0px",width:"100%"}),this._headerWrapper.css({position:"relative",left:"0px",top:"0px"}),this.scrollable){this._rightArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"}),this._leftArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});var a=this.theme&&-1!=this.theme.indexOf("ui-")?3:0;switch(a>0&&(this._rightArrow.addClass(this.toThemeProperty("jqx-rc-r")),this._leftArrow.addClass(this.toThemeProperty("jqx-rc-l"))),this.scrollPosition){case"both":this._rightArrow.css("right","0px"),this._leftArrow.css("left","0px");break;case"left":this._rightArrow.css("left",this.arrowButtonSize+"px"),this._leftArrow.css("left","0px");break;case"right":this._rightArrow.css("right",-a+"px"),this._leftArrow.css("right",this.arrowButtonSize-a+"px")}}},_positionArrows:function(a){a>=parseInt(this._headerWrapper.width())&&this.scrollable?(this._needScroll=!0,0===this._unorderedList.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.css("display","block"),this._rightArrow.css("display","block")):(this._needScroll=!1,this._leftArrow.css("display","none"),this._rightArrow.css("display","none"),this._unorderedList.css("left",0))},_performHeaderLayout:function(){this._removeSelectStyle();var b=this._calculateTitlesSize(),c=b.height,d=b.width;this._headerWrapper.height(c),this._unorderedList.height(c),null!=this.headerHeight&&"auto"!=this.headerHeight&&(this._headerWrapper.height(this.headerHeight),this._unorderedList.height(this.headerHeight)),d>this.host.width()?this._unorderedList.width(d):this._unorderedList.width(this.host.width()),a.jqx.browser.msie&&a.jqx.browser.version<8&&(this._unorderedList.css("position","relative"),this._headerWrapper.css("overflow","hidden")),this._reorderHeaderElements(),d+=parseInt(this._unorderedList.css("margin-left")),this._totalItemsWidth=d,this._positionArrows(d),this._unorderedList.css({position:"relative",top:"0px"}),this._verticalAlignElements(),this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){var a=this.length();for(this._maxHeightTab();a;){a--;var b=this._titleList[a].find(".jqx-tabs-titleContentWrapper"),c=(b.height(),this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0))),d=parseInt(this._titleList[a].css("padding-top"));if(d||(d=0),this.autoHeight){var e=this._titleList[a].outerHeight(!0)-this._titleList[a].height(),f=parseInt(this._titleList[a].css("padding-top")),g=parseInt(this._titleList[a].css("padding-bottom")),h=parseInt(this._titleList[a].css("border-top-width")),i=parseInt(this._titleList[a].css("border-bottom-width"));this._titleList[a].height(this._unorderedList.outerHeight()-f-g-h-i)}else if("top"===this.position){var j=parseInt(this._unorderedList.height())-parseInt(this._titleList[a].outerHeight(!0));parseInt(this._titleList[a].css("margin-top"))!==j&&0!==j&&this._titleList[a].css("margin-top",j)}else this._titleList[a].height(this._titleList[a].height());this._titleList[a].children(0).height("100%");var k=parseInt(this._titleList[a].height()),l=parseInt(k)/2-parseInt(c.height())/2;c.css("margin-top",1+l);var m=parseInt(k)/2-parseInt(b.height())/2;b.css("margin-top",m)}if(this.scrollable){var e=parseInt(this._headerWrapper.outerHeight())-this.arrowButtonSize,n=e/2;this._rightArrow.children(0).css("margin-top",n),this._rightArrow.height("100%"),this._leftArrow.height("100%"),this._leftArrow.children(0).css("margin-top",n)}},_getImageUrl:function(a){var b=a.css("background-image");return b=b.replace('url("',""),b=b.replace('")',""),b=b.replace("url(",""),b=b.replace(")","")},_fitToSize:function(){if(this.host.width(this.width),"auto"!=this.width&&(this._contentWrapper.css("width","100%"),this._contentWrapper.width(this.host.width()-2)),"auto"!==this.height){this.host.height(this.height);var a=this.host.height()-this._headerWrapper.outerHeight()-2;this._contentWrapper.height(a)}else this._contentWrapper.css("height","auto")},_maxHeightTab:function(){for(var a=this.length(),b=-1,c=-1;a;)a--,b<parseInt(this._titleList[a].outerHeight(!0))&&(c=a);return c},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&this._moveSelectionTrackerContainer.remove(),this._moveSelectionTrackerContainer=a('<div class="'+this.toThemeProperty("jqx-tabs-selection-tracker-container")+'">');var b=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position);this._selectionTracker=a('<div class="'+b+'">'),this._selectionTracker.css("color","inherit"),this._moveSelectionTrackerContainer.append(this._selectionTracker),this._headerWrapper.append(this._moveSelectionTrackerContainer),this._selectionTracker.css({position:"absolute","z-index":"10",left:"0px",top:"0px",display:"inline-block"})},_addContentWrapper:function(){var b="none",c=void 0==this._contentWrapper;this._contentWrapper=this._contentWrapper||a('<div class="'+this.toThemeProperty("jqx-tabs-content")+'" style="float:'+b+';">'),this._contentWrapper.addClass(this.toThemeProperty("jqx-widget-content"));for(var d=this.length();d;)d--,this._contentList[d].addClass(this.toThemeProperty("jqx-tabs-content-element"));c&&(this.host.find(".jqx-tabs-content-element").wrapAll(this._contentWrapper),this._contentWrapper=this.host.find(".jqx-tabs-content")),this.roundedCorners&&("top"==this.position?this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-b")):this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))},_addHeaderWrappers:function(){var b=this.length();for(this._unorderedList.remove(),this._headerWrapper=this._headerWrapper||a('<div class="jqx-tabs-headerWrapper" style="outline: none;">'),this._headerWrapper.remove(),"top"==this.position?this._headerWrapper.prependTo(this.host):this._headerWrapper.appendTo(this.host),this._unorderedList.appendTo(this._headerWrapper),this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header")),this._headerWrapper.addClass(this.toThemeProperty("jqx-widget-header")),"bottom"==this.position?this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-bottom")):this._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-bottom")),this.roundedCorners&&("top"==this.position?(this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-b"))):(this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-b"))));b;){if(b--,this._titleList[b].children(".jqx-tabs-titleWrapper").length<=0){var c=a('<div class="jqx-tabs-titleWrapper" style="outline: none; position: relative;">');c.append(this._titleList[b].html()),this._titleList[b].empty(),c.appendTo(this._titleList[b])}this._titleList[b].children(".jqx-tabs-titleWrapper").css("z-index","15")}},_render:function(){this._addCloseButtons(),this._addHeaderWrappers(),this._addContentWrapper(),this.selectionTracker&&this._addSelectionTracker(),this._addArrows()},_addCloseButton:function(b){var c=b;if(this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).length<=0&&this._titleList[c].find(".jqx-tabs-titleContentWrapper").length<=0){var d=a('<div class="jqx-tabs-titleContentWrapper"></div>');d.css("float","left"),d.addClass("jqx-disableselect"),d.append(this._titleList[c].html()),this._titleList[c].html("");var e=a('<div class="'+this.toThemeProperty("jqx-tabs-close-button")+'"></div>');e.css({height:this.closeButtonSize,width:this.closeButtonSize,"float":"left","font-size":"1px"}),this._titleList[c].append(d),this._titleList[c].append(e),this.showCloseButtons?this.hiddenCloseButtons&&1==this.hiddenCloseButtons[b]&&e.css("display","none"):e.css("display","none")}},_addCloseButtons:function(){for(var a=this.length();a;)a--,this._addCloseButton(a)},_prepareTabs:function(){var a=this.length(),b=this.selectionTracker;for(this.selectionTracker=!1;a;)a--,this._selectedItem!==a&&this._unselect(a,null,!1);this._select(this._selectedItem,0,null,!1),this.selectionTracker=b,this.initTabContent&&(this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0))},_isValidIndex:function(a){return a>=0&&a<this.length()},_removeSelectStyle:function(){for(var a=this.length();a;){a--;var b=null;if(this.showCloseButtons){var b=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));b.removeClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}"top"==this.position?this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-selected-top")):this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-selected-bottom")),this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},_addSelectStyle:function(a,b){if(this.length(),this._removeSelectStyle(),(!this.selectionTracker||void 0!=b&&b)&&a>=0&&void 0!=this._titleList[a]){var c=null;if(this.showCloseButtons){var c=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.hiddenCloseButtons&&1==this.hiddenCloseButtons[a]&&(c=null)}this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-hover")),"top"==this.position?(this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-hover-top")),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-selected-top"))):(this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-hover-bottom")),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"))),this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-pressed")),null!=c&&c.addClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}},_addItemTo:function(a,b,c){if(b<a.length){for(var d=void 0,e=void 0,f=b;f+1<a.length;f++)void 0===d?(d=a[f+1],a[f+1]=a[f]):(e=a[f+1],a[f+1]=d,d=e);void 0===d&&(d=a[b]),a[b]=c,a.push(d)}else a.push(c)},_select:function(a,b,c,d,e){if(!this._tabCaptured){this.host.attr("hideFocus","true");var f=this;if(void 0==e?this._addSelectStyle(a):this._addSelectStyle(a,e),this.isCollapsed&&this.collapsible)return this._contentList[a].css("display","none"),this._selectCallback(a,c,d),void 0;switch(this.animationType){case"none":if(f.selectionTracker)setTimeout(function(){f._contentList[a].css("display","block")},this.selectionTrackerAnimationDuration);else{for(var g=0;g<this._contentList.length;g++)a!=g&&"block"==this._contentList[g].css("display")&&this._contentList[g].css("display","none");this._contentList[a].css("display","block")}this._selectCallback(a,c,d);break;case"fade":this._lockAnimation("contentListSelect"),f._selectCallback(a,c,d),this._contentList[a].fadeIn(b,function(){f._unlockAnimation("contentListSelect")})}}},_selectCallback:function(a,b,c){this._selectedItem=a,this.selectedItem=this._selectedItem,b&&b(),c&&this._raiseEvent(1,{item:a})},_unselect:function(a,b,c){if(a>=0&&!this._tabCaptured){var d=this;this._contentList[a].stop(),"fade"==this.animationType?this._contentList[a].css("display","none"):this.selectionTracker?setTimeout(function(){d._contentList[a].css("display","none")},this.selectionTrackerAnimationDuration):this._contentList[a].css("display","none"),this._unselectCallback(a,b,c),this.selectionTracker||(this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-selected")),this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-pressed")))}},_unselectCallback:function(a,b,c){c&&this._raiseEvent(8,{item:a}),b&&b()},disable:function(){for(var a=this.length();a;)a--,this.disableAt(a)},enable:function(){for(var a=this.length();a;)a--,this.enableAt(a)},getEnabledTabsCount:function(){var b=0;return a.each(this._titleList,function(){this.disabled||b++}),b},getDisabledTabsCount:function(){var b=0;return a.each(this._titleList,function(){this.disabled&&b++}),b},removeAt:function(a){if(this._isValidIndex(a)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates();var b=this,c=(this._titleList[this._selectedItem],parseInt(this._titleList[a].outerWidth(!0))),d=this.getTitleAt(a);if(this._unorderedList.width(parseInt(this._unorderedList.width())-c),this._titleList[a].remove(),this._contentList[a].remove(),this._titleList.splice(a,1),this._contentList.splice(a,1),this._addStyles(),this._performHeaderLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._raiseEvent(3,{item:a,title:d}),this._isAnimated={},this.selectedItem>0){this._selectedItem=-1;var e=this._getPreviousIndex(this.selectedItem);this.select(e)}else{this._selectedItem=-1;var e=this._getNextIndex(this.selectedItem);this.select(e)}if(parseInt(this._unorderedList.css("left"))>this._getArrowsDisplacement()&&this._unorderedList.css("left",this._getArrowsDisplacement()),parseInt(this._unorderedList.width())<=parseInt(this._headerWrapper.width())){var f=this.enableScrollAnimation?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList"),this._unorderedList.animate({left:0},f,function(){b._unlockAnimation("unorderedList")})}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(a){if(!this._titleList[a].disabled||void 0===this._titleList[a].disabled){if(this.selectedItem==a){var b=this.next();b||(b=this.previous())}this._titleList[a].disabled=!0,this.removeHandler(this._titleList[a],this.toggleMode),this.enabledHover&&this._titleList[a].unbind("mouseenter").unbind("mouseleave"),this._removeEventListenerAt(a),this._raiseEvent(5,{item:a})}},enableAt:function(a){this._titleList[a].disabled&&(this._titleList[a].disabled=!1,this._addEventListenerAt(a),this._raiseEvent(4,{item:a}))},addAt:function(b,c,d){if(b>=0||b<=this.length()){this._removeHoverStates();var e=a("<li>"+c+"</li>"),f=a("<div>"+d+"</div>");e.addClass(this.toThemeProperty("jqx-tabs-title")),e.addClass(this.toThemeProperty("jqx-item")),f.addClass(this.toThemeProperty("jqx-tabs-content-element")),"bottom"==this.position&&e.addClass(this.toThemeProperty("jqx-tabs-title-bottom"));var g=!1;0==this._titleList.length?this._unorderedList.append(e):b<this.length()&&b>=0?this._titleList[b].before(e):this._titleList[this.length()-1].after(e),f.appendTo(this._contentWrapper),this._addItemTo(this._titleList,b,e),this._addItemTo(this._contentList,b,f),this._selectedItem>b&&this._selectedItem++,this._switchTabs(b,this._selectedItem),this._selectedItem=b,this.showCloseButtons&&this._titleList.length>0&&this._addCloseButton(b),this._uiRefresh(g),this._raiseEvent(2,{item:b}),this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(a,b){this.addAt(0,a,b)},addLast:function(a,b){this.addAt(this.length(),a,b)},select:function(a){"object"==typeof a&&(a=this._indexOf(a));var b=a>=0&&a<this._titleList.length?this._titleList[a].attr("canselect"):!0;if((void 0==b||"true"==b||1==b)&&a!==this._selectedItem&&this._isValidIndex(a)&&!this._activeAnimation()&&!this._titleList[a].disabled){var c=this._switchTabs(a,this._selectedItem);c&&this.ensureVisible(a)}},previous:function(a){var b=this._selectedItem;for(void 0==a||isNaN(a)||(b=a);b>0&&b<this._titleList.length;)if(b--,!this._titleList[b].disabled)return this.select(b),!0;return!1},_getPreviousIndex:function(a){if(void 0==a||isNaN(a))return 0;for(var b=a;a>0&&a<=this._titleList.length;)if(a--,!this._titleList[a].disabled)return a;return b},_getNextIndex:function(a){if(void 0==a||isNaN(a))return 0;for(var b=a;a>=0&&a<this._titleList.length;){if(!this._titleList[a].disabled)return a;a++}return b},next:function(a){var b=this._selectedItem;for(void 0==a||isNaN(a)||(b=a);b>=0&&b<this._titleList.length-1;)if(b++,!this._titleList[b].disabled)return this.select(b),!0;return!1},first:function(){var a=0;this._titleList[a].disabled?this.next(a):this.select(a)},last:function(){var a=this._titleList.length-1;this._titleList[a].disabled?this.previous(a):this.select(a)},length:function(){return this._titleList.length},lockAt:function(a){!this._isValidIndex(a)||this._titleList[a].locked&&void 0!==this._titleList[a].locked||(this._titleList[a].locked=!0,this._raiseEvent(11,{item:a}))},unlockAt:function(a){this._isValidIndex(a)&&this._titleList[a].locked&&(this._titleList[a].locked=!1,this._raiseEvent(12,{item:a}))},lockAll:function(){for(var a=this.length();a;)a--,this.lockAt(a)},unlockAll:function(){for(var a=this.length();a;)a--,this.unlockAt(a)},showCloseButtonAt:function(a){if(this._isValidIndex(a)){this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader());var b=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0));b.css("display","block"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[a]=0}},hideCloseButtonAt:function(a){if(this._isValidIndex(a)){var b=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0));b.css("display","none"),this.hiddenCloseButtons||(this.hiddenCloseButtons=new Array),this.hiddenCloseButtons[a]=1}},hideAllCloseButtons:function(){for(var a=this.length();a;)a--,this.hideCloseButtonAt(a)},showAllCloseButtons:function(){for(var a=this.length();a;)a--,this.showCloseButtonAt(a)},getTitleAt:function(a){return this._titleList[a]?this._titleList[a].text():null},getContentAt:function(a){return this._contentList[a]?this._contentList[a].text():null},setTitleAt:function(a,b){this._titleList[a]&&(this._titleList[a].text(b),this.showCloseButtons&&(this._addCloseButton(a),this._removeEventHandlers(),this._addEventHandlers()))},setContentAt:function(a,b){this._contentList[a]&&this._contentList[a].html(b)},ensureVisible:function(a){var b=this;if((void 0==a||-1==a||null==a)&&(a=this.selectedItem),!this._isValidIndex(a))return!1;var c,d,e=parseInt(this._titleList[a].position().left)+parseInt(this._unorderedList.css("margin-left")),f=parseInt(this._unorderedList.css("left")),g=parseInt(this._headerWrapper.outerWidth(!0)),h=parseInt(this._titleList[a].outerWidth(!0)),i=f-this._getArrowsDisplacement(),j=g-this._getArrowsDisplacement()-i;
if(-i>e)c=-e+this._getArrowsDisplacement(),d=this._getArrowsDisplacement();else{if(!(e+h>j-this._getArrowsDisplacement()))return this._moveSelectionTrack(a,this.selectionTrackerAnimationDuration),!0;c=-e+g-h-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),d=g-h-this._getArrowsDisplacement()}return this._lockAnimation("unorderedList"),this._unorderedList.animate({left:c},this.scrollAnimationDuration,function(){return b._unlockAnimation("unorderedList"),b._moveSelectionTrack(b._selectedItem,0),!0}),this._moveSelectionTrack(a,this.selectionTrackerAnimationDuration,d),!0},isVisibleAt:function(a){if((void 0==a||-1==a||null==a)&&(a=this.selectedItem),!this._isValidIndex(a))return!1;var b=parseInt(this._titleList[a].position().left)+parseInt(this._unorderedList.css("margin-left")),c=parseInt(this._unorderedList.css("left")),d=parseInt(this._headerWrapper.outerWidth(!0)),e=parseInt(this._titleList[a].outerWidth(!0)),f=c-this._getArrowsDisplacement(),g=d-this._getArrowsDisplacement()-f;return-f>b?!1:b+e>g?!1:!0},isDisabled:function(a){return this._titleList[a].disabled},_lockAnimation:function(a){this._isAnimated&&(this._isAnimated[a]=!0)},_unlockAnimation:function(a){this._isAnimated&&(this._isAnimated[a]=!1)},propertyChangedHandler:function(b,c,d,e){switch(this._validateProperties(),c){case"touchMode":e&&(b.enabledHover=!1,b.keyboardNavigation=!1);break;case"width":case"height":return b._performResize(),void 0;case"disabled":return e?this.disable():this.enable(),void 0;case"showCloseButtons":return e?this.showAllCloseButtons():this.hideAllCloseButtons(),this._moveSelectionTrack(this._selectedItem,this.selectionTrackerAnimationDuration),void 0;case"selectedItem":return this._isValidIndex(e)&&this.select(e),void 0;case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":case"enableDropAnimation":return;case"selectionTracker":return e?(this._refresh(),this.select(this._selectedItem)):null!=this._selectionTracker&&this._selectionTracker.remove(),void 0;case"scrollable":return e?(this._refresh(),this.select(this._selectedItem)):(this._leftArrow.remove(),this._rightArrow.remove(),this._performHeaderLayout()),void 0;case"autoHeight":return this._performHeaderLayout(),void 0;case"theme":return a.jqx.utilities.setTheme(d,e,this.host),void 0}this._unorderedList.css("left","0px"),this._refresh(),this.select(this._selectedItem),this._addSelectStyle(this._selectedItem,!0)}})}(jQuery),function(a){a.jqx.jqxWidget("jqxChart","",{}),a.extend(a.jqx._jqxChart.prototype,{createInstance:function(){if(!a.jqx.dataAdapter)throw"jqxdata.js is not loaded";this._refreshOnDownloadComlete();var b=this;if(this.host.bind("mousemove",function(a){if(0!=this.enabled){a.preventDefault();var c=a.pageX||a.clientX||a.screenX,d=a.pageY||a.clientY||a.screenY,e=b.host.offset();c-=e.left,d-=e.top,b.onmousemove(c,d)}}),this.element.style){var c=!1;null!=this.element.style.width&&(c|=-1!=this.element.style.width.toString().indexOf("%")),null!=this.element.style.height&&(c|=-1!=this.element.style.height.toString().indexOf("%")),c&&a(window).resize(function(){b.timer&&clearTimeout(b.timer);var c=a.jqx.browser.msie?200:1;b.timer=setTimeout(function(){var a=b.enableAnimations;b.enableAnimations=!1,b.refresh(),b.enableAnimations=a},c)})}},_refreshOnDownloadComlete:function(){if(this.source instanceof a.jqx.dataAdapter){var b=this,c=this.source._options;if((void 0==c||void 0!=c&&!c.autoBind)&&(this.source.autoSync=!1,this.source.dataBind()),0==this.source.records.length){var d=function(){b.ready&&b.ready(),b.refresh()};this.source.unbindDownloadComplete(this.element.id),this.source.bindDownloadComplete(this.element.id,d)}else b.ready&&b.ready();this.source.unbindBindingUpdate(this.element.id),this.source.bindBindingUpdate(this.element.id,function(){b.refresh()})}},defineInstance:function(){this.source=new Array,this.seriesGroups=new Array,this.categoryAxis={}},propertyChangedHandler:function(a,b){void 0!=this.isInitialized&&0!=this.isInitialized&&("source"==b&&this._refreshOnDownloadComlete(),this.refresh())},_internalRefresh:function(){this._stopAnimations(),this.host.empty(),this._renderData=new Array;var b=null;if(!document.createElementNS||"SVG"!=this.renderEngine&&void 0!=this.renderEngine||(b=new a.jqx.svgRenderer,b.init(this.host))){if(null==b&&"HTML5"!=this.renderEngine){if(b=new a.jqx.vmlRenderer,!b.init(this.host)){if("VML"==this.renderEngine)throw"Your browser does not support VML";return}this._isVML=!0}if(null==b&&("HTML5"==this.renderEngine||void 0==this.renderEngine)&&(b=new a.jqx.HTML5Renderer,!b.init(this.host)))throw"Your browser does not support HTML5 Canvas";this.renderer=b;var c=this.renderer.getRect();this._render({x:1,y:1,width:c.width,height:c.height}),this.renderer instanceof a.jqx.HTML5Renderer&&this.renderer.refresh()}else if("SVG"==this.renderEngine)throw"Your browser does not support SVG"},saveAsPNG:function(a,b){return this._saveAsImage("png",a,b)},saveAsJPEG:function(a,b){return this._saveAsImage("jpeg",a,b)},_saveAsImage:function(a,b,c){(void 0==b||""==b)&&(b="chart."+a),(void 0==c||""==c)&&(c="http://www.jqwidgets.com/export_server/export.php");var d=this.rendererEngine,e=this.enableAnimations;if(this.enableAnimations=!1,this.renderEngine="HTML5",this.renderEngine!=d)try{this.refresh()}catch(f){this.renderEngine=d,this.refresh(),this.enableAnimations=e}try{var g=this.renderer.getContainer()[0];if(g){var h=g.toDataURL("image/"+a);h=h.replace("data:image/"+a+";base64,","");var i=document.createElement("form");i.method="POST",i.action=c,i.style.display="none",document.body.appendChild(i);var j=document.createElement("input");j.name="fname",j.value=b,j.style.display="none";var k=document.createElement("input");k.name="content",k.value=h,k.style.display="none",i.appendChild(j),i.appendChild(k),i.submit(),document.body.removeChild(i)}}catch(f){}return this.renderEngine!=d&&(this.renderEngine=d,this.refresh(),this.enableAnimations=e),!0},refresh:function(){this._internalRefresh()},_seriesTypes:["line","stackedline","stackedline100","spline","stackedspline","stackedspline100","stepline","stackedstepline","stackedstepline100","area","stackedarea","stackedarea100","splinearea","stackedsplinearea","stackedsplinearea100","steparea","stackedsteparea","stackedsteparea100","column","stackedcolumn","stackedcolumn100","pie","donut","scatter","bubble"],_render:function(b){this.renderer.clear();var c=this.backgroundImage;void 0==c||""==c?this.host.css({"background-image":""}):this.host.css({"background-image":-1!=c.indexOf("(")?c:"url('"+c+"')"}),this._buildStats();var d=this.padding||{left:5,top:5,right:5,bottom:5},e=this.renderer.rect(b.x,b.y,b.width-1,b.height-1),f=this.renderer.beginGroup(),g=this.renderer.createClipRect(b);if(this.renderer.setClip(f,g),void 0==c||""==c?this.renderer.attr(e,{fill:this.background||this.backgroundColor||"white"}):this.renderer.attr(e,{fill:"transparent"}),0!=this.showBorderLine){var h=void 0==this.borderLineColor?this.borderColor:this.borderLineColor;void 0==h&&(h="#888888");var i=this.borderLineWidth;(isNaN(i)||.5>i||i>10)&&(i=1),this.renderer.attr(e,{"stroke-width":i,stroke:h})}var j={x:d.left,y:d.top,width:b.width-d.left-d.right,height:b.height-d.top-d.bottom};this._paddedRect=j;var k=this.titlePadding||{left:2,top:2,right:2,bottom:2};if(this.title&&this.title.length>0){var l=this.toThemeProperty("jqx-chart-title-text",null),m=this.renderer.measureText(this.title,0,{"class":l});this.renderer.text(this.title,j.x+k.left,j.y+k.top,j.width-(k.left+k.right),m.height,0,{"class":l},!0,"center","center"),j.y+=m.height,j.height-=m.height}if(this.description&&this.description.length>0){var n=this.toThemeProperty("jqx-chart-title-description",null),m=this.renderer.measureText(this.description,0,{"class":n});this.renderer.text(this.description,j.x+k.left,j.y+k.top,j.width-(k.left+k.right),m.height,0,{"class":n},!0,"center","center"),j.y+=m.height,j.height-=m.height}(this.title||this.description)&&(j.y+=k.bottom+k.top,j.height-=k.bottom+k.top);for(var o={x:j.x,y:j.y,width:j.width,height:j.height},p=this._isPieOnlySeries(),q={},r=0;r<this.seriesGroups.length&&!p;r++)if("pie"!=this.seriesGroups[r].type&&"donut"!=this.seriesGroups[r].type){var s="horizontal"==this.seriesGroups[r].orientation,t=this.seriesGroups[r].valueAxis;if(!t)throw"seriesGroup["+r+"] is missing "+(s?"categoryAxis":"valueAxis")+" definition";var u=this._getCategoryAxis(r);if(!u)throw"seriesGroup["+r+"] is missing "+(s?"valueAxis":"categoryAxis")+" definition";var v=u==this.categoryAxis?-1:r;q[v]=0}for(var w=0,x=[],r=0;r<this.seriesGroups.length;r++)if("pie"!=this.seriesGroups[r].type&&"donut"!=this.seriesGroups[r].type){var s="horizontal"==this.seriesGroups[r].orientation,v=this._getCategoryAxis(r)==this.categoryAxis?-1:r,y=t.axisSize,z={x:0,y:o.y,width:o.width,height:o.height};y&&"auto"!=y||(s?(y=this._renderCategoryAxis(r,z,!0,o).width,1==(1&q[v])?y=0:q[v]|=1):y=this._renderValueAxis(r,z,!0,o).width),r>0&&y>0&&(w+=5),x.push(y),w+=y}else x.push(0);for(var A=0,B=[],r=0;r<this.seriesGroups.length;r++)if("pie"!=this.seriesGroups[r].type&&"donut"!=this.seriesGroups[r].type){var s="horizontal"==this.seriesGroups[r].orientation,u=this._getCategoryAxis(r),v=u==this.categoryAxis?-1:r,C=u.axisSize;C&&"auto"!=C||(s?C=this._renderValueAxis(r,{x:0,y:0,width:1e7,height:0},!0,o).height:(C=this._renderCategoryAxis(r,{x:0,y:0,width:1e7,height:0},!0).height,2==(2&q[v])?C=0:q[v]|=2)),B.push(C+5),A+=C+5}else B.push(0);this._plotRect=o;var D=0!=this.showLegend,E=!D||this.legendLayout?{width:0,height:0}:this._renderLegend(j,!0);if(!(j.height<A+E.height||j.width<w)){if(o.height-=A+E.height,o.x+=w,o.width-=w,!p){if(this.categoryAxis.tickMarksColor||"#888888",0==w)var F=a.jqx._ptrnd(o.x);for(var C=0,r=0;r<this.seriesGroups.length;r++){var s="horizontal"==this.seriesGroups[r].orientation,v=this._getCategoryAxis(r)==this.categoryAxis?-1:r,z={x:o.x,y:o.y+o.height+C,width:o.width,height:B[r]-5};if(s)this._renderValueAxis(r,z,!1,o);else{if(4==(4&q[v]))continue;this._renderCategoryAxis(r,z,!1,o),q[v]|=4}C+=B[r]}}if(D){var F=o.x+a.jqx._ptrnd((o.width-E.width)/2),G=o.y+o.height+A,y=o.width,C=E.height;this.legendLayout&&(F=this.legendLayout.left||F,G=this.legendLayout.top||G,y=this.legendLayout.width||y,C=this.legendLayout.height||C),F+y>j.x+j.width&&(y=j.x+j.width-F),G+C>j.y+j.height&&(C=j.y+j.height-G),this._renderLegend({x:F,y:G,width:y,height:C})}if(this._hasHorizontalLines=!1,!p)for(var H=o.x-w,r=0;r<this.seriesGroups.length;r++){var s="horizontal"==this.seriesGroups[r].orientation,y=x[r];r>0&&y>0&&(H+=5);var z={x:H,y:o.y,width:y,height:o.height};if(s){if(8==(8&q[this._getCategoryAxis(r)]))continue;this._renderCategoryAxis(r,z,!1,o),q[this._getCategoryAxis(r)]|=8}else this._renderValueAxis(r,z,!1,o);H+=y}if(!(o.width<=0||o.height<=0)){this._plotRect={x:o.x,y:o.y,width:o.width,height:o.height};var I=this.renderer.beginGroup(),J=this.renderer.createClipRect({x:o.x,y:o.y,width:o.width,height:o.height});this.renderer.setClip(I,J),this._createAnimationGroup("series");for(var r=0;r<this.seriesGroups.length;r++){var K=this.seriesGroups[r],L=!1;for(var M in this._seriesTypes)if(this._seriesTypes[M]==K.type){L=!0;break}if(!L)throw'jqxChart: invalid series type "'+K.type+'"';-1!=K.type.indexOf("column")?this._renderColumnSeries(r,o):-1!=K.type.indexOf("pie")||-1!=K.type.indexOf("donut")?this._renderPieSeries(r,o):-1!=K.type.indexOf("line")||-1!=K.type.indexOf("area")?this._renderLineSeries(r,o):("scatter"==K.type||"bubble"==K.type)&&this._renderScatterSeries(r,o)}if(this._startAnimation("series"),this.renderer.endGroup(),0==this.enabled){var N=this.renderer.rect(b.x,b.y,b.width,b.height);this.renderer.attr(N,{fill:"#777777",opacity:.5,stroke:"#00FFFFFF"})}this.renderer.endGroup()}}},_isPieOnlySeries:function(){if(0==this.seriesGroups.length)return!1;for(var a=0;a<this.seriesGroups.length;a++)if("pie"!=this.seriesGroups[a].type&&"donut"!=this.seriesGroups[a].type)return!1;return!0},_renderChartLegend:function(b,c,d,e){for(var f={x:c.x+3,y:c.y+3,width:c.width-6,height:c.height-6},g={width:f.width,height:0},h=0,i=0,j=20,k=0,l=10,m=10,n=0,o=0;o<b.length;o++){var p=b[o].css;p||(p=this.toThemeProperty("jqx-chart-legend-text",null));var q=b[o].text,r=this.renderer.measureText(q,0,{"class":p});if(r.height>j&&(j=r.height),r.width>n&&(n=r.width),e?(0!=o&&(i+=j),i>f.height&&(i=0,h+=n+m,n=r.width,g.width=h+n)):(0!=h&&(h+=m),h+2*l+r.width>f.width&&r.width<f.width&&(h=0,i+=j,j=20,k=f.width,g.heigh=i+j)),!d){var s=b[o].color,t=this.renderer.rect(f.x+h,f.y+i+l/2,l,l);this.renderer.attr(t,{fill:s,stroke:s,"stroke-width":1}),this.renderer.text(q,f.x+h+1.5*l,f.y+i,r.width,j,0,{"class":p},!1,"center","center")}e||(h+=r.width+2*l,h>k&&(k=h))}return d?(g.height=a.jqx._ptrnd(i+j),g.width=a.jqx._ptrnd(k),g):void 0},_renderLegend:function(a,b){for(var c=[],d=0;d<this.seriesGroups.length;d++){var e=this.seriesGroups[d];if(0!=e.showLegend)for(var f=this._getCategoryAxis(d),g=f.toolTipFormatSettings||f.formatSettings,h=f.toolTipFormatFunction||f.formatFunction,i=0;i<e.series.length;i++){var j=e.series[i];if(0!=j.showLegend)if("pie"!=e.type&&"donut"!=e.type){var k=j.displayText||j.dataField||"",l=this._getSeriesColor(d,i);c.push({groupIndex:d,seriesIndex:i,text:k,css:j.displayTextClass,color:l})}else for(var m=j.colorScheme||e.colorScheme||this.colorScheme,n=this._getDataLen(d),o=0;n>o;o++){var p=this._getDataValue(o,j.displayText,d);p=this._formatValue(p,g,h);var l=this._getColor(m,i*n+o,d,i);c.push({groupIndex:d,seriesIndex:i,itemIndex:o,text:p,css:j.displayTextClass,color:l})}}}return this._renderChartLegend(c,a,b,this.legendLayout&&"vertical"==this.legendLayout.flow)},_renderCategoryAxis:function(a,b,c,d){var e=this._getCategoryAxis(a),f="horizontal"==this.seriesGroups[a].orientation,g={width:0,height:0};if(!e||0==e.visible)return g;var h=e.text,i={visible:0!=e.showGridLines,color:e.gridLinesColor||"#888888",unitInterval:e.gridLinesInterval||e.unitInterval},j={visible:0!=e.showTickMarks,color:e.tickMarksColor||"#888888",unitInterval:e.tickMarksInterval||e.unitInterval},k=e.textRotationAngle||0,l=b;f&&(l={x:b.x,y:b.y,width:b.height,height:b.width});var m=this._calculateXOffsets(a,l),n=e.unitInterval;isNaN(n)&&(n=1);var o=e.horizontalTextAlignment,p=this._alignValuesWithTicks(a),q=this.renderer.getRect();q.width-b.x-b.width,this._getDataLen(a);var r=[];if("date"!=e.type)for(var s=0!=m.customRange,t=n,u=m.min;u<=m.max;u+=t){if(s||void 0==e.dataField||""==e.dataField)value=u;else{var v=Math.round(u);value=this._getDataValue(v,e.dataField)}var h=this._formatValue(value,e.formatSettings,e.formatFunction);if(void 0==h&&(h=s?u.toString():value.toString()),r.push(h),u+t>m.max&&(t=m.max-u,n/2>=t))break}else for(var w=this._getDatesArray(m.min,m.max,e.baseUnit,p),u=0;u<w.length;u+=n)r.push(this._formatValue(w[u],e.formatSettings,e.formatFunction));1==e.flip&&r.reverse();var x=e.descriptionClass;x||(x=this.toThemeProperty("jqx-chart-axis-description",null));var y=e["class"];y||(y=this.toThemeProperty("jqx-chart-axis-text",null)),f&&(k-=90);var z={text:e.description,style:x,halign:e.horizontalDescriptionAlignment||"center",valign:e.verticalDescriptionAlignment||"center",textRotationAngle:f?-90:0},A={textRotationAngle:k,style:y,halign:o,valign:e.verticalTextAlignment||"center"};return this._renderAxis(f,z,A,{x:b.x,y:b.y,width:b.width,height:b.height},d,n,!1,p,r,m,i,j,c)},_renderAxis:function(b,c,d,e,f,g,h,i,j,k,l,m,n){var o=m.visible?4:0,p=2,q={width:0,height:0},r={width:0,height:0};if(b?q.height=r.height=e.height:q.width=r.width=e.width,void 0!=c.text&&""!=c){var s=c.textRotationAngle,t=this.renderer.measureText(c.text,s,{"class":c.style});r.width=t.width,r.height=t.height,n||this.renderer.text(c.text,e.x+(b?p:0),e.y+(b?0:e.height-p-r.height),b?r.width:e.width,b?e.height:r.height,s,{"class":c.style},!0,c.halign,c.valign)}var u=0,v=i?-k.itemWidth/2:0;i&&!b&&(d.halign="center");for(var w=0,x=0,y=k.itemWidth,z=0;z<j.length;z++,u+=y){var A=j[z],B=d.textRotationAngle,t=this.renderer.measureText(A,B,{"class":d.style});if(t.width>x&&(x=t.width),t.height>w&&(w=t.height),!n&&(!t||!b&&u+t.width+v<e.x+e.width||b&&u+t.height+v<f.y+f.height)){var C=e.x+u+v,D=e.y+(i?o:o/4);b&&(C=e.x+p+(r.width>0?r.width+p:0),D=e.y+u+v),(!h||h&&0==z%g)&&this.renderer.text(A,C,D,b?e.width-2*p-o-(r.width>0?r.width+p:0):y,b?y:e.height-2*p-o-(r.height>0?r.height+p:0),B,{"class":d.style},!0,d.halign,d.valign)}}q.width+=2*p+o+r.width+x+(b&&r.width>0?p:0),q.height+=2*p+o+r.height+w+(!b&&r.height>0?p:0);var E={};if(!n){var D=a.jqx._ptrnd(e.y);b?this.renderer.line(a.jqx._ptrnd(e.x+e.width),e.y,a.jqx._ptrnd(e.x+e.width),e.y+e.height,{stroke:l.color,"stroke-width":1}):this.renderer.line(a.jqx._ptrnd(e.x),D,a.jqx._ptrnd(e.x+e.width+1),D,{stroke:l.color,"stroke-width":1})}if(!n&&0!=l.visible){var F=l.unitInterval;(isNaN(F)||0>=F)&&(F=g);for(var G=h?j.length:k.rangeLength,H=h?1:F,I=h?y:(b?e.height:e.width)/k.rangeLength,z=0;G>=z;)if(h&&0!=z%F)z+=H;else{var J=0;if(b){if(J=a.jqx._ptrnd(e.y+z*I),J>e.y+e.height)break}else if(J=a.jqx._ptrnd(e.x+z*I),J>e.x+e.width)break;b?this.renderer.line(a.jqx._ptrnd(f.x),J,a.jqx._ptrnd(f.x+f.width),J,{stroke:l.color,"stroke-width":1}):this.renderer.line(J,a.jqx._ptrnd(f.y),J,a.jqx._ptrnd(f.y+f.height),{stroke:l.color,"stroke-width":1}),E[J]=!0,z+=H,z>G&&z!=G+H&&(z=G)}}if(!n&&m.visible){var K=m.unitInterval;(isNaN(K)||0>=K)&&(K=g);for(var G=h?j.length:k.rangeLength+K,H=h?1:K,I=h?y:(b?e.height:e.width)/k.rangeLength,z=0;G>=z;z+=H)if(!h||0==z%K/g){var J=a.jqx._ptrnd((b?e.y:e.x)+z*I);if(E[J-1]?J--:E[J+1]&&J++,b){if(J>e.y+e.height)break}else if(J>e.x+e.width)break;b?this.renderer.line(e.x+e.width,J,e.x+e.width-o,J,{stroke:l.color,"stroke-width":1}):this.renderer.line(J,e.y,J,e.y+o,{stroke:l.color,"stroke-width":1})}}return q.width=a.jqx._rup(q.width),q.height=a.jqx._rup(q.height),q},_renderValueAxis:function(a,b,c,d){var e=this.seriesGroups[a],f="horizontal"==e.orientation,g=e.valueAxis;if(!g)throw"SeriesGroup "+a+" is missing valueAxis definition";var h={width:0,height:0};if(this._isPieOnlySeries()){if(c)return h}else{var i=this._stats.seriesGroups[a];if(i&&i.isValid&&0!=g.displayValueAxis&&0!=g.visible){var j=g.descriptionClass;j||(j=this.toThemeProperty("jqx-chart-axis-description",null));var k={text:g.description,style:j,halign:g.horizontalDescriptionAlignment||"center",valign:g.verticalDescriptionAlignment||"center",textRotationAngle:f?0:-90},l=g.itemsClass;l||(l=this.toThemeProperty("jqx-chart-axis-text",null));var m={style:l,halign:g.horizontalTextAlignment||"center",valign:g.verticalTextAlignment||"center",textRotationAngle:g.textRotationAngle||0},n=0!=g.valuesOnTicks;g.dataField;var o=i.intervals,p=i.min,q=i.mu,r=g.formatSettings,s=-1!=e.type.indexOf("stacked")&&-1!=e.type.indexOf("100");s&&!r&&(r={sufix:"%"}),n||(o=Math.max(o-1,1));var t=1==g.logarithmicScale,u=g.logarithmicScaleBase||10;t&&(q=isNaN(g.unitInterval)?1:g.unitInterval);var v=(f?b.width:b.height)/o,w=b.y+b.height-v,x=[],y={};y.data=[],y.itemWidth=v;for(var z=0;o>=z;z++){var A=0;A=t?s?i.max/Math.pow(u,o-z):p*Math.pow(u,z):n?p+z*q:p+(z+.5)*q;var B=g.formatFunction?g.formatFunction(A):this._formatNumber(A,r);x.push(B),y.data.push(w+v/2),w-=v}y.rangeLength=t&&!s?i.intervals:i.intervals*q,1!=e.valueAxis.flip&&(y.data=y.data.reverse(),x=x.reverse());var C=g.gridLinesInterval||g.unitInterval;(isNaN(C)||t&&q>C)&&(C=q);var D={visible:0!=g.showGridLines,color:g.gridLinesColor||"#888888",unitInterval:C},E=g.tickMarksInterval||g.unitInterval;(isNaN(E)||t&&q>E)&&(E=q);var F={visible:0!=g.showTickMarks,color:g.tickMarksColor||"#888888",unitInterval:E};return this._renderAxis(!f,k,m,b,d,q,t,n,x,y,D,F,c)}if(c)return h}},_buildStats:function(){var b={seriesGroups:new Array};this._stats=b;for(var c=0;c<this.seriesGroups.length;c++){var d=this.seriesGroups[c];b.seriesGroups[c]={};var e=b.seriesGroups[c];e.isValid=!0;var f=void 0!=d.valueAxis,g=!1,h=10;f&&(g=1==d.valueAxis.logarithmicScale,h=d.valueAxis.logarithmicScaleBase,isNaN(h)&&(h=10));var i=-1!=d.type.indexOf("stacked"),j=i&&-1!=d.type.indexOf("100");j&&(e.psums=new Array,e.nsums=new Array);var k=0/0,l=0/0,m=0/0,n=0/0,o=d.baselineValue;isNaN(o)&&(o=g&&!j?1:0);for(var p=this._getDataLen(c),q=0,r=0/0,s=0;p>s&&e.isValid;s++){for(var t=f?d.valueAxis.minValue:1/0,u=f?d.valueAxis.maxValue:-1/0,v=0,w=0,x=0;x<d.series.length;x++){var y=this._getDataValueAsNumber(s,d.series[x].dataField,c);isNaN(y)||g&&0>=y||((isNaN(u)||y>u)&&(!f||isNaN(d.valueAxis.maxValue)?!0:y<=d.valueAxis.maxValue)&&(u=y),(isNaN(t)||t>y)&&(!f||isNaN(d.valueAxis.minValue)?!0:y>=d.valueAxis.minValue)&&(t=y),y>o?v+=y:o>y&&(w+=y))}if(g&&j)for(var x=0;x<d.series.length;x++){var y=this._getDataValueAsNumber(s,d.series[x].dataField,c);if(!(isNaN(y)||0>=y)){var z=0==v?0:y/v;(isNaN(r)||r>z)&&(r=z)}}var A=v-w;A>q&&(q=A),j&&(e.psums[s]=v,e.nsums[s]=w),(u>l||isNaN(l))&&(l=u),(k>t||isNaN(k))&&(k=t),(v>m||isNaN(m))&&(m=v),(n>w||isNaN(n))&&(n=w)}j&&(m=0==m?0:Math.max(m,-n),n=0==n?0:Math.min(n,-m));var B=f?d.valueAxis.unitInterval:0;B||(B=i?(m-n)/10:(l-k)/10);var C=0/0,D=0,E=0;if(g){if(j){C=0;var z=1;for(D=E=a.jqx.log(100,h);z>r;)z/=h,D--,C++;k=Math.pow(h,D)}else i&&(l=Math.max(l,m)),E=a.jqx._rnd(a.jqx.log(l,h),1,!0),l=Math.pow(h,E),D=a.jqx._rnd(a.jqx.log(k,h),1,!1),k=Math.pow(h,D);B=h}var F=f?d.valueAxis.tickMarksInterval||B:0,G=f?d.valueAxis.gridLinesInterval||B:0;n>k&&(n=k),l>m&&(m=l);var H=g?k:a.jqx._rnd(i?n:k,B,!1),I=g?l:a.jqx._rnd(i?m:l,B,!0);if(j&&I>100&&(I=100),j&&!g&&(I=I>0?100:0,H=0>H?-100:0,B=f?d.valueAxis.unitInterval:10,(isNaN(B)||0>=B||B>=100)&&(B=10),(0>=F||F>=100)&&(F=10),(0>=G||G>=100)&&(G=10)),!(isNaN(I)||isNaN(H)||isNaN(B)||(isNaN(C)&&(C=(I-H)/(0==B?1:B)),g&&!j&&(C=E-D,q=Math.pow(h,C)),1>C))){var J=I-H;e.rmax=i?m:l,e.rmin=i?n:k,e.min=H,e.max=I,e.minPow=D,e.maxPow=E,e.mu=B,e.maxRange=q,e.intervals=C,e.tickMarksInterval=F,e.tickMarksIntervals=0==F?0:J/F,e.gridLinesInterval=G,e.gridLinesIntervals=0==G?0:J/G,0==J&&(J=1),e.scale=i?(m-n)/J:(l-k)/J}}},_getDataLen:function(b){var c=this.source;return void 0!=b&&-1!=b&&this.seriesGroups[b].source&&(c=this.seriesGroups[b].source),c instanceof a.jqx.dataAdapter&&(c=c.records),c?c.length:0},_getDataValue:function(b,c,d){var e=this.source;return void 0!=d&&-1!=d&&(e=this.seriesGroups[d].source||e),e instanceof a.jqx.dataAdapter&&(e=e.records),!e||0>b||b>e.length-1?0/0:c&&""!=c?e[b][c]:e[b]},_getDataValueAsNumber:function(a,b,c){var d=this._getDataValue(a,b,c);return this._isDate(d)?d.valueOf():("number"!=typeof d&&(d=parseFloat(d)),"number"!=typeof d&&(d=void 0),d)},_renderPieSeries:function(b,c){for(var d=this._getDataLen(b),e=this.seriesGroups[b];this._renderData.length<b+1;)this._renderData.push(null);this._renderData[b]=[];for(var f=0;f<e.series.length;f++){var g=e.series[f];g.colorScheme||e.colorScheme||this.colorScheme;var h=g.initialAngle||0,i=h,j=g.radius||.4*Math.min(c.width,c.height);isNaN(j)&&(j=1);var k=g.innerRadius||0;(isNaN(k)||k>=j)&&(k=0);var l=g.centerOffset||0,m=a.jqx.getNum([g.offsetX,e.offsetX,c.width/2]),n=a.jqx.getNum([g.offsetY,e.offsetY,c.height/2]),o=this._getAnimProps(b,f),p=o.enabled&&5e3>d&&1!=this._isVML?o.duration:0;a.jqx.mobile.isMobileBrowser()&&this.renderer instanceof a.jqx.HTML5Renderer&&(p=0),this._renderData[b].push([]);for(var q=0,r=0,s=0;d>s;s++){var t=this._getDataValueAsNumber(s,g.dataField,b);"number"==typeof t&&(t>0?q+=t:r+=t)}var u=q-r;0==u&&(u=1);for(var s=0;d>s;s++){var t=this._getDataValueAsNumber(s,g.dataField,b);if("number"==typeof t){var v=Math.round(360*(Math.abs(t)/u));s+1==d&&(v=360+h-i);var w=c.x+m,x=c.y+n,y={x1:w,y1:x,innerRadius:k,outerRadius:j,key:b+"_"+f+"_"+s};this._renderData[b][f].push(y);var z=this.renderer.pieslice(w,x,k,j,i,0==p?i+v:i,l),A=l;a.isFunction(l)&&(A=l({seriesIndex:f,seriesGroupIndex:b,itemIndex:s})),isNaN(A)&&(A=0);var B={x:w,y:x,innerRadius:k,outerRadius:j,fromAngle:i,toAngle:i+v,centerOffset:A},C=this;this._enqueueAnimation("series",z,void 0,p,function(a,b,c){var d=b.fromAngle+c*(b.toAngle-b.fromAngle),e=C.renderer.pieSlicePath(b.x,b.y,b.innerRadius,b.outerRadius,b.fromAngle,d,b.centerOffset);C.renderer.attr(a,{d:e})},B);var D=this._getColors(b,f,s,"radialGradient",j);this.renderer.attr(z,{fill:D.fillColor,stroke:D.lineColor,"stroke-width":1});var E=i,F=i+v,G=Math.abs(E-F);G>360&&(E=0,F=360),2*E*Math.PI/360,2*F*Math.PI/360;var H=G/2+E,I=2*H*Math.PI/360,J=this._showLabel(b,f,s,{x:0,y:0,width:0,height:0},"left","top",!0),K=g.labelRadius||j+Math.max(J.width,J.height);K+=l;var w=a.jqx._ptrnd(c.x+m+K*Math.cos(I)-J.width/2),x=a.jqx._ptrnd(c.y+n-K*Math.sin(I)-J.height/2);this._showLabel(b,f,s,{x:w,y:x,width:J.width,height:J.height},"left","top"),this._installHandlers(z,b,f,s),i+=v}}}},_renderColumnSeries:function(a,b){var c=this.seriesGroups[a];if(c.series&&0!=c.series.length){var d=-1!=c.type.indexOf("stacked");d&&-1!=c.type.indexOf("100"),this._getDataLen(a);var e=c.columnsGapPercent;(isNaN(e)||0>e||e>100)&&(e=25);var f=c.seriesGapPercent;(isNaN(f)||0>f||f>100)&&(f=10);var g="horizontal"==c.orientation,h=b;g&&(h={x:b.y,y:b.x,width:b.height,height:b.width});var i=this._calcGroupOffsets(a,h);if(i&&0!=i.xoffsets.length)for(var j=0;j<c.series.length;j++){for(var k=c.series[j],l=k.dataField,m=this._getAnimProps(a,j),n=m.enabled&&i.xoffsets.length<100?m.duration:0,o=this._alignValuesWithTicks(a),p=[],q=i.xoffsets.first;q<=i.xoffsets.last;q++){var r=this._getDataValueAsNumber(q,l,a);if("number"==typeof r){var s=i.xoffsets.data[q];o&&(s-=i.xoffsets.itemWidth/2);var t=s+i.xoffsets.itemWidth,u=t-s+1,v=(t-s+1)/(1+e/100),w=!d&&c.series.length>1?v*f/100/(c.series.length-1):0,x=v-w*(c.series.length-1);1>v&&(v=1);var y=0;!d&&c.series.length>1&&(x/=c.series.length,y=j);var z=s+(u-v)/2+y*(w+x);y==c.series.length&&(x=u-s+v-z);var A=i.offsets[j][q].to,B=i.offsets[j][q].from;i.baseOffset;var C=B-A,D={x:b.x+z,y:Math.min(A,B),width:x,height:Math.abs(C)};g&&(D={height:x,y:b.y+z},D.x=B,D.width=Math.abs(C),C>0&&(D.x-=C)),p.push({itemIndex:q,rect:D,size:C,vertical:!g})}}var E={groupIndex:a,seriesIndex:j,items:p};this._animateColumns(E,0==n?1:0);var F=this;this._enqueueAnimation("series",void 0,void 0,n,function(a,b,c){F._animateColumns(b,c)},E)}}},_calcStackedItemSize:function(a,b,c,d){for(var e=this._renderData[a],f=0,g=0,h=0;h<e.offsets.length;h++){var i=Math.abs(e.offsets[h][c].to-e.offsets[h][c].from);e.offsets[h][c].to<e.baseOffset?f+=i:g+=i}var j=g*d,k=f*d;f=0,g=0;for(var l=0,h=0;b>=h;h++)l=Math.abs(e.offsets[h][c].to-e.offsets[h][c].from),e.offsets[h][c].to<e.baseOffset?f+=l:g+=l;var m=Math.abs(e.offsets[b][c].to-e.offsets[b][c].from);return e.offsets[b][c].to>=e.baseOffset&&(f=g,k=j),f-m>k?0:k>=f?m:k-(f-m)},_animateColumns:function(b,c){var d=b.groupIndex,e=b.seriesIndex,f=this.seriesGroups[d],g=f.series[e],h=this._getColors(d,e,void 0,this._getGroupGradientType(d)),i=g.opacity||f.opacity;(!i||0>i||i>1)&&(i=1);for(var j=-1!=f.type.indexOf("stacked"),k=b.items,l=0;l<k.length;l++){var m=k[l].rect,n=a.jqx._ptrnd(k[l].size*c);if(j){if(n=this._calcStackedItemSize(d,e,l,c),0==n)continue;k[l].size<0&&(n*=-1)}void 0==k[l].element&&(k[l].element=this.renderer.rect(m.x,m.y,k[l].vertical?m.width:0,k[l].vertical?0:m.height),this.renderer.attr(k[l].element,{fill:h.fillColor,"fill-opacity":i,stroke:h.lineColor,"stroke-width":1})),n=Math.abs(n),1==k[l].vertical?k[l].size<0?this.renderer.attr(k[l].element,{height:n}):this.renderer.attr(k[l].element,{y:m.y+m.height-n,height:n}):k[l].size<0?this.renderer.attr(k[l].element,{width:n}):this.renderer.attr(k[l].element,{x:m.x+m.width-n,width:n}),1==c&&(this._installHandlers(k[l].element,d,e,l),this._showLabel(d,e,l,m))}},_renderScatterSeries:function(b,c){var d=this.seriesGroups[b];if(d.series&&0!=d.series.length){var e="bubble"==d.type,f="horizontal"==d.orientation,g=c;f&&(g={x:c.y,y:c.x,width:c.height,height:c.width});var h=this._calcGroupOffsets(b,g);if(h&&0!=h.xoffsets.length){this._alignValuesWithTicks(b);for(var i=0;i<d.series.length;i++){var j=this._getColors(b,i,void 0,this._getGroupGradientType(b)),k=d.series[i],l=k.dataField,m=k.opacity||d.opacity;(!m||0>m||m>1)&&(m=1);var n=0/0,o=0/0;if(e)for(var p=h.xoffsets.first;p<=h.xoffsets.last;p++){var q=this._getDataValueAsNumber(p,k.radiusDataField,b);if("number"!=typeof q)throw"Invalid radiusDataField value at ["+p+"]";(isNaN(n)||n>q)&&(n=q),(isNaN(o)||q>o)&&(o=q)}var r=k.minRadius;isNaN(r)&&(r=c.width/50);var s=k.maxRadius;if(isNaN(s)&&(s=c.width/25),r>s)throw"Invalid settings: minRadius must be less than or equal to maxRadius";for(var t=k.radius||5,u=this._getAnimProps(b,i),v=u.enabled&&h.xoffsets.length<5e3?u.duration:0,p=h.xoffsets.first;p<=h.xoffsets.last;p++){var q=this._getDataValueAsNumber(p,l,b);if("number"==typeof q){var w=h.xoffsets.data[p],x=h.offsets[i][p].to;if(!isNaN(w)&&!isNaN(x)){if(f){var y=w;w=x,x=y+c.y}else w+=c.x;w=a.jqx._ptrnd(w),x=a.jqx._ptrnd(x);var z=t;if(e){var A=this._getDataValueAsNumber(p,k.radiusDataField,b);if("number"!=typeof A)continue;z=r+(s-r)*(A-n)/Math.max(1,o-n),isNaN(z)&&(z=r)}var B=this.renderer.circle(w,x,0==v?z:0);this.renderer.attr(B,{fill:j.fillColor,"fill-opacity":m,stroke:j.lineColor,"stroke-width":1});var C={from:0,to:z,groupIndex:b,seriesIndex:i,itemIndex:p,x:w,y:x},D=this;this._enqueueAnimation("series",B,void 0,v,function(a,b,c){if(D._animR(a,b,c),c>=1){var d=e?b.to:0;D._showLabel(b.groupIndex,b.seriesIndex,b.itemIndex,{x:b.x-d,y:b.y-d,width:2*d,height:2*d})}},C),this._installHandlers(B,b,i,p)}}}}}}},_animR:function(a,b,c){var d=Math.round((b.to-b.from)*c+b.from);this._isVML?this.renderer.updateCircle(a,void 0,void 0,d):this.renderer.attr(a,{r:d})},_showToolTip:function(a,b,c,d,e){if(0!=this.showToolTips){var f=this._getCategoryAxis(c);if(!this._toolTipElement||c!=this._toolTipElement.gidx||d!=this._toolTipElement.sidx||e!=this._toolTipElement.iidx){this._hideToolTip(),this._pointMarker&&(a=parseInt(this._pointMarker.x+5),b=parseInt(this._pointMarker.y-5));var g=this.seriesGroups[c],h=g.series[d],i=h.toolTipFormatSettings||g.toolTipFormatSettings,j=h.toolTipFormatFunction||g.toolTipFormatFunction,k=this._getColors(c,d,e),l=this._getFormattedValue(c,d,e,i,j),m=this._getDataValue(e,f.dataField,c);(void 0==f.dataField||""==f.dataField)&&(m=e);var n=f.toolTipFormatSettings||f.formatSettings,o=f.toolTipFormatFunction||f.formatFunction;"date"==f.type&&(m=this._castAsDate(m));var p=this._formatValue(m,n,o);"pie"!=g.type&&"donut"!=g.type?l=(h.displayText||h.dataField||"")+", "+p+": "+l:(m=this._getDataValue(e,h.displayText||h.dataField,c),p=this._formatValue(m,n,o),l=p+": "+l);var q=h.toolTipClass||g.toolTipClass||this.toThemeProperty("jqx-chart-tooltip-text",null),r=h.toolTipBackground||g.toolTipBackground||"#FFFFFF",s=h.toolTipLineColor||g.toolTipLineColor||k.lineColor,t=this.renderer.measureText(l,0,{"class":q});if(t.width=t.width+5,t.height=t.height+6,rect=this.renderer.getRect(),a=Math.max(a-5,rect.x),b=Math.max(b-t.height,rect.y),!(t.width>rect.width||t.height>rect.height)){a+t.width>rect.x+rect.width&&(a=rect.x+rect.width-t.width-2),b+t.height>rect.y+rect.height&&(b=rect.y+rect.height-t.height-2);var u=this.renderer.rect(a,b,t.width,t.height);this.renderer.attr(u,{fill:r,"fill-opacity":0,stroke:s,rx:2,ry:2,"stroke-width":1});var v=this.renderer.text(l,a,b,t.width,t.height,0,{"class":q,opacity:0},!0,"center","center");this._toolTipElement={box:u,txt:v,sidx:d,gidx:c,iidx:e},this._createAnimationGroup("tooltip"),this._enqueueAnimation("tooltip",u,[{key:"fill-opacity",from:0,to:.8}],200),this._enqueueAnimation("tooltip",v,[{key:"opacity",from:0,to:1}],500),this._startAnimation("tooltip")}}}},_hideToolTip:function(){this._toolTipElement&&(this.renderer.removeElement(this._toolTipElement.box),this.renderer.removeElement(this._toolTipElement.txt),this._toolTipElement=void 0)},_showLabel:function(a,b,c,d,e,f,g){var h=this.seriesGroups[a],i=h.series[b],j={width:0,height:0};if(0==i.showLabels||!i.showLabels&&!h.showLabels)return j;if(d.width<0||d.height<0)return j;var k=i.labelsAngle||h.labelsAngle||0,l=i.labelOffset||h.labelAngle||{x:0,y:0},m=i.labelClass||h.labelClass||this.toThemeProperty("jqx-chart-label-text",null);
e=e||"center",f=f||"center";var n=this._getFormattedValue(a,b,c),o=d.width,p=d.height;if(0==o||0==p||g){if(j=this.renderer.measureText(n,k,{"class":m}),g)return j;o=j.width,p=j.height}var q=this.renderer.text(n,d.x+l.x,d.y+l.y,o,p,k,{},0!=k,e,f);this.renderer.attr(q,{"class":m}),this._isVML&&(this.renderer.removeElement(q),this.renderer.getContainer()[0].appendChild(q))},_getAnimProps:function(a,b){var c=this.seriesGroups[a],d=c.series[b],e=1==this.enableAnimations;c.enableAnimations&&(e=1==c.enableAnimations),d.enableAnimations&&(e=1==d.enableAnimations);var f=this.animationDuration;isNaN(f)&&(f=1e3);var g=c.animationDuration;isNaN(g)||(f=g);var h=d.animationDuration;return isNaN(h)||(f=h),f>5e3&&(f=1e3),{enabled:e,duration:f}},_renderLineSeries:function(b,c){var d=this.seriesGroups[b];if(d.series&&0!=d.series.length){var e=-1!=d.type.indexOf("area"),f=-1!=d.type.indexOf("stacked"),g=f&&-1!=d.type.indexOf("100"),h=-1!=d.type.indexOf("spline"),i=-1!=d.type.indexOf("step");if(!i||!h){var j=this._getDataLen(b),k=c.width/j,l=Math.round(c.width/k);Math.round(j/l);var m="horizontal"==d.orientation,n=1==this._getCategoryAxis(b).flip,o=c;m&&(o={x:c.y,y:c.x,width:c.height,height:c.width});var p=this._calcGroupOffsets(b,o);if(p&&0!=p.xoffsets.length){this._alignValuesWithTicks(b);for(var q=d.series.length-1;q>=0;q--){var r=this._getLineSettings(b,q),s=p.xoffsets.first,t=s;do{var u=[],v=0,w=0/0,x=0/0,y=0/0;if(!(p.xoffsets.length<1)){for(var z=this._getAnimProps(b,q),A=z.enabled&&p.xoffsets.length<1e4&&1!=this._isVML?z.duration:0,B=s,C=s;C<=p.xoffsets.last;C++){s=C;var D=p.xoffsets.data[C];if(void 0!=D){var E=p.offsets[q][C].to;if(void 0==E){s++;break}t=C,!e&&g&&(E<=o.y&&(E=o.y+1),E>=o.y+o.height&&(E=o.y+o.height-1)),D=Math.max(D,1),v=D,!i||isNaN(w)||isNaN(x)||x!=E&&u.push(m?{y:o.x+v,x:a.jqx._ptrnd(x)}:{x:o.x+v,y:a.jqx._ptrnd(x)}),u.push(m?{y:o.x+v,x:a.jqx._ptrnd(E),index:C}:{x:o.x+v,y:a.jqx._ptrnd(E),index:C}),w=v,x=E,isNaN(y)&&(y=E)}}var F=o.x+p.xoffsets.data[B],G=o.x+p.xoffsets.data[t];if(e&&1==d.alignEndPointsWithIntervals&&(F>o.x&&(F=o.x),G<o.x+o.width&&(G=o.x+o.width),n)){var H=F;F=G,G=H}G=a.jqx._ptrnd(G),F=a.jqx._ptrnd(F);var I=p.baseOffset;y=a.jqx._ptrnd(y);var J=a.jqx._ptrnd(E)||I,K=this._calculateLine(u,I,0==A?1:0,e,m);K=""!=K?this._buildLineCmd(K,F,G,y,J,I,e,h&&u.length>3,m):"M 0 0";var L=this.renderer.path(K,{"stroke-width":r.stroke,stroke:r.colors.lineColor,"fill-opacity":r.opacity,fill:e?r.colors.fillColor:"none"});this._installHandlers(L,b,q);var M={groupIndex:b,seriesIndex:q,pointsArray:u,left:F,right:G,pyStart:y,pyEnd:J,yBase:I,isArea:e,isSpline:h},N=this;this._enqueueAnimation("series",L,void 0,A,function(a,b,c){var d=N._calculateLine(b.pointsArray,b.yBase,c,b.isArea,m);if(""!=d){var e=b.pointsArray.length;if(b.isArea||(e=Math.round(e*c)),d=N._buildLineCmd(d,b.left,b.right,b.pyStart,b.pyEnd,b.yBase,b.isArea,e>3&&b.isSpline,m),N.renderer.attr(a,{d:d}),1==c)for(var f=N._getLineSettings(b.groupIndex,b.seriesIndex),g=0;g<b.pointsArray.length;g++)N._showLabel(b.groupIndex,b.seriesIndex,b.pointsArray[g].index,{x:b.pointsArray[g].x,y:b.pointsArray[g].y,width:0,height:0}),N._drawSymbol(N._getSymbol(b.groupIndex,b.seriesIndex),b.pointsArray[g].x,b.pointsArray[g].y,f.colors.fillColor,f.colors.lineColor,1,f.opacity)}},M)}}while(s<p.xoffsets.length-1)}}}}},_calculateLine:function(b,c,d,e,f){var g="",h=b.length;e||(h=Math.round(h*d));for(var i=0;h>i;i++){i>0&&(g+=" ");var j=b[i].y,k=b[i].x;e&&(f?k=a.jqx._ptrnd((k-c)*d+c):j=a.jqx._ptrnd((j-c)*d+c)),g+=k+","+j}return g},_buildLineCmd:function(a,b,c,d,e,f,g,h,i){var j=a;h&&(j=this._getBezierPoints(a));var k=j.split(" "),l=k[0].replace("C","");if(g){var m=i?f+","+b:b+","+f,n=i?f+","+c:c+","+f;j="M "+m+" L "+l+(h?"":" L "+l+" ")+j+(h?" L"+n+" M "+n:" "+n+" "+m),j+=" Z"}else j=h?"M "+l+" "+j:"M "+l+" L "+l+" "+j;return j},_getLineSettings:function(a,b){var c=this.seriesGroups[a],d=-1!=c.type.indexOf("area"),e=this._getColors(a,b,void 0,this._getGroupGradientType(a)),f=c.series[b].opacity||c.opacity;(!f||0>f||f>1)&&(f=1);var g=c.series[b].lineWidth||c.lineWidth;return(!g||"auto"==g||isNaN(g)||1>g||g>15)&&(g=d?2:3),{colors:e,stroke:g,opacity:f}},_getColors:function(b,c,d,e){var f=this.seriesGroups[b];"pie"!=f.type&&"donut"!=f.type&&(d=void 0);var g=f.series[c].useGradient||f.useGradient;void 0==g&&(g=!0);var h;if(isNaN(d))h=this._getSeriesColor(b,c);else{var i=this._getDataLen(b);h=this._getColor(f.series[c].colorScheme||f.colorScheme||this.colorScheme,c*i+d,b,c)}var j=a.jqx._adjustColor(h,1.1),k=a.jqx._adjustColor(h,.9),l=a.jqx._adjustColor(j,.9),m=h,n=j,o=[[0,1.5],[100,1]],p=[[0,1],[25,1.1],[50,1.5],[100,1]],q=[[0,1.3],[90,1.2],[100,1]];if(g)if("verticalLinearGradient"==e)m=this.renderer._toLinearGradient(h,!0,o),n=this.renderer._toLinearGradient(j,!0,o);else if("horizontalLinearGradient"==e)m=this.renderer._toLinearGradient(h,!1,p),n=this.renderer._toLinearGradient(j,!1,p);else if("radialGradient"==e){var r=void 0,s=o;("pie"==f.type||"donut"==f.type)&&void 0!=d&&this._renderData[b]&&this._renderData[b][c]&&(r=this._renderData[b][c][d],s=q),m=this.renderer._toRadialGradient(h,s,r),n=this.renderer._toRadialGradient(j,s,r)}return{baseColor:h,fillColor:m,lineColor:k,fillSelected:n,lineSelected:l}},_installHandlers:function(a,b,c,d){var e=this,f=this.seriesGroups[b],g=this.seriesGroups[b].series[c],h=-1!=f.type.indexOf("line")||-1!=f.type.indexOf("area");h||this.renderer.addHandler(a,"mousemove",function(a){a.preventDefault(),e._startTooltipTimer(b,c,d)}),this.renderer.addHandler(a,"mouseover",function(i){i.preventDefault(),e._select(a,b,c,d),h||isNaN(d)||e._raiseEvent("mouseover",f,g,d)}),this.renderer.addHandler(a,"mouseout",function(a){a.preventDefault(),void 0!=d&&e._cancelTooltipTimer(),h||(e._unselect(),isNaN(d)||e._raiseEvent("mouseout",f,g,d))}),this.renderer.addHandler(a,"click",function(a){a.preventDefault(),h||(-1!=f.type.indexOf("column")&&e._unselect(),isNaN(d)||e._raiseEvent("click",f,g,d))})},_getHorizontalOffset:function(a,b,c,d){var e=this._plotRect,f=this._getDataLen(a);if(0==f)return{index:void 0,value:c};var g=this._calcGroupOffsets(a,this._plotRect);if(0==g.xoffsets.length)return{index:void 0,value:void 0};var h=c-e.x,i=d-e.y,j=this.seriesGroups[a];if("horizontal"==j.orientation){var k=h;h=i,i=k}1==this._getCategoryAxis(a).flip;for(var l=void 0,m=void 0,n=0;n<g.xoffsets.length;n++){var o=g.xoffsets.data[n];g.offsets[b][n].to;var p=Math.abs(h-o);(isNaN(l)||l>p)&&(l=p,m=n)}return{index:m,value:g.xoffsets.data[m]}},onmousemove:function(b,c){if(this._mouseX=b,this._mouseY=c,this._hideToolTip(),this._selected){var d=this._plotRect,e=this._paddedRect;if(b<e.x||b>e.x+e.width||c<e.y||c>e.y+e.height)return this._unselect(),void 0;var f=this._selected.group,g=this.seriesGroups[f],h=g.series[this._selected.series],i="horizontal"==g.orientation,j=this.seriesGroups[f].type,d=this._plotRect;if(-1!=j.indexOf("line")||-1!=j.indexOf("area")){var k=this._getHorizontalOffset(f,this._selected.series,b,c),l=k.index;if(void 0==l)return;this._selected.item!=l&&(this._selected.item&&this._raiseEvent("mouseout",g,h,this._selected.item),this._selected.item=l,this._raiseEvent("mouseover",g,h,l));var m=this._getSymbol(this._selected.group,this._selected.series);"none"==m&&(m="circle");var n=this._calcGroupOffsets(f,d);if(c=n.offsets[this._selected.series][l].to,void 0==c)return;if(b=k.value,i){var o=b;b=c,c=o+d.y}else b+=d.x;c=a.jqx._ptrnd(c),b=a.jqx._ptrnd(b),this._pointMarker&&this.renderer.removeElement(this._pointMarker.element);var p=this._getSeriesColor(this._selected.group,this._selected.series),q=a.jqx._adjustColor(p,.5);this._pointMarker={type:m,x:b,y:c},this._pointMarker.element=this._drawSymbol(m,b,c,p,q,1,1,8),this._startTooltipTimer(f,this._selected.series,l)}}},_drawSymbol:function(a,b,c,d,e,f,g,h){var i,j=h||6,k=j/2;switch(a){case"none":return void 0;case"circle":i=this.renderer.circle(b,c,j/2);break;case"square":j-=1,k=j/2,i=this.renderer.rect(b-k,c-k,j,j);break;case"diamond":var l="M "+(b-k)+","+c+" L "+b+","+(c+k)+" L "+(b+k)+","+c+" L "+b+","+(c-k)+" Z";i=this.renderer.path(l);break;case"triangle_up":var l="M "+(b-k)+","+(c+k)+" L "+(b+k)+","+(c+k)+" L "+b+","+(c-k)+" Z";i=this.renderer.path(l);break;case"triangle_down":var l="M "+(b-k)+","+(c-k)+" L "+b+","+(c+k)+" L "+(b+k)+","+(c-k)+" Z";i=this.renderer.path(l);break;case"triangle_left":var l="M "+(b-k)+","+c+" L "+(b+k)+","+(c+k)+" L "+(b+k)+","+(c-k)+" Z";i=this.renderer.path(l);break;case"triangle_right":var l="M "+(b-k)+","+(c-k)+" L "+(b-k)+","+(c+k)+" L "+(b+k)+","+c+" Z";i=this.renderer.path(l);break;default:i=this.renderer.circle(b,c,j)}return this.renderer.attr(i,{fill:d,stroke:e,"stroke-width":f,"fill-opacity":g}),i},_getSymbol:function(a,b){var c=["circle","square","diamond","triangle_up","triangle_down","triangle_left","triangle_right"],d=this.seriesGroups[a],e=d.series[b],f=void 0;return void 0!=e.symbolType&&(f=e.symbolType),void 0==f&&(f=d.symbolType),"default"==f?c[b%c.length]:void 0!=f?f:"none"},_startTooltipTimer:function(a,b,c){this._cancelTooltipTimer();var d=this;d.seriesGroups[a];var e=this.toolTipShowDelay||this.toolTipDelay;(isNaN(e)||e>1e4||0>e)&&(e=500),this._tttimer=setTimeout(function(){d._showToolTip(d._mouseX,d._mouseY-3,a,b,c);var e=d.toolTipHideDelay;isNaN(e)&&(e=4e3),d._tttimer=setTimeout(function(){d._hideToolTip()},e)},e)},_cancelTooltipTimer:function(){clearTimeout(this._tttimer)},_getGroupGradientType:function(a){var b=this.seriesGroups[a];return-1!=b.type.indexOf("area")?"horizontal"==b.orientation?"horizontalLinearGradient":"verticalLinearGradient":-1!=b.type.indexOf("column")?"horizontal"==b.orientation?"verticalLinearGradient":"horizontalLinearGradient":-1!=b.type.indexOf("scatter")||-1!=b.type.indexOf("bubble")||-1!=b.type.indexOf("pie")||-1!=b.type.indexOf("donut")?"radialGradient":void 0},_select:function(a,b,c,d){this._selected&&this._selected.element!=a&&this._unselect(),this._selected={element:a,group:b,series:c,item:d};var e=this.seriesGroups[b],f=this._getColors(b,c,d,this._getGroupGradientType(b));-1!=e.type.indexOf("line")&&-1==e.type.indexOf("area")&&(f.fillSelected="none"),this.renderer.attr(a,{stroke:f.lineSelected,fill:f.fillSelected})},_unselect:function(){if(this._selected){var a=this._selected.group,b=this._selected.series,c=this._selected.item,d=this.seriesGroups[a],e=d.series[b],f=this._getColors(a,b,c,this._getGroupGradientType(a));-1!=d.type.indexOf("line")&&-1==d.type.indexOf("area")&&(f.fillColor="none"),this.renderer.attr(this._selected.element,{stroke:f.lineColor,fill:f.fillColor}),(-1!=d.type.indexOf("line")||-1!=d.type.indexOf("area")&&!isNaN(c))&&this._raiseEvent("mouseout",d,e,c),this._selected=void 0}this._pointMarker&&(this.renderer.removeElement(this._pointMarker.element),this._pointMarker=void 0)},_raiseEvent:function(b,c,d,e){for(var f=d[b]||c[b],g=0;g<this.seriesGroups.length&&this.seriesGroups[g]!=c;g++);g!=this.seriesGroups.length&&f&&a.isFunction(f)&&f({event:b,seriesGroup:c,serie:d,elementIndex:e,elementValue:this._getDataValue(e,d.dataField,g)})},_calcGroupOffsets:function(b,c){var d=this.seriesGroups[b];if(d.series&&0!=d.series.length){var e=1==d.valueAxis.flip,f=1==d.valueAxis.logarithmicScale,g=d.valueAxis.logarithmicScaleBase||10;for(this._renderData||(this._renderData=new Array);this._renderData.length<b+1;)this._renderData.push(null);if(null!=this._renderData[b])return this._renderData[b];var h=new Array,i=-1!=d.type.indexOf("stacked"),j=i&&-1!=d.type.indexOf("100"),k=this._getDataLen(b),l=d.baselineValue||d.valueAxis.baselineValue||0,m=this._stats.seriesGroups[b];if(m&&m.isValid){l>m.max&&(l=m.max),l<m.min&&(l=m.min);var n=j||f?m.maxRange:m.max-m.min,o=m.min,p=m.max,q=c.height/(f?m.intervals:n),r=0;j?0>o*p?(n/=2,r=-(n+l)*q):r=-l*q:r=-(l-o)*q,e?r=-r+c.y:r+=c.y+c.height;var s,t,u=new Array,v=new Array;f&&(s=a.jqx.log(p,g)-a.jqx.log(l,g),i&&(s=m.intervals,l=j?0:o),t=m.intervals-s,r=c.y+s/m.intervals*c.height),r=a.jqx._ptrnd(r);for(var w=0>o*p?c.height/2:c.height,x=[],y=0;y<d.series.length;y++){!i&&f&&(x=[]),h.push(new Array);for(var z=0;k>z;z++){var A=this._getDataValueAsNumber(z,d.series[y].dataField,b);if(isNaN(A)||f&&0>=A)h[y].push({from:void 0,to:void 0});else{A>m.rmax&&(A=m.rmax),A<m.rmin&&(A=m.rmin);var B=A>l?u:v,C=q*(A-l);if(f){for(;x.length<=z;)x.push({p:{value:0,height:0},n:{value:0,height:0}});var D=A>l?x[z].p:x[z].n;D.value+=A,j?(A=100*(D.value/(m.psums[z]+m.nsums[z])),C=(a.jqx.log(A,g)-m.minPow)*q):(C=a.jqx.log(D.value,g)-a.jqx.log(l,g),C*=q),C-=D.height,D.height+=C}var E=r;if(i){if(j&&!f){var F=m.psums[z]-m.nsums[z];A>l?(C=m.psums[z]/F*w,0!=m.psums[z]&&(C*=A/m.psums[z])):(C=m.nsums[z]/F*w,0!=m.nsums[z]&&(C*=A/m.nsums[z]))}isNaN(B[z])&&(B[z]=r),E=B[z]}if(C=Math.abs(C),C=this._isVML?Math.round(C):a.jqx._rup(C),y==d.series.length-1&&j){for(var G=0,H=0;y>H;H++)G+=Math.abs(h[H][z].to-h[H][z].from);if(G+=C,w>G)if(C>.5)C=a.jqx._ptrnd(C+w-G);else for(var H=y-1;H>=0;){var I=Math.abs(h[H][z].to-h[H][z].from);if(I>1){h[H][z].from>h[H][z].to&&(h[H][z].from+=w-G);break}H--}}e&&(C*=-1),l>A?(B[z]+=C,h[y].push({from:E,to:E+C-1})):(B[z]-=C,h[y].push({from:E,to:E-C}))}}}return this._renderData[b]={baseOffset:r,offsets:h},this._renderData[b].xoffsets=this._calculateXOffsets(b,c),this._renderData[b]}}},_isPointSeriesOnly:function(){for(var a=0;a<this.seriesGroups.length;a++){var b=this.seriesGroups[a];if(-1==b.type.indexOf("line")&&-1==b.type.indexOf("area")&&-1==b.type.indexOf("scatter")&&-1==b.type.indexOf("bubble"))return!1}return!0},_alignValuesWithTicks:function(a){var b=this._isPointSeriesOnly(),c=this._getCategoryAxis(a),d=void 0==c.valuesOnTicks?b:0!=c.valuesOnTicks;if(void 0==a)return d;var e=this.seriesGroups[a];return void 0==e.valuesOnTicks?d:e.valuesOnTicks},_getYearsDiff:function(a,b){return b.getFullYear()-a.getFullYear()},_getMonthsDiff:function(a,b){return 12*(b.getFullYear()-a.getFullYear())+b.getMonth()-a.getMonth()},_getDaysDiff:function(a,b){return(b.valueOf()-a.valueOf())/864e5},_getDateDiff:function(a,b,c){var d=0;return d="year"==c?this._getYearsDiff(a,b):"month"==c?this._getMonthsDiff(a,b):this._getDaysDiff(a,b)},_getDatesArray:function(a,b,c,d){var e=[],f=this._getDateDiff(a,b,c)+1;if("year"==c){d&&f++;for(var g=a.getFullYear(),h=0;f>h;h++)e.push(new Date(g,0,1,0,0,0,0)),g++}else if("month"==c){d&&f++;for(var i=a.getMonth(),j=a.getFullYear(),h=0;f>h;h++)e.push(new Date(j,i,1,0,0,0,0)),i++,i>11&&(j++,i=0)}else if("day"==c)for(var h=0;f>h;h++){var k=new Date(a.valueOf()+24*3600*1e3*h);e.push(k)}return e},_calculateXOffsets:function(b,c){var d=this._getCategoryAxis(b),e=new Array,f=this._getDataLen(b),g="date"==d.type,h=g?this._castAsDate(d.minValue):this._castAsNumber(d.minValue),i=g?this._castAsDate(d.maxValue):this._castAsNumber(d.maxValue),j=h,k=i;if(isNaN(j)||isNaN(k))for(var l=0;f>l;l++){var m=this._getDataValue(l,d.dataField,b);m=g?this._castAsDate(m):this._castAsNumber(m),void 0==m||isNaN(m)||((j>m||isNaN(j))&&(j=m),(m>k||isNaN(k))&&(k=m))}if(j=h||j,k=i||k,g&&(!this._isDate(j)||!this._isDate(k)))throw"Invalid Date values";var n=void 0!=d.maxValue||void 0!=d.minValue;if(n&&(isNaN(k)||isNaN(j)))throw n=!1,"Invalid min/max category values";n||g||(j=0,k=f-1);var o=d.unitInterval;(isNaN(o)||0>=o)&&(o=1);var p=0/0,q=this._alignValuesWithTicks(b);n?p=q?k-j:k-j+o:(p=f-1,q||p++),0==p&&(p=o);var r=0,s=k,t=j;g&&(p=this._getDateDiff(t,s,d.baseUnit),p=a.jqx._rnd(p,1,!1),(!q||q&&("month"==d.baseUnit||"year"==d.baseUnit))&&p++,"day"!=d.baseUnit&&("month"==d.baseUnit?(t=new Date(t.getFullYear(),t.getMonth(),1),s=new Date(t),s.setMonth(s.getMonth()+p)):(t=new Date(t.getFullYear(),0,1),s=new Date(t),s.setYear(s.getFullYear()+p))),r=a.jqx._rnd(this._getDateDiff(t,s,"day"),1,!1),q||r++);var u=Math.max(1,p/o),v=c.width/u,w=void 0!=b&&-1!=this.seriesGroups[b].type.indexOf("column"),x=0;q||g&&"day"!=d.baseUnit||w||(x=v/2);for(var y=-1,z=-1,l=0;f>l;l++)if(n||g){var m=this._getDataValue(l,d.dataField,b);if(m=g?this._castAsDate(m):this._castAsNumber(m),isNaN(m)||t>m||m>s)e.push(-1);else{var A=g?this._getDateDiff(t,m,"day"):m-t,B=a.jqx._ptrnd(x+A/(g?r:p)*c.width);e.push(B),-1==y&&(y=l),(-1==z||l>z)&&(z=l)}}else e.push(a.jqx._ptrnd(x+(l-t)/p*c.width)),-1==y&&(y=l),(-1==z||l>z)&&(z=l);return 1==d.flip&&e.reverse(),{data:e,first:y,last:z,length:-1==z?0:z-y+1,itemWidth:v,rangeLength:p,min:j,max:k,customRange:n}},_getCategoryAxis:function(a){return void 0==a||this.seriesGroups.length<=a?this.categoryAxis:this.seriesGroups[a].categoryAxis||this.categoryAxis},_isGreyScale:function(a,b){var c=this.seriesGroups[a],d=c.series[b];return 1==d.greyScale?!0:0==d.greyScale?!1:1==c.greyScale?!0:0==c.greyScale?!1:1==this.greyScale},_getSeriesColor:function(b,c){var d=this._getSeriesColorInternal(b,c);return this._isGreyScale(b,c)&&0==d.indexOf("#")&&(d=a.jqx.toGreyScale(d)),d},_getSeriesColorInternal:function(a,b){var c=this.seriesGroups[a],d=c.series[b];if(d.color)return d.color;for(var e=0,f=0;a>=f;f++)for(var g in this.seriesGroups[f].series){if(f==a&&g==b)break;e++}var h=this.colorScheme;if(c.colorScheme&&(h=c.colorScheme,sidex=b),(void 0==h||""==h)&&(h=this.colorSchemes[0].name),h)for(var f=0;f<this.colorSchemes.length;f++){var i=this.colorSchemes[f];if(i.name==h){for(;e>i.colors.length;)e-=i.colors.length,++f>=this.colorSchemes.length&&(f=0),i=this.colorSchemes[f];return i.colors[e%i.colors.length]}}return"#222222"},_getColor:function(b,c,d,e){(void 0==b||""==b)&&(b=this.colorSchemes[0].name);for(var f=0;f<this.colorSchemes.length&&b!=this.colorSchemes[f].name;f++);for(var g=0;c>=g;){f==this.colorSchemes.length&&(f=0);var h=this.colorSchemes[f].colors.length;if(!(c>=g+h)){var i=this.colorSchemes[f].colors[c-g];return this._isGreyScale(d,e)&&0==i.indexOf("#")&&(i=a.jqx.toGreyScale(i)),i}g+=h,f++}},getColorScheme:function(a){for(var b in this.colorSchemes)if(this.colorSchemes[b].name==a)return this.colorSchemes[b].colors;return void 0},addColorScheme:function(a,b){for(var c in this.colorSchemes)if(this.colorSchemes[c].name==a)return this.colorSchemes[c].colors=b,void 0;this.colorSchemes.push({name:a,colors:b})},removeColorScheme:function(a){for(var b in this.colorSchemes)if(this.colorSchemes[b].name==a){this.colorSchemes.splice(b,1);break}},colorSchemes:[{name:"scheme01",colors:["#4572A7","#AA4643","#89A54E","#71588F","#4198AF"]},{name:"scheme02",colors:["#7FD13B","#EA157A","#FEB80A","#00ADDC","#738AC8"]},{name:"scheme03",colors:["#E8601A","#FF9639","#F5BD6A","#599994","#115D6E"]},{name:"scheme04",colors:["#D02841","#FF7C41","#FFC051","#5B5F4D","#364651"]},{name:"scheme05",colors:["#25A0DA","#309B46","#8EBC00","#FF7515","#FFAE00"]},{name:"scheme06",colors:["#0A3A4A","#196674","#33A6B2","#9AC836","#D0E64B"]},{name:"scheme07",colors:["#CC6B32","#FFAB48","#FFE7AD","#A7C9AE","#888A63"]},{name:"scheme08",colors:["#2F2933","#01A2A6","#29D9C2","#BDF271","#FFFFA6"]},{name:"scheme09",colors:["#1B2B32","#37646F","#A3ABAF","#E1E7E8","#B22E2F"]},{name:"scheme10",colors:["#5A4B53","#9C3C58","#DE2B5B","#D86A41","#D2A825"]},{name:"scheme11",colors:["#993144","#FFA257","#CCA56A","#ADA072","#949681"]}],_formatValue:function(b,c,d){if(void 0==b)return"";if(this._isObject(b)&&!d)return"";if(d){if(!a.isFunction(d))return b.toString();try{return d(b)}catch(e){return e.message}}return this._isNumber(b)?this._formatNumber(b,c):this._isDate(b)?this._formatDate(b,c):c?(c.prefix||"")+b.toString()+(c.sufix||""):b.toString()},_getFormattedValue:function(a,b,c,d,e){var f=this.seriesGroups[a],g=f.series[b],h="",i=d,j=e;j||(j=g.formatFunction||f.formatFunction),i||(i=g.formatSettings||f.formatSettings),!g.formatFunction&&g.formatSettings&&(j=void 0);var k=this._getDataValue(c,g.dataField,a);return k&&(h=this._formatValue(k,i,j)),h||""},_isNumberAsString:function(b){if("string"!=typeof b)return!1;b=a.trim(b);for(var c=0;c<b.length;c++){var d=b.charAt(c);if(!(d>="0"&&"9">=d||","==d||"."==d||"-"==d&&0==c||"("==d&&0==c||")"==d&&c==b.length-1))return!1}return!0},_castAsDate:function(a){if(a instanceof Date&&!isNaN(a))return a;if("string"==typeof a){var b=new Date(a);if(void 0!=b)return b}return void 0},_castAsNumber:function(a){if(a instanceof Date&&!isNaN(a))return a.valueOf();if("string"==typeof a)if(this._isNumber(a))a=parseFloat(a);else{var b=new Date(a);void 0!=b&&(a=b.valueOf())}return a},_isNumber:function(a){return"string"==typeof a&&this._isNumberAsString(a)&&(a=parseFloat(a)),"number"==typeof a&&isFinite(a)},_isDate:function(a){return a instanceof Date},_isBoolean:function(a){return"boolean"==typeof a},_isObject:function(b){return b&&("object"==typeof b||a.isFunction(b))||!1},_formatDate:function(a){return a.toString()},_formatNumber:function(a,b){if(!this._isNumber(a))return a;b=b||{};var c=b.decimalSeparator||".",d=b.thousandsSeparator||"",e=b.prefix||"",f=b.sufix||"",g=b.decimalPlaces||(100*a!=100*parseInt(a)?2:0),h=b.negativeWithBrackets||!1,i=0>a;i&&h&&(a*=-1);var j,k=a.toString(),l=Math.pow(10,g);if(k=(Math.round(a*l)/l).toString(),isNaN(k)&&(k=""),j=k.lastIndexOf("."),g>0)for(0>j?(k+=c,j=k.length-1):"."!==c&&(k=k.replace(".",c));k.length-1-j<g;)k+="0";j=k.lastIndexOf(c),j=j>-1?j:k.length;for(var m=k.substring(j),n=0,o=j;o>0;o--,n++)0===n%3&&o!==j&&(!i||o>1||i&&h)&&(m=d+m),m=k.charAt(o-1)+m;return k=m,i&&h&&(k="("+k+")"),e+k+f},_defaultNumberFormat:{prefix:"",sufix:"",decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,negativeWithBrackets:!1},_getBezierPoints:function(b){for(var c=[],d=b.split(" "),e=0;e<d.length;e++){var f=d[e].split(",");c.push({x:parseFloat(f[0]),y:parseFloat(f[1])})}for(var g="",e=0;e<c.length-1;e++){var h=[];0==e?(h.push(c[e]),h.push(c[e]),h.push(c[e+1]),h.push(c[e+2])):c.length-2==e?(h.push(c[e-1]),h.push(c[e]),h.push(c[e+1]),h.push(c[e+1])):(h.push(c[e-1]),h.push(c[e]),h.push(c[e+1]),h.push(c[e+2]));var i=[],j=9;i.push({x:h[1].x,y:h[1].y}),i.push({x:(-h[0].x+j*h[1].x+h[2].x)/j,y:(-h[0].y+j*h[1].y+h[2].y)/j}),i.push({x:(h[1].x+j*h[2].x-h[3].x)/j,y:(h[1].y+j*h[2].y-h[3].y)/j}),i.push({x:h[2].x,y:h[2].y}),g+="C"+a.jqx._ptrnd(i[1].x)+","+a.jqx._ptrnd(i[1].y)+" "+a.jqx._ptrnd(i[2].x)+","+a.jqx._ptrnd(i[2].y)+" "+a.jqx._ptrnd(i[3].x)+","+a.jqx._ptrnd(i[3].y)+" "}return g},_animTickInt:50,_createAnimationGroup:function(a){this._animGroups||(this._animGroups={}),this._animGroups[a]={animations:[],startTick:0/0}},_startAnimation:function(a){var b=new Date,c=b.getTime();this._animGroups[a].startTick=c,this._enableAnimTimer()},_enqueueAnimation:function(a,b,c,d,e,f,g){0==d&&(d=1),void 0==g&&(g="easeInOutSine"),this._animGroups[a].animations.push({key:b,properties:c,duration:d,fn:e,context:f,easing:g})},_stopAnimations:function(){clearTimeout(this._animtimer),this._animtimer=void 0,this._animGroups=void 0},_enableAnimTimer:function(){if(!this._animtimer){var a=this;this._animtimer=setTimeout(function(){a._runAnimation()},this._animTickInt)}},_runAnimation:function(){if(this._animGroups){var b=new Date,c=b.getTime(),d={};for(var e in this._animGroups){for(var f=this._animGroups[e].animations,g=this._animGroups[e].startTick,h=0,i=0;i<f.length;i++){var j=f[i],k=c-g;j.duration>h&&(h=j.duration);var l=j.duration>0?k/j.duration:0,m=l;if(j.easing&&(m=jQuery.easing[j.easing](l,k,0,1,j.duration)),l>1&&(l=1,m=1),j.fn)j.fn(j.key,j.context,m);else{for(var n={},e=0;e<j.properties.length;e++){var o=j.properties[e],p=0;p=1==l?o.to:m*(o.to-o.from)+o.from,n[o.key]=p}this.renderer.attr(j.key,n)}}g+h>c&&(d[e]={startTick:g,animations:f})}this._animGroups=d,this.renderer instanceof a.jqx.HTML5Renderer&&this.renderer.refresh()}this._animtimer=null;for(var e in this._animGroups){this._enableAnimTimer();break}}}),a.jqx.toGreyScale=function(b){var c=a.jqx.cssToRgb(b);c[0]=c[1]=c[2]=Math.round(.3*c[0]+.59*c[1]+.11*c[2]);var d=a.jqx.rgbToHex(c[0],c[1],c[2]);return"#"+d[0]+d[1]+d[2]},a.jqx._adjustColor=function(b,c){for(var d=a.jqx.cssToRgb(b),b="#",e=0;3>e;e++){var f=Math.round(c*d[e]);f>255?f=255:0>=f&&(f=0),f=a.jqx.decToHex(f),1==f.toString().length&&(b+="0"),b+=f}return b.toUpperCase()},a.jqx.decToHex=function(a){return a.toString(16)},a.jqx.hexToDec=function(a){return parseInt(a,16)},a.jqx.rgbToHex=function(b,c,d){return[a.jqx.decToHex(b),a.jqx.decToHex(c),a.jqx.decToHex(d)]},a.jqx.hexToRgb=function(b,c,d){return[a.jqx.hexToDec(b),a.jqx.hexToDec(c),a.jqx.hexToDec(d)]},a.jqx.cssToRgb=function(b){return b.indexOf("rgb")<=-1?a.jqx.hexToRgb(b.substring(1,3),b.substring(3,5),b.substring(5,7)):b.substring(4,b.length-1).split(",")},a.jqx.swap=function(a,b){var c=a;a=b,b=c},a.jqx.getNum=function(b){if(a.isArray(b)){for(var c=0;c<b.length;c++)if(!isNaN(b[c]))return b[c]}else if(isNaN(b))return 0;return 0},a.jqx._ptrnd=function(b){if(!document.createElementNS)return Math.round(b)==b?b:a.jqx._rnd(b,1,!1);if(.5==Math.abs(Math.round(b)-b))return b;var c=a.jqx._rnd(b,1,!1);return c-.5},a.jqx._rup=function(a){var b=Math.round(a);return a>b&&b++,b},a.jqx.log=function(a,b){return Math.log(a)/(b?Math.log(b):1)},a.jqx._rnd=function(a,b,c){if(isNaN(a))return a;var d=a-a%b;return a==d?d:(c?a>d&&(d+=b):d>a&&(d-=b),d)},a.jqx.commonRenderer={pieSlicePath:function(a,b,c,d,e,f,g){d||(d=1);var h=Math.abs(e-f),i=h>180?1:0;h>=360&&(f=e+359.99);var j=2*e*Math.PI/360,k=2*f*Math.PI/360,l=a,m=a,n=b,o=b,p=!isNaN(c)&&c>0;if(p&&(g=0),g+c>0){if(g>0){var q=h/2+e,r=2*q*Math.PI/360;a+=g*Math.cos(r),b-=g*Math.sin(r)}if(p){var s=c;l=a+s*Math.cos(j),n=b-s*Math.sin(j),m=a+s*Math.cos(k),o=b-s*Math.sin(k)}}var t=a+d*Math.cos(j),u=a+d*Math.cos(k),v=b-d*Math.sin(j),w=b-d*Math.sin(k),x="";return p?(x="M "+m+","+o,x+=" a"+c+","+c,x+=" 0 "+i+",1 "+(l-m)+","+(n-o),x+=" L"+t+","+v,x+=" a"+d+","+d,x+=" 0 "+i+",0 "+(u-t)+","+(w-v)):(x="M "+u+","+w,x+=" a"+d+","+d,x+=" 0 "+i+",1 "+(t-u)+","+(v-w),x+=" L"+a+","+b+" Z"),x}},a.jqx.svgRenderer=function(){},a.jqx.svgRenderer.prototype={_svgns:"http://www.w3.org/2000/svg",init:function(a){var b="<table id=tblChart cellspacing='0' cellpadding='0' border='0' align='left' valign='top'><tr><td colspan=2 id=tdTop></td></tr><tr><td id=tdLeft></td><td class='chartContainer'></td></tr></table>";a.append(b),this.host=a;var c=a.find(".chartContainer");c[0].style.width=a.width()+"px",c[0].style.height=a.height()+"px";try{var d=document.createElementNS(this._svgns,"svg");d.setAttribute("id","svgChart"),d.setAttribute("version","1.1"),d.setAttribute("width","100%"),d.setAttribute("height","100%"),c[0].appendChild(d),this.canvas=d}catch(e){return!1}return this._id=(new Date).getTime(),this.clear(),this._layout(),this._runLayoutFix(),!0},_runLayoutFix:function(){this._fixLayout()},_fixLayout:function(){var b=a(this.canvas).position(),c=parseFloat(b.left)==parseInt(b.left),d=parseFloat(b.top)==parseInt(b.top);if(a.jqx.browser.msie){for(var c=!0,d=!0,e=this.host,f=0,g=0;e&&e.position&&e[0].parentNode;){var h=e.position();f+=parseFloat(h.left)-parseInt(h.left),g+=parseFloat(h.top)-parseInt(h.top),e=e.parent()}c=parseFloat(f)==parseInt(f),d=parseFloat(g)==parseInt(g)}c||(this.host.find("#tdLeft")[0].style.width="0.5px"),d||(this.host.find("#tdTop")[0].style.height="0.5px")},_layout:function(){a(this.canvas).offset();var b=this.host.find(".chartContainer");this._width=Math.max(a.jqx._rup(this.host.width())-1,0),this._height=Math.max(a.jqx._rup(this.host.height())-1,0),b[0].style.width=this._width,b[0].style.height=this._height,this._fixLayout()},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var a=this.host.find(".chartContainer");return a},clear:function(){for(;this.canvas.childElementCount>0;)this.canvas.removeChild(this.canvas.firstElementChild);this._defs=document.createElementNS(this._svgns,"defs"),this._gradients={},this.canvas.appendChild(this._defs)},removeElement:function(a){if(void 0!=a)try{a.parentNode?a.parentNode.removeChild(a):this.canvas.removeChild(a)}catch(b){}},_openGroups:[],beginGroup:function(){var a=this._activeParent(),b=document.createElementNS(this._svgns,"g");return a.appendChild(b),this._openGroups.push(b),b},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(a){var b=document.createElementNS(this._svgns,"clipPath"),c=document.createElementNS(this._svgns,"rect");return this.attr(c,{x:a.x,y:a.y,width:a.width,height:a.height}),this._clipId=this._clipId||0,b.id="cl"+this._id+"_"+(++this._clipId).toString(),b.appendChild(c),this._defs.appendChild(b),b},setClip:function(a,b){return this.attr(a,{"clip-path":"url(#"+b.id+")"})},_clipId:0,addHandler:function(a,b,c){a["on"+b]=c},shape:function(a,b){var c=document.createElementNS(this._svgns,a);if(!c)return void 0;for(var d in b)c.setAttribute(d,b[d]);return this._activeParent().appendChild(c),c},measureText:function(b,c,d){var e=document.createElementNS(this._svgns,"text");this.attr(e,d),e.appendChild(e.ownerDocument.createTextNode(b));var f=this._activeParent();f.appendChild(e);var g=e.getBBox();if(isNaN(g.width)||isNaN(g.height)||1/0==Math.abs(g.width)||1/0==Math.abs(g.height))return{width:0,height:0};var h=a.jqx._rup(g.width),i=a.jqx._rup(g.height);if(f.removeChild(e),0==c)return{width:h,height:i};var j=2*c*Math.PI/360,k=Math.abs(Math.sin(j)),l=Math.abs(Math.cos(j)),m=Math.abs(h*k+i*l),n=Math.abs(h*l+i*k);return{width:a.jqx._rup(n),height:a.jqx._rup(m)}},text:function(b,c,d,e,f,g,h,i,j,k){var l;if(j||(j="center"),k||(k="center"),i){l=this.beginGroup();var m=this.createClipRect({x:a.jqx._rup(c)-1,y:a.jqx._rup(d)-1,width:a.jqx._rup(e)+2,height:a.jqx._rup(f)+2});this.setClip(l,m)}var n=document.createElementNS(this._svgns,"text");this.attr(n,h),n.appendChild(n.ownerDocument.createTextNode(b));var o=this._activeParent();o.appendChild(n);var p=n.getBBox();o.removeChild(n);var q=p.width,r=.6*p.height,s=e||0,t=f||0;if(!g||0==g)return"center"==j?c+=(s-q)/2:"right"==j&&(c+=s-q),d+=r,"center"==k?d+=(t-r)/2:"bottom"==k&&(d+=t-r),e||(e=q),f||(f=r),this.attr(n,{x:a.jqx._rup(c),y:a.jqx._rup(d),width:a.jqx._rup(e),height:a.jqx._rup(f),cursor:"default"}),o.appendChild(n),this.endGroup(),n;var u=2*g*Math.PI/360,v=Math.sin(u),w=Math.cos(u),x=r*w+q*v,y=q*w+r*v,z=d,A=c;c+=(e-y)/2,d+=(f-x)/2,d+=r*w,"left"==j?w>0?(c=A,0>v&&(c-=v*r)):(c=A-w*q,0>v&&(c-=v*r)):"right"==j&&(w>0?(c=A+e-y,0>v&&(c+=v*r)):(c=A+e,v>=0&&(c-=v*r))),"top"==k?0>v?(d=z-v*q,w>0&&(d+=w*r)):(d=z,w>0&&(d=z+r*w)):"bottom"==k&&(0>v?(d=z+f,0>=w&&(d+=r*w)):(d=z+f-q*v,0>w&&(d+=r*w))),c=a.jqx._rup(c),d=a.jqx._rup(d);var B=this.shape("g",{transform:"translate("+c+","+d+")"}),C=this.shape("g",{transform:"rotate("+g+")"});return B.appendChild(C),C.appendChild(n),o.appendChild(B),this.endGroup(),B},line:function(a,b,c,d,e){var f=this.shape("line",{x1:a,y1:b,x2:c,y2:d});this.attr(f,e)},path:function(a,b){var c=this.shape("path");return c.setAttribute("d",a),b&&this.attr(c,b),c},rect:function(b,c,d,e,f){b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c),d=a.jqx._rup(d),e=a.jqx._rup(e);var g=this.shape("rect",{x:b,y:c,width:d,height:e});return f&&this.attr(g,f),g},circle:function(a,b,c){return this.shape("circle",{cx:a,cy:b,r:c})},pieSlicePath:function(b,c,d,e,f,g,h){return a.jqx.commonRenderer.pieSlicePath(b,c,d,e,f,g,h)},pieslice:function(a,b,c,d,e,f,g,h){var i=this.pieSlicePath(a,b,c,d,e,f,g),j=this.shape("path");return j.setAttribute("d",i),h&&this.attr(j,h),j},attr:function(a,b){if(a&&b)for(var c in b)a.setAttribute(c,b[c])},getAttr:function(a,b){return a.getAttribute(b)},_gradients:{},_toLinearGradient:function(b,c,d){var e="grd"+b.replace("#","")+(c?"v":"h"),f="url(#"+e+")";if(this._gradients[f])return f;var g=document.createElementNS(this._svgns,"linearGradient");this.attr(g,{x1:"0%",y1:"0%",x2:c?"0%":"100%",y2:c?"100%":"0%",id:e});for(var h in d){var i=document.createElementNS(this._svgns,"stop"),j="stop-color:"+a.jqx._adjustColor(b,d[h][1]);this.attr(i,{offset:d[h][0]+"%",style:j}),g.appendChild(i)}return this._defs.appendChild(g),this._gradients[f]=!0,f},_toRadialGradient:function(b,c,d){var e="grd"+b.replace("#","")+"r"+(void 0!=d?d.key:""),f="url(#"+e+")";if(this._gradients[f])return f;var g=document.createElementNS(this._svgns,"radialGradient");void 0==d?this.attr(g,{cx:"50%",cy:"50%",r:"100%",fx:"50%",fy:"50%",id:e}):this.attr(g,{cx:d.x1,cy:d.y1,r:d.outerRadius,id:e,gradientUnits:"userSpaceOnUse"});
for(var h in c){var i=document.createElementNS(this._svgns,"stop"),j="stop-color:"+a.jqx._adjustColor(b,c[h][1]);this.attr(i,{offset:c[h][0]+"%",style:j}),g.appendChild(i)}return this._defs.appendChild(g),this._gradients[f]=!0,f}},a.jqx.vmlRenderer=function(){},a.jqx.vmlRenderer.prototype={init:function(b){var c="<div class='chartContainer' style=\"position:relative;overflow:hidden;\"><div>";b.append(c),this.host=b;var d=b.find(".chartContainer");d[0].style.width=b.width()+"px",d[0].style.height=b.height()+"px";var e=!0;try{for(var f=0;f<document.namespaces.length;f++)if("v"==document.namespaces[f].name&&"urn:schemas-microsoft-com:vml"==document.namespaces[f].urn){e=!1;break}}catch(g){return!1}return a.jqx.browser.msie&&parseInt(a.jqx.browser.version)<9&&document.childNodes&&document.childNodes.length>0&&document.childNodes[0].data&&-1!=document.childNodes[0].data.indexOf("DOCTYPE")?(e&&document.namespaces.add("v","urn:schemas-microsoft-com:vml"),this._ie8mode=!0):e&&(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:* { behavior: url(#default#VML); display: inline-block; }"),this.canvas=d[0],this._width=Math.max(a.jqx._rup(d.width()),0),this._height=Math.max(a.jqx._rup(d.height()),0),d[0].style.width=this._width+2,d[0].style.height=this._height+2,this._id=(new Date).getTime(),this.clear(),!0},getRect:function(){return{x:0,y:0,width:this._width,height:this._height}},getContainer:function(){var a=this.host.find(".chartContainer");return a},clear:function(){for(;this.canvas.childElementCount>0;)this.canvas.removeChild(this.canvas.firstElementChild);this._gradients={}},removeElement:function(a){null!=a&&a.parentNode.removeChild(a)},_openGroups:[],beginGroup:function(){var a=this._activeParent(),b=document.createElement("v:group");return b.style.position="absolute",b.coordorigin="0,0",b.coordsize=this._width+","+this._height,b.style.left=0,b.style.top=0,b.style.width=this._width,b.style.height=this._height,a.appendChild(b),this._openGroups.push(b),b},endGroup:function(){0!=this._openGroups.length&&this._openGroups.pop()},_activeParent:function(){return 0==this._openGroups.length?this.canvas:this._openGroups[this._openGroups.length-1]},createClipRect:function(a){var b=document.createElement("div");return b.style.height=a.height+"px",b.style.width=a.width+"px",b.style.position="absolute",b.style.left=a.x+"px",b.style.top=a.y+"px",b.style.overflow="hidden",this._clipId=this._clipId||0,b.id="cl"+this._id+"_"+(++this._clipId).toString(),this._activeParent().appendChild(b),b},setClip:function(a,b){b.appendChild(a)},_clipId:0,addHandler:function(b,c,d){a(b).bind(c,d)},measureText:function(b,c,d){var e=document.createElement("v:textbox"),f=document.createElement("span");f.appendChild(document.createTextNode(b)),e.appendChild(f),d["class"]&&(f.className=d["class"]);var g=this._activeParent();g.appendChild(e);var h=a(e),i=a.jqx._rup(h.width()),j=a.jqx._rup(h.height());if(g.removeChild(e),0==j&&a.jqx.browser.msie&&parseInt(a.jqx.browser.version)<9){var k=h.css("font-size");k&&(j=parseInt(k),isNaN(j)&&(j=0))}if(0==c)return{width:i,height:j};var l=2*c*Math.PI/360,m=Math.abs(Math.sin(l)),n=Math.abs(Math.cos(l)),o=Math.abs(i*m+j*n),p=Math.abs(i*n+j*m);return{width:a.jqx._rup(p),height:a.jqx._rup(o)}},text:function(b,c,d,e,f,g,h,i,j,k){h.stroke||"black";var l;if(j||(j="center"),k||(k="center"),i=!1){l=this.beginGroup();var m=this.createClipRect({x:a.jqx._rup(c),y:a.jqx._rup(d),width:a.jqx._rup(e),height:a.jqx._rup(f)});this.setClip(l,m)}var n=document.createElement("v:textbox");n.style.position="absolute";var o=document.createElement("span");o.appendChild(document.createTextNode(b)),h["class"]&&(o.className=h["class"]),n.appendChild(o);var p=this._activeParent();p.appendChild(n);var q=a(n).width(),r=a(n).height();p.removeChild(n);var s=e||0,t=f||0;if(!g||0==g||90!=Math.abs(g))return"center"==j?c+=(s-q)/2:"right"==j&&(c+=s-q),"center"==k?d+=(t-r)/2:"bottom"==k&&(d=d+t-r),e||(e=q),f||(f=r),l||(n.style.left=a.jqx._rup(c),n.style.top=a.jqx._rup(d),n.style.width=a.jqx._rup(e),n.style.height=a.jqx._rup(f)),p.appendChild(n),l?(this.endGroup(),p):n;var u=2*g*Math.PI/360,v=Math.abs(q*Math.sin(u)-r*Math.cos(u)),w=Math.abs(q*Math.cos(u)+r*Math.sin(u));return"center"==j?c+=(s-w)/2:"right"==j&&(c+=s-w),"center"==k?d+=(t-v)/2:"bottom"==k&&(d=d+t-v),c=a.jqx._rup(c),d=a.jqx._rup(d),a.jqx._rup(c+w),a.jqx._rup(d+v),90==Math.abs(g)?(p.appendChild(n),n.style.left=a.jqx._rup(c),n.style.top=a.jqx._rup(d),n.style.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",l?(this.endGroup(),p):n):n},shape:function(a,b){var c=document.createElement(this._createElementMarkup(a));if(!c)return void 0;for(var d in b)c.setAttribute(d,b[d]);return this._activeParent().appendChild(c),c},line:function(a,b,c,d,e){var f="M "+a+","+b+" L "+c+","+d+" X E",g=this.path(f);return this.attr(g,e),g},_createElementMarkup:function(a){var b="<v:"+a+' style=""></v:'+a+">";return this._ie8mode&&(b=b.replace('style=""','style="behavior: url(#default#VML);"')),b},path:function(a,b){var c=document.createElement(this._createElementMarkup("shape"));c.style.position="absolute",c.coordsize=this._width+" "+this._height,c.coordorigin="0 0",c.style.width=parseInt(this._width),c.style.height=parseInt(this._height),c.style.left=0,c.style.top=0;var d=document.createElement(this._createElementMarkup("path"));return d.v=a,c.appendChild(d),this._activeParent().appendChild(c),b&&this.attr(c,b),c},rect:function(b,c,d,e,f){b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c),d=a.jqx._rup(d),e=a.jqx._rup(e);var g=this.shape("rect",f);return g.style.position="absolute",g.style.left=b,g.style.top=c,g.style.width=d,g.style.height=e,g.strokeweight=0,g},circle:function(b,c,d){var e=this.shape("oval");return b=a.jqx._ptrnd(b-d),c=a.jqx._ptrnd(c-d),d=a.jqx._rup(d),e.style.position="absolute",e.style.left=b,e.style.top=c,e.style.width=2*d,e.style.height=2*d,e},updateCircle:function(b,c,d,e){void 0==c&&(c=parseFloat(b.style.left)+parseFloat(b.style.width)/2),void 0==d&&(d=parseFloat(b.style.top)+parseFloat(b.style.height)/2),void 0==e&&(e=parseFloat(b.width)/2),c=a.jqx._ptrnd(c-e),d=a.jqx._ptrnd(d-e),e=a.jqx._rup(e),b.style.left=c,b.style.top=d,b.style.width=2*e,b.style.height=2*e},pieSlicePath:function(b,c,d,e,f,g,h){e||(e=1);var i=Math.abs(f-g);i>360&&(f=0,g=360);var j=2*f*Math.PI/360,k=2*g*Math.PI/360,l=b,m=b,n=c,o=c,p=!isNaN(d)&&d>0;if(p&&(h=0),h>0){var q=i/2+f,r=2*q*Math.PI/360;b+=h*Math.cos(r),c-=h*Math.sin(r)}if(p){var s=d;l=a.jqx._ptrnd(b+s*Math.cos(j)),n=a.jqx._ptrnd(c-s*Math.sin(j)),m=a.jqx._ptrnd(b+s*Math.cos(k)),o=a.jqx._ptrnd(c-s*Math.sin(k))}a.jqx._ptrnd(b+e*Math.cos(j));var t=a.jqx._ptrnd(b+e*Math.cos(k));a.jqx._ptrnd(c-e*Math.sin(j));var u=a.jqx._ptrnd(c-e*Math.sin(k));e=a.jqx._ptrnd(e),d=a.jqx._ptrnd(d),b=a.jqx._ptrnd(b),c=a.jqx._ptrnd(c);var v=Math.round(65535*f),w=65536*Math.round(g-f),x="";return p?(x="M"+l+" "+n,x+=" AE "+b+" "+c+" "+d+" "+d+" "+v+" "+w,x+=" L "+t+" "+u,v=65535*Math.round(f-g),w=65536*Math.round(g),x+=" AE "+b+" "+c+" "+e+" "+e+" "+w+" "+v,x+=" L "+l+" "+n):(x="M"+b+" "+c,x+=" AE "+b+" "+c+" "+e+" "+e+" "+v+" "+w),x+=" X E"},pieslice:function(a,b,c,d,e,f,g,h){var i=this.pieSlicePath(a,b,c,d,e,f,g),j=this.path(i,h);return h&&this.attr(j,h),j},_keymap:[{svg:"fill",vml:"fillcolor"},{svg:"stroke",vml:"strokecolor"},{svg:"stroke-width",vml:"strokeweight"},{svg:"fill-opacity",vml:"fillopacity"},{svg:"opacity",vml:"opacity"},{svg:"cx",vml:"style.left"},{svg:"cy",vml:"style.top"},{svg:"height",vml:"style.height"},{svg:"width",vml:"style.width"},{svg:"x",vml:"style.left"},{svg:"y",vml:"style.top"},{svg:"d",vml:"v"}],_translateParam:function(a){for(var b in this._keymap)if(this._keymap[b].svg==a)return this._keymap[b].vml;return a},attr:function(a,b){if(a&&b)for(var c in b){var d=this._translateParam(c);"fillcolor"==d&&-1!=b[c].indexOf("grd")?a.type=b[c]:"opacity"==d||"fillopacity"==d?a.fill&&(a.fill.opacity=b[c]):-1==d.indexOf("style.")?a[d]=b[c]:a.style[d.replace("style.","")]=b[c]}},getAttr:function(a,b){var c=this._translateParam(b);return"opacity"==c||"fillopacity"==c?a.fill?a.fill.opacity:1:-1==c.indexOf("style.")?a[c]:a.style[c.replace("style.","")]},_gradients:{},_toRadialGradient:function(a){return a},_toLinearGradient:function(b,c,d){if(this._ie8mode)return b;var e="grd"+b.replace("#","")+(c?"v":"h"),f="#"+e;if(this._gradients[f])return f;var g=document.createElement(this._createElementMarkup("fill"));g.type="gradient",g.method="linear",g.angle=c?0:90;var h="";for(var i in d)i>0&&(h+=", "),h+=d[i][0]+"% "+a.jqx._adjustColor(b,d[i][1]);g.colors=h;var j=document.createElement(this._createElementMarkup("shapetype"));return j.appendChild(g),j.id=e,this.canvas.appendChild(j),f}},a.jqx.HTML5Renderer=function(){},a.jqx.ptrnd=function(a){if(.5==Math.abs(Math.round(a)-a))return a;var b=Math.round(a);return a>b&&(b-=1),b+.5},a.jqx.HTML5Renderer.prototype={_elements:{},init:function(a){try{this.host=a,this.host.append("<canvas id='__jqxCanvasWrap' style='width:100%; height: 100%;'/>"),this.canvas=a.find("#__jqxCanvasWrap"),this.canvas[0].width=a.width(),this.canvas[0].height=a.height(),this.ctx=this.canvas[0].getContext("2d")}catch(b){return!1}return!0},getContainer:function(){return this.canvas&&1==this.canvas.length?this.canvas:void 0},getRect:function(){return{x:0,y:0,width:this.canvas[0].width-1,height:this.canvas[0].height-1}},beginGroup:function(){},endGroup:function(){},setClip:function(){},createClipRect:function(){},addHandler:function(){},clear:function(){this._elements={},this._maxId=0,this._renderers._gradients={},this._gradientId=0},removeElement:function(a){this._elements[a.id]&&delete this._elements[id]},_maxId:0,shape:function(a,b){var c={type:a,id:this._maxId++};for(var d in b)c[d]=b[d];return this._elements[c.id]=c,c},attr:function(a,b){for(var c in b)a[c]=b[c]},rect:function(a,b,c,d,e){if(isNaN(a))throw'Invalid value for "x"';if(isNaN(b))throw'Invalid value for "y"';if(isNaN(c))throw'Invalid value for "width"';if(isNaN(d))throw'Invalid value for "height"';var f=this.shape("rect",{x:a,y:b,width:c,height:d});return e&&this.attr(f,e),f},path:function(a,b){var c=this.shape("path",b);return this.attr(c,{d:a}),c},line:function(a,b,c,d,e){return this.path("M "+a+","+b+" L "+c+","+d,e)},circle:function(a,b,c,d){var e=this.shape("circle",{x:a,y:b,r:c});return d&&this.attr(e,d),e},pieSlicePath:function(b,c,d,e,f,g,h){return a.jqx.commonRenderer.pieSlicePath(b,c,d,e,f,g,h)},pieslice:function(a,b,c,d,e,f,g,h){var i=this.path(this.pieSlicePath(a,b,c,d,e,f,g),h);return this.attr(i,{x:a,y:b,innerRadius:c,outerRadius:d,angleFrom:e,angleTo:f}),i},_getCSSStyle:function(a){var b=document.styleSheets;try{for(var c=0;c<b.length;c++)for(var d=0;b[c].cssRules&&d<b[c].cssRules.length;d++)if(-1!=b[c].cssRules[d].selectorText.indexOf(a))return b[c].cssRules[d].style}catch(e){}return{}},measureText:function(b,c,d){var e="Arial",f="10pt",g="";if(d["class"]){var h=this._getCSSStyle(d["class"]);h.fontSize&&(f=h.fontSize),h.fontFamily&&(e=h.fontFamily),h.fontWeight&&(g=h.fontWeight)}this.ctx.font=g+" "+f+" "+e;var i=this.ctx.measureText(b).width,j=document.createElement("span");j.font=this.ctx.font,j.textContent=b,document.body.appendChild(j);var k=.6*j.offsetHeight;if(document.body.removeChild(j),0==c)return{width:i,height:k};var l=2*c*Math.PI/360,m=Math.abs(Math.sin(l)),n=Math.abs(Math.cos(l)),o=Math.abs(i*m+k*n),p=Math.abs(i*n+k*m);return{width:a.jqx._rup(p),height:a.jqx._rup(o)}},text:function(a,b,c,d,e,f,g,h,i,j){var k=this.shape("text",{text:a,x:b,y:c,width:d,height:e,angle:f,clip:h,halign:i,valign:j});if(g&&this.attr(k,g),k.fontFamily="Arial",k.fontSize="10pt",k.fontWeight="",k.color="#000000",g["class"]){var l=this._getCSSStyle(g["class"]);k.fontFamily=l.fontFamily||k.fontFamily,k.fontSize=l.fontSize||k.fontSize,k.fontWeight=l.fontWeight||k.fontWeight,k.color=l.color||k.color}var m=this.measureText(a,0,g);return k.textWidth=m.width,k.textHeight=m.height,k},_toLinearGradient:function(b,c,d){if(this._renderers._gradients[b])return b;for(var e=[],f=0;f<d.length;f++)e.push({percent:d[f][0]/100,color:a.jqx._adjustColor(b,d[f][1])});var g="gr"+this._gradientId++;return this.createGradient(g,c?"vertical":"horizontal",e),g},_toRadialGradient:function(b,c){if(this._renderers._gradients[b])return b;for(var d=[],e=0;e<c.length;e++)d.push({percent:c[e][0]/100,color:a.jqx._adjustColor(b,c[e][1])});var f="gr"+this._gradientId++;return this.createGradient(f,"radial",d),f},_gradientId:0,createGradient:function(a,b,c){this._renderers.createGradient(a,b,c)},_renderers:{_gradients:{},createGradient:function(a,b,c){this._gradients[a]={orientation:b,colorStops:c}},setStroke:function(a,b){a.strokeStyle=b.stroke||"transparent",a.lineWidth=b["stroke-width"]||1},setFillStyle:function(b,c){if(b.fillStyle="transparent",b.globalAlpha=c["fill-opacity"]?c["fill-opacity"]:1,c.fill&&-1==c.fill.indexOf("#")&&this._gradients[c.fill]){var d,e="horizontal"!=this._gradients[c.fill].orientation,f="radial"==this._gradients[c.fill].orientation,g=a.jqx.ptrnd(c.x),h=a.jqx.ptrnd(c.y),i=a.jqx.ptrnd(c.x+(e?0:c.width)),j=a.jqx.ptrnd(c.y+(e?c.height:0));"circle"!=c.type&&"path"!=c.type||!f||(x=a.jqx.ptrnd(c.x),y=a.jqx.ptrnd(c.y),r1=c.innerRadius||0,r2=c.outerRadius||c.r||0,d=b.createRadialGradient(x,y,r1,x,y,r2)),f||((isNaN(g)||isNaN(i)||isNaN(h)||isNaN(j))&&(g=0,h=0,i=e?0:b.canvas.width,j=e?b.canvas.height:0),d=b.createLinearGradient(g,h,i,j));for(var k=this._gradients[c.fill].colorStops,l=0;l<k.length;l++)d.addColorStop(k[l].percent,k[l].color);b.fillStyle=d}else c.fill&&(b.fillStyle=c.fill)},rect:function(b,c){b.fillRect(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.width,c.height),b.strokeRect(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.width,c.height)},circle:function(b,c){0!=c.r&&(b.beginPath(),b.arc(a.jqx.ptrnd(c.x),a.jqx.ptrnd(c.y),c.r,0,2*Math.PI,!1),b.closePath(),b.fill(),b.stroke())},_parsePoint:function(a){var b=this._parseNumber(a),c=this._parseNumber(a);return{x:b,y:c}},_parseNumber:function(a){for(var b=!1,c=this._pos;c<a.length;c++)if(a[c]>="0"&&a[c]<="9"||"."==a[c]||"-"==a[c]&&!b)b=!0;else{if(b||" "!=a[c]&&","!=a[c])break;this._pos++}var d=parseFloat(a.substring(this._pos,c));return isNaN(d)?void 0:(this._pos=c,d)},_pos:0,_cmds:"mlcaz",_lastCmd:"",_isRelativeCmd:function(b){return a.jqx.string.contains(this._cmds,b)},_parseCmd:function(b){for(var c=this._pos;c<b.length;c++){if(a.jqx.string.containsIgnoreCase(this._cmds,b[c]))return this._pos=c+1,this._lastCmd=b[c],this._lastCmd;if(" "!=b[c]){if(b[c]>="0"&&b[c]<="9"){if(this._pos=c,""==this._lastCmd)break;return this._lastCmd}}else this._pos++}return void 0},_toAbsolutePoint:function(a){return{x:this._currentPoint.x+a.x,y:this._currentPoint.y+a.y}},_currentPoint:{x:0,y:0},path:function(a,b){var c=b.d;this._pos=0,this._lastCmd="";var d=void 0;for(this._currentPoint={x:0,y:0},a.beginPath();this._pos<c.length;){var e=this._parseCmd(c);if(void 0==e)break;if("M"!=e&&"m"!=e)if("L"!=e&&"l"!=e)if("A"!=e&&"a"!=e)if("Z"!=e&&"z"!=e||void 0==d)if("C"!=e&&"c"!=e);else{var f=this._parsePoint(c),g=this._parsePoint(c),h=this._parsePoint(c);a.bezierCurveTo(f.x,f.y,g.x,g.y,h.x,h.y),this._currentPoint=h}else a.lineTo(d.x,d.y),this._currentPoint=d;else{var i=this._parseNumber(c),j=this._parseNumber(c),k=this._parseNumber(c)*(Math.PI/180),l=this._parseNumber(c),m=this._parseNumber(c),n=this._parsePoint(c);if(this._isRelativeCmd(e)&&(n=this._toAbsolutePoint(n)),0==i||0==j)continue;var o=this._currentPoint,p={x:Math.cos(k)*(o.x-n.x)/2+Math.sin(k)*(o.y-n.y)/2,y:-Math.sin(k)*(o.x-n.x)/2+Math.cos(k)*(o.y-n.y)/2},q=Math.pow(p.x,2)/Math.pow(i,2)+Math.pow(p.y,2)/Math.pow(j,2);q>1&&(i*=Math.sqrt(q),j*=Math.sqrt(q));var r=(l==m?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(j,2)-Math.pow(i,2)*Math.pow(p.y,2)-Math.pow(j,2)*Math.pow(p.x,2))/(Math.pow(i,2)*Math.pow(p.y,2)+Math.pow(j,2)*Math.pow(p.x,2)));isNaN(r)&&(r=0);var s={x:r*i*p.y/j,y:r*-j*p.x/i},t={x:(o.x+n.x)/2+Math.cos(k)*s.x-Math.sin(k)*s.y,y:(o.y+n.y)/2+Math.sin(k)*s.x+Math.cos(k)*s.y},u=function(a){return Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))},v=function(a,b){return(a[0]*b[0]+a[1]*b[1])/(u(a)*u(b))},w=function(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(v(a,b))},x=w([1,0],[(p.x-s.x)/i,(p.y-s.y)/j]),y=[(p.x-s.x)/i,(p.y-s.y)/j],z=[(-p.x-s.x)/i,(-p.y-s.y)/j],A=w(y,z);v(y,z)<=-1&&(A=Math.PI),v(y,z)>=1&&(A=0),0==m&&A>0&&(A-=2*Math.PI),1==m&&0>A&&(A+=2*Math.PI);var v=i>j?i:j,B=i>j?1:i/j,C=i>j?j/i:1;a.translate(t.x,t.y),a.rotate(k),a.scale(B,C),a.arc(0,0,v,x,x+A,1-m),a.scale(1/B,1/C),a.rotate(-k),a.translate(-t.x,-t.y)}else{var D=this._parsePoint(c);if(void 0==D)break;a.lineTo(D.x,D.y),this._currentPoint=D}else{var D=this._parsePoint(c);if(void 0==D)break;a.moveTo(D.x,D.y),this._currentPoint=D,void 0==d&&(d=D)}}a.fill(),a.stroke(),a.closePath()},text:function(b,c){var d=a.jqx.ptrnd(c.x),e=a.jqx.ptrnd(c.y),f=a.jqx.ptrnd(c.width),g=a.jqx.ptrnd(c.height),h=c.halign,i=c.valign,j=c.angle,k=c.clip||!0;b.save(),h||(h="center"),i||(i="center"),k&&(b.rect(d-2,e-2,f+5,g+5),b.clip());var l=c.textWidth,m=c.textHeight,n=f||0,o=g||0;if(b.fillStyle=c.color,b.font=c.fontWeight+" "+c.fontSize+" "+c.fontFamily,!j||0==j)return"center"==h?d+=(n-l)/2:"right"==h&&(d+=n-l),e+=m,"center"==i?e+=(o-m)/2:"bottom"==i&&(e+=o-m),f||(f=l),g||(g=m),b.fillText(c.text,d,e),b.restore(),void 0;var p=2*j*Math.PI/360,q=Math.sin(p),r=Math.cos(p),s=m*r+l*q,t=l*r+m*q,u=e,v=d;d+=(f-t)/2,e+=(g-s)/2,e+=m*r,"left"==h?r>0?(d=v,0>q&&(d-=q*m)):(d=v-r*l,0>q&&(d-=q*m)):"right"==h&&(r>0?(d=v+f-t,0>q&&(d+=q*m)):(d=v+f,q>=0&&(d-=q*m))),"top"==i?0>q?(e=u-q*l,r>0&&(e+=r*m)):(e=u,r>0&&(e=u+m*r)):"bottom"==i&&(0>q?(e=u+g,0>=r&&(e+=m*r)):(e=u+g-l*q,0>r&&(e+=m*r))),d=a.jqx._rup(d),e=a.jqx._rup(e),b.translate(d,e),b.rotate(p),b.fillText(c.text,0,0),b.restore()}},refresh:function(){this.ctx.clearRect(0,0,this.canvas[0].width,this.canvas[0].height);for(var a in this._elements){var b=this._elements[a];this._renderers.setFillStyle(this.ctx,b),this._renderers.setStroke(this.ctx,b),this._renderers[this._elements[a].type](this.ctx,b)}}}}(jQuery),function(a){a.jqx.jqxWidget("jqxCheckBox","",{}),a.extend(a.jqx._jqxCheckBox.prototype,{defineInstance:function(){this.animationShowDelay=300,this.animationHideDelay=300,this.width=null,this.height=null,this.boxSize="13px",this.checked=!1,this.hasThreeStates=!1,this.disabled=!1,this.enableContainerClick=!0,this.locked=!1,this.groupName="",this.keyboardCheck=!0,this.enableHover=!0,this.hasInput=!0,this.events=["checked","unchecked","indeterminate","change"]},createInstance:function(){this.init=!0;var b=this;this.setSize(),this.propertyChangeMap.width=function(){b.setSize()},this.propertyChangeMap.height=function(){b.setSize()},this.checkbox=a("<div><div><span></span></div></div>"),this.host.attr("tabIndex",0),this.host.prepend(this.checkbox),this.host.append(a('<div style="clear: both;"></div>')),this.checkMark=a(this.checkbox).find("span"),this.box=a(this.checkbox).find("div"),this.box.addClass(this.toThemeProperty("jqx-checkbox-default")),this.box.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.box.addClass(this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox")),this.locked&&this.host.css("cursor","auto");var c=this.element.getAttribute("checked");("checked"==c||"true"==c||1==c)&&(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1},_addInput:function(){if(this.hasInput){var b=this.host.attr("name");b||(b=this.element.id),this.input=a("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",b),this.input.val(this.checked)}},refresh:function(a){a||(this.setSize(),this._render())},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height)},_addHandlers:function(){var b=this,c=a.jqx.mobile.isTouchDevice(),d="click";c&&(d="touchend"),this.addHandler(this.box,d,function(a){return b.disabled||b.enableContainerClick||b.locked?void 0:(b.toggle(),b.updated&&(a.owner=b,b.updated(a,b.checked,b.oldChecked)),a.preventDefault(),!1)}),this.addHandler(this.host,"keydown",function(a){return b.disabled||b.locked||!b.keyboardCheck||32!=a.keyCode?void 0:(b.toggle(),a.preventDefault(),!1)}),this.addHandler(this.host,d,function(a){return b.disabled||!b.enableContainerClick||b.locked?void 0:(b.toggle(),a.preventDefault(),!1)}),this.addHandler(this.host,"selectstart",function(a){return!b.disabled&&b.enableContainerClick?(a.preventDefault(),!1):void 0}),this.addHandler(this.host,"mouseup",function(a){!b.disabled&&b.enableContainerClick&&a.preventDefault()}),this.addHandler(this.host,"focus",function(a){return b.disabled||b.locked?void 0:(b.enableHover&&b.box.addClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.addClass(b.toThemeProperty("jqx-fill-state-focus")),a.preventDefault(),b.hovered=!0,!1)}),this.addHandler(this.host,"blur",function(a){return b.disabled||b.locked?void 0:(b.enableHover&&b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.removeClass(b.toThemeProperty("jqx-fill-state-focus")),a.preventDefault(),b.hovered=!1,!1)}),this.addHandler(this.host,"mouseenter",function(a){return b.locked&&b.host.css("cursor","arrow"),b.enableHover&&!b.disabled&&b.enableContainerClick&&!b.locked?(b.box.addClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.addClass(b.toThemeProperty("jqx-fill-state-hover")),a.preventDefault(),b.hovered=!0,!1):void 0}),this.addHandler(this.host,"mouseleave",function(a){return b.enableHover&&!b.disabled&&b.enableContainerClick&&!b.locked?(b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.removeClass(b.toThemeProperty("jqx-fill-state-hover")),a.preventDefault(),b.hovered=!1,!1):void 0}),this.addHandler(this.box,"mouseenter",function(){b.locked||b.disabled||b.enableContainerClick||(b.box.addClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.addClass(b.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.box,"mouseleave",function(){b.disabled||b.enableContainerClick||(b.box.removeClass(b.toThemeProperty("jqx-checkbox-hover")),b.box.removeClass(b.toThemeProperty("jqx-fill-state-hover")))})},_removeHandlers:function(){var b=a.jqx.mobile.isTouchDevice(),c="click";b&&(c="touchend"),this.removeHandler(this.box,c),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave"),this.removeHandler(this.host,c),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){null==this.boxSize&&(this.boxSize=13),this.box.width(this.boxSize),this.box.height(this.boxSize),this.checkMark.width(this.boxSize),this.checkMark.height(this.boxSize),this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.host.css("cursor","auto"),this.updateStates()},_setState:function(a){this.checked!=a&&(this.checked=a,this.checkMark.removeClass(),this.checked?(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",1)):null==this.checked&&(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",1)))},check:function(){this.checked=!0;var b=this;this.checkMark.removeClass(),a.jqx.browser.msie?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){}));var c=a.find(this.toThemeProperty(".jqx-checkbox",!0));null!=this.groupName&&this.groupName.length>0&&a.each(c,function(){var c=a(this).jqxCheckBox("groupName");c==b.groupName&&this!=b.element&&a(this).jqxCheckBox("uncheck")}),this._raiseEvent("0",!0),this._raiseEvent("3",{checked:!0}),void 0!=this.input&&this.input.val(this.checked)},uncheck:function(){this.checked=!1;var b=this;a.jqx.browser.msie?b.checkMark.removeClass():(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,function(){b.checkMark.removeClass()})),this._raiseEvent("1"),this._raiseEvent("3",{checked:!1}),void 0!=this.input&&this.input.val(this.checked)},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),a.jqx.browser.msie?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,function(){})),this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),void 0!=this.input&&this.input.val(this.checked)},toggle:function(){if(!this.disabled&&!this.locked){if(null!=this.groupName&&this.groupName.length>0)return 1!=this.checked&&(this.checked=!0,this.updateStates()),void 0;this.oldChecked=this.checked,this.checked=1==this.checked?this.hasThreeStates?null:!1:null!=this.checked,this.updateStates(),void 0!=this.input&&this.input.val(this.checked)}},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled"))},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1},destroy:function(){this.host.remove()},_raiseEvent:function(a,b){if(!this.init){var c=this.events[a],d=new jQuery.Event(c);d.owner=this,d.args=b;try{var e=this.host.trigger(d)}catch(f){}return e}},propertyChangedHandler:function(b,c,d,e){if(void 0!=this.isInitialized&&0!=this.isInitialized){if(c!=b.enableContainerClick||b.disabled||b.locked||(e?b.host.css("cursor","pointer"):b.host.css("cursor","auto")),"theme"==c&&a.jqx.utilities.setTheme(d,e,b.host),"checked"==c&&e!=d)switch(e){case!0:b.check();break;case!1:b.uncheck();break;case null:b.indeterminate()}"disabled"==c&&e!=d&&(e?b.disable():b.enable())}}})}(jQuery);var Mustache;!function(a){"undefined"!=typeof module&&module.exports?module.exports=a:"function"==typeof define?define(a):Mustache=a}(function(){function a(a,b){return RegExp.prototype.test.call(a,b)}function b(b){return!a(p,b)}function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function d(a){return String(a).replace(/[&<>"'\/]/g,function(a){return u[a]})}function e(a){this.string=a,this.tail=a,this.pos=0}function f(a,b){this.view=a,this.parent=b,this.clearCache()}function g(){this.clearCache()}function h(a){for(var b,c=a[3],d=c;(b=a[4])&&b.length;)a=b[b.length-1],d=a[3];return[c,d]}function i(a){function b(a,b,d){if(!c[a]){var e=i(b);c[a]=function(a,b){return e(a,b,d)}}return c[a]}var c={};return function(c,d,e){for(var f,g,i="",j=0,k=a.length;k>j;++j)switch(f=a[j],f[0]){case"#":g=e.slice.apply(e,h(f)),i+=c._section(f[1],d,g,b(j,f[4],e));break;case"^":i+=c._inverted(f[1],d,b(j,f[4],e));break;case">":i+=c._partial(f[1],d);break;case"&":i+=c._name(f[1],d);break;case"name":i+=c._escaped(f[1],d);break;case"text":i+=f[1]}return i}}function j(a){for(var b,c,d=[],e=d,f=[],g=0;g<a.length;++g)switch(b=a[g],b[0]){case"#":case"^":b[4]=[],f.push(b),e.push(b),e=b[4];break;case"/":if(0===f.length)throw new Error("Unopened section: "+b[1]);if(c=f.pop(),c[1]!==b[1])throw new Error("Unclosed section: "+c[1]);e=f.length>0?f[f.length-1][4]:d;break;default:e.push(b)}if(c=f.pop())throw new Error("Unclosed section: "+c[1]);return d}function k(a){for(var b,c,d=0;d<a.length;++d)b=a[d],c&&"text"===c[0]&&"text"===b[0]?(c[1]+=b[1],c[3]=b[3],a.splice(d--,1)):c=b}function l(a){if(2!==a.length)throw new Error("Invalid tags: "+a.join(" "));return[new RegExp(c(a[0])+"\\s*"),new RegExp("\\s*"+c(a[1]))]}var m={};m.name="mustache.js",m.version="0.7.0",m.tags=["{{","}}"],m.Scanner=e,m.Context=f,m.Writer=g;var n=/\s*/,o=/\s+/,p=/\S/,q=/\s*=/,r=/\s*\}/,s=/#|\^|\/|>|\{|&|=|!/,t=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};m.escape=d,e.prototype.eos=function(){return""===this.tail},e.prototype.scan=function(a){var b=this.tail.match(a);return b&&0===b.index?(this.tail=this.tail.substring(b[0].length),this.pos+=b[0].length,b[0]):""},e.prototype.scanUntil=function(a){var b,c=this.tail.search(a);switch(c){case-1:b=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:b="";break;default:b=this.tail.substring(0,c),this.tail=this.tail.substring(c),this.pos+=c}return b},f.make=function(a){return a instanceof f?a:new f(a)},f.prototype.clearCache=function(){this._cache={}},f.prototype.push=function(a){return new f(a,this)},f.prototype.lookup=function(a){var b=this._cache[a];if(!b){if("."===a)b=this.view;else for(var c=this;c;){if(a.indexOf(".")>0){var d=a.split("."),e=0;for(b=c.view;b&&e<d.length;)b=b[d[e++]]}else b=c.view[a];if(null!=b)break;c=c.parent}this._cache[a]=b}return"function"==typeof b&&(b=b.call(this.view)),b},g.prototype.clearCache=function(){this._cache={},this._partialCache={}},g.prototype.compile=function(a,b){var c=this._cache[a];if(!c){var d=m.parse(a,b);c=this._cache[a]=this.compileTokens(d,a)}return c},g.prototype.compilePartial=function(a,b,c){var d=this.compile(b,c);return this._partialCache[a]=d,d},g.prototype.compileTokens=function(a,b){var c=i(a),d=this;return function(a,e){if(e)if("function"==typeof e)d._loadPartial=e;else for(var g in e)d.compilePartial(g,e[g]);return c(d,f.make(a),b)}},g.prototype.render=function(a,b,c){return this.compile(a)(b,c)},g.prototype._section=function(a,b,c,d){var e=b.lookup(a);switch(typeof e){case"object":if(t(e)){for(var f="",g=0,h=e.length;h>g;++g)f+=d(this,b.push(e[g]));return f}return e?d(this,b.push(e)):"";case"function":var i=this,j=function(a){return i.render(a,b)};return e.call(b.view,c,j)||"";default:if(e)return d(this,b)}return""},g.prototype._inverted=function(a,b,c){var d=b.lookup(a);return!d||t(d)&&0===d.length?c(this,b):""},g.prototype._partial=function(a,b){a in this._partialCache||!this._loadPartial||this.compilePartial(a,this._loadPartial(a));var c=this._partialCache[a];return c?c(b):""},g.prototype._name=function(a,b){var c=b.lookup(a);return"function"==typeof c&&(c=c.call(b.view)),null==c?"":String(c)},g.prototype._escaped=function(a,b){return m.escape(this._name(a,b))},m.parse=function(a,d){function f(){if(x&&!y)for(;w.length;)v.splice(w.pop(),1);else w=[];x=!1,y=!1}d=d||m.tags;for(var g,h,i,p,t=l(d),u=new e(a),v=[],w=[],x=!1,y=!1;!u.eos();){if(g=u.pos,i=u.scanUntil(t[0]))for(var z=0,A=i.length;A>z;++z)p=i.charAt(z),b(p)?w.push(v.length):y=!0,v.push(["text",p,g,g+1]),g+=1,"\n"===p&&f();if(g=u.pos,!u.scan(t[0]))break;if(x=!0,h=u.scan(s)||"name",u.scan(n),"="===h)i=u.scanUntil(q),u.scan(q),u.scanUntil(t[1]);else if("{"===h){var B=new RegExp("\\s*"+c("}"+d[1]));
i=u.scanUntil(B),u.scan(r),u.scanUntil(t[1]),h="&"}else i=u.scanUntil(t[1]);if(!u.scan(t[1]))throw new Error("Unclosed tag at "+u.pos);v.push([h,i,g,u.pos]),("name"===h||"{"===h||"&"===h)&&(y=!0),"="===h&&(d=i.split(o),t=l(d))}return k(v),j(v)};var v=new g;return m.clearCache=function(){return v.clearCache()},m.compile=function(a,b){return v.compile(a,b)},m.compilePartial=function(a,b,c){return v.compilePartial(a,b,c)},m.compileTokens=function(a,b){return v.compileTokens(a,b)},m.render=function(a,b,c){return v.render(a,b,c)},m.to_html=function(a,b,c,d){var e=m.render(a,b,c);return"function"!=typeof d?e:(d(e),void 0)},m}());